var xw=t=>{throw TypeError(t)};var vp=(t,e,n)=>e.has(t)||xw("Cannot "+n);var F=(t,e,n)=>(vp(t,e,"read from private field"),n?n.call(t):e.get(t)),xe=(t,e,n)=>e.has(t)?xw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ce=(t,e,n,r)=>(vp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),St=(t,e,n)=>(vp(t,e,"access private method"),n);var Du=(t,e,n,r)=>({set _(s){ce(t,e,s,n)},get _(){return F(t,e,r)}});function nR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Sn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function IT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function rR(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var CT={exports:{}},Hh={},AT={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zc=Symbol.for("react.element"),sR=Symbol.for("react.portal"),iR=Symbol.for("react.fragment"),oR=Symbol.for("react.strict_mode"),aR=Symbol.for("react.profiler"),lR=Symbol.for("react.provider"),cR=Symbol.for("react.context"),uR=Symbol.for("react.forward_ref"),dR=Symbol.for("react.suspense"),hR=Symbol.for("react.memo"),fR=Symbol.for("react.lazy"),Sw=Symbol.iterator;function pR(t){return t===null||typeof t!="object"?null:(t=Sw&&t[Sw]||t["@@iterator"],typeof t=="function"?t:null)}var kT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PT=Object.assign,RT={};function Da(t,e,n){this.props=t,this.context=e,this.refs=RT,this.updater=n||kT}Da.prototype.isReactComponent={};Da.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Da.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function NT(){}NT.prototype=Da.prototype;function py(t,e,n){this.props=t,this.context=e,this.refs=RT,this.updater=n||kT}var my=py.prototype=new NT;my.constructor=py;PT(my,Da.prototype);my.isPureReactComponent=!0;var Iw=Array.isArray,OT=Object.prototype.hasOwnProperty,gy={current:null},DT={key:!0,ref:!0,__self:!0,__source:!0};function LT(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)OT.call(e,r)&&!DT.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:zc,type:t,key:i,ref:o,props:s,_owner:gy.current}}function mR(t,e){return{$$typeof:zc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yy(t){return typeof t=="object"&&t!==null&&t.$$typeof===zc}function gR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Cw=/\/+/g;function wp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gR(""+t.key):e.toString(36)}function wd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zc:case sR:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+wp(o,0):r,Iw(s)?(n="",t!=null&&(n=t.replace(Cw,"$&/")+"/"),wd(s,e,n,"",function(u){return u})):s!=null&&(yy(s)&&(s=mR(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Cw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Iw(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+wp(i,a);o+=wd(i,e,n,l,s)}else if(l=pR(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+wp(i,a++),o+=wd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Lu(t,e,n){if(t==null)return t;var r=[],s=0;return wd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function yR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bt={current:null},_d={transition:null},vR={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:_d,ReactCurrentOwner:gy};function MT(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:Lu,forEach:function(t,e,n){Lu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Lu(t,function(){e++}),e},toArray:function(t){return Lu(t,function(e){return e})||[]},only:function(t){if(!yy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=Da;me.Fragment=iR;me.Profiler=aR;me.PureComponent=py;me.StrictMode=oR;me.Suspense=dR;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vR;me.act=MT;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=PT({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=gy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)OT.call(e,l)&&!DT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:zc,type:t.type,key:s,ref:i,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:cR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lR,_context:t},t.Consumer=t};me.createElement=LT;me.createFactory=function(t){var e=LT.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:uR,render:t}};me.isValidElement=yy;me.lazy=function(t){return{$$typeof:fR,_payload:{_status:-1,_result:t},_init:yR}};me.memo=function(t,e){return{$$typeof:hR,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=_d.transition;_d.transition={};try{t()}finally{_d.transition=e}};me.unstable_act=MT;me.useCallback=function(t,e){return Bt.current.useCallback(t,e)};me.useContext=function(t){return Bt.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Bt.current.useDeferredValue(t)};me.useEffect=function(t,e){return Bt.current.useEffect(t,e)};me.useId=function(){return Bt.current.useId()};me.useImperativeHandle=function(t,e,n){return Bt.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Bt.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Bt.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Bt.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Bt.current.useReducer(t,e,n)};me.useRef=function(t){return Bt.current.useRef(t)};me.useState=function(t){return Bt.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Bt.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Bt.current.useTransition()};me.version="18.3.1";AT.exports=me;var x=AT.exports;const H=IT(x),vy=nR({__proto__:null,default:H},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wR=x,_R=Symbol.for("react.element"),ER=Symbol.for("react.fragment"),bR=Object.prototype.hasOwnProperty,TR=wR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xR={key:!0,ref:!0,__self:!0,__source:!0};function jT(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)bR.call(e,r)&&!xR.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:_R,type:t,key:i,ref:o,props:s,_owner:TR.current}}Hh.Fragment=ER;Hh.jsx=jT;Hh.jsxs=jT;CT.exports=Hh;var g=CT.exports,VT={exports:{}},pn={},FT={exports:{}},UT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,B){var G=V.length;V.push(B);e:for(;0<G;){var ae=G-1>>>1,J=V[ae];if(0<s(J,B))V[ae]=B,V[G]=J,G=ae;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var B=V[0],G=V.pop();if(G!==B){V[0]=G;e:for(var ae=0,J=V.length,Z=J>>>1;ae<Z;){var fe=2*(ae+1)-1,Ne=V[fe],at=fe+1,ve=V[at];if(0>s(Ne,G))at<J&&0>s(ve,Ne)?(V[ae]=ve,V[at]=G,ae=at):(V[ae]=Ne,V[fe]=G,ae=fe);else if(at<J&&0>s(ve,G))V[ae]=ve,V[at]=G,ae=at;else break e}}return B}function s(V,B){var G=V.sortIndex-B.sortIndex;return G!==0?G:V.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,T=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=V)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function C(V){if(w=!1,b(V),!T)if(n(l)!==null)T=!0,X(D);else{var B=n(u);B!==null&&re(C,B.startTime-V)}}function D(V,B){T=!1,w&&(w=!1,_(S),S=-1),m=!0;var G=f;try{for(b(B),h=n(l);h!==null&&(!(h.expirationTime>B)||V&&!N());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,f=h.priorityLevel;var J=ae(h.expirationTime<=B);B=t.unstable_now(),typeof J=="function"?h.callback=J:h===n(l)&&r(l),b(B)}else r(l);h=n(l)}if(h!==null)var Z=!0;else{var fe=n(u);fe!==null&&re(C,fe.startTime-B),Z=!1}return Z}finally{h=null,f=G,m=!1}}var L=!1,I=null,S=-1,k=5,P=-1;function N(){return!(t.unstable_now()-P<k)}function O(){if(I!==null){var V=t.unstable_now();P=V;var B=!0;try{B=I(!0,V)}finally{B?R():(L=!1,I=null)}}else L=!1}var R;if(typeof y=="function")R=function(){y(O)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,oe=W.port2;W.port1.onmessage=O,R=function(){oe.postMessage(null)}}else R=function(){E(O,0)};function X(V){I=V,L||(L=!0,R())}function re(V,B){S=E(function(){V(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){T||m||(T=!0,X(D))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var G=f;f=B;try{return V()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,B){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var G=f;f=V;try{return B()}finally{f=G}},t.unstable_scheduleCallback=function(V,B,G){var ae=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ae+G:ae):G=ae,V){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=G+J,V={id:d++,callback:B,priorityLevel:V,startTime:G,expirationTime:J,sortIndex:-1},G>ae?(V.sortIndex=G,e(u,V),n(l)===null&&V===n(u)&&(w?(_(S),S=-1):w=!0,re(C,G-ae))):(V.sortIndex=J,e(l,V),T||m||(T=!0,X(D))),V},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(V){var B=f;return function(){var G=f;f=B;try{return V.apply(this,arguments)}finally{f=G}}}})(UT);FT.exports=UT;var SR=FT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IR=x,fn=SR;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $T=new Set,sc={};function io(t,e){ga(t,e),ga(t+"Capture",e)}function ga(t,e){for(sc[t]=e,t=0;t<e.length;t++)$T.add(e[t])}var Ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xm=Object.prototype.hasOwnProperty,CR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Aw={},kw={};function AR(t){return xm.call(kw,t)?!0:xm.call(Aw,t)?!1:CR.test(t)?kw[t]=!0:(Aw[t]=!0,!1)}function kR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PR(t,e,n,r){if(e===null||typeof e>"u"||kR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Et[t]=new zt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Et[e]=new zt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Et[t]=new zt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Et[t]=new zt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Et[t]=new zt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Et[t]=new zt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Et[t]=new zt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Et[t]=new zt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Et[t]=new zt(t,5,!1,t.toLowerCase(),null,!1,!1)});var wy=/[\-:]([a-z])/g;function _y(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wy,_y);Et[e]=new zt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wy,_y);Et[e]=new zt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wy,_y);Et[e]=new zt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Et[t]=new zt(t,1,!1,t.toLowerCase(),null,!1,!1)});Et.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Et[t]=new zt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ey(t,e,n,r){var s=Et.hasOwnProperty(e)?Et[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PR(e,n,s,r)&&(n=null),r||s===null?AR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Jr=IR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mu=Symbol.for("react.element"),Do=Symbol.for("react.portal"),Lo=Symbol.for("react.fragment"),by=Symbol.for("react.strict_mode"),Sm=Symbol.for("react.profiler"),BT=Symbol.for("react.provider"),zT=Symbol.for("react.context"),Ty=Symbol.for("react.forward_ref"),Im=Symbol.for("react.suspense"),Cm=Symbol.for("react.suspense_list"),xy=Symbol.for("react.memo"),gs=Symbol.for("react.lazy"),HT=Symbol.for("react.offscreen"),Pw=Symbol.iterator;function pl(t){return t===null||typeof t!="object"?null:(t=Pw&&t[Pw]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,_p;function Il(t){if(_p===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_p=e&&e[1]||""}return`
`+_p+t}var Ep=!1;function bp(t,e){if(!t||Ep)return"";Ep=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ep=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Il(t):""}function RR(t){switch(t.tag){case 5:return Il(t.type);case 16:return Il("Lazy");case 13:return Il("Suspense");case 19:return Il("SuspenseList");case 0:case 2:case 15:return t=bp(t.type,!1),t;case 11:return t=bp(t.type.render,!1),t;case 1:return t=bp(t.type,!0),t;default:return""}}function Am(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Lo:return"Fragment";case Do:return"Portal";case Sm:return"Profiler";case by:return"StrictMode";case Im:return"Suspense";case Cm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zT:return(t.displayName||"Context")+".Consumer";case BT:return(t._context.displayName||"Context")+".Provider";case Ty:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xy:return e=t.displayName||null,e!==null?e:Am(t.type)||"Memo";case gs:e=t._payload,t=t._init;try{return Am(t(e))}catch{}}return null}function NR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Am(e);case 8:return e===by?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function WT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OR(t){var e=WT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ju(t){t._valueTracker||(t._valueTracker=OR(t))}function qT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=WT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function km(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Rw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function GT(t,e){e=e.checked,e!=null&&Ey(t,"checked",e,!1)}function Pm(t,e){GT(t,e);var n=Qs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rm(t,e.type,Qs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Nw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rm(t,e,n){(e!=="number"||qd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Cl=Array.isArray;function Go(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Nm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ow(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Cl(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qs(n)}}function KT(t,e){var n=Qs(e.value),r=Qs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Dw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function QT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Om(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?QT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vu,YT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vu=Vu||document.createElement("div"),Vu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ic(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DR=["Webkit","ms","Moz","O"];Object.keys(jl).forEach(function(t){DR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jl[e]=jl[t]})});function JT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||jl.hasOwnProperty(t)&&jl[t]?(""+e).trim():e+"px"}function XT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=JT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var LR=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dm(t,e){if(e){if(LR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Lm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mm=null;function Sy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jm=null,Ko=null,Qo=null;function Lw(t){if(t=qc(t)){if(typeof jm!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Qh(e),jm(t.stateNode,t.type,e))}}function ZT(t){Ko?Qo?Qo.push(t):Qo=[t]:Ko=t}function ex(){if(Ko){var t=Ko,e=Qo;if(Qo=Ko=null,Lw(t),e)for(t=0;t<e.length;t++)Lw(e[t])}}function tx(t,e){return t(e)}function nx(){}var Tp=!1;function rx(t,e,n){if(Tp)return t(e,n);Tp=!0;try{return tx(t,e,n)}finally{Tp=!1,(Ko!==null||Qo!==null)&&(nx(),ex())}}function oc(t,e){var n=t.stateNode;if(n===null)return null;var r=Qh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Vm=!1;if(Ur)try{var ml={};Object.defineProperty(ml,"passive",{get:function(){Vm=!0}}),window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{Vm=!1}function MR(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Vl=!1,Gd=null,Kd=!1,Fm=null,jR={onError:function(t){Vl=!0,Gd=t}};function VR(t,e,n,r,s,i,o,a,l){Vl=!1,Gd=null,MR.apply(jR,arguments)}function FR(t,e,n,r,s,i,o,a,l){if(VR.apply(this,arguments),Vl){if(Vl){var u=Gd;Vl=!1,Gd=null}else throw Error(z(198));Kd||(Kd=!0,Fm=u)}}function oo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Mw(t){if(oo(t)!==t)throw Error(z(188))}function UR(t){var e=t.alternate;if(!e){if(e=oo(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Mw(s),t;if(i===r)return Mw(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function ix(t){return t=UR(t),t!==null?ox(t):null}function ox(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ox(t);if(e!==null)return e;t=t.sibling}return null}var ax=fn.unstable_scheduleCallback,jw=fn.unstable_cancelCallback,$R=fn.unstable_shouldYield,BR=fn.unstable_requestPaint,Je=fn.unstable_now,zR=fn.unstable_getCurrentPriorityLevel,Iy=fn.unstable_ImmediatePriority,lx=fn.unstable_UserBlockingPriority,Qd=fn.unstable_NormalPriority,HR=fn.unstable_LowPriority,cx=fn.unstable_IdlePriority,Wh=null,ur=null;function WR(t){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(Wh,t,void 0,(t.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:KR,qR=Math.log,GR=Math.LN2;function KR(t){return t>>>=0,t===0?32:31-(qR(t)/GR|0)|0}var Fu=64,Uu=4194304;function Al(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Al(a):(i&=o,i!==0&&(r=Al(i)))}else o=n&~s,o!==0?r=Al(o):i!==0&&(r=Al(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$n(e),s=1<<n,r|=t[n],e&=~s;return r}function QR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-$n(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=QR(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Um(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ux(){var t=Fu;return Fu<<=1,!(Fu&4194240)&&(Fu=64),t}function xp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$n(e),t[e]=n}function JR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-$n(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Cy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$n(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ae=0;function dx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hx,Ay,fx,px,mx,$m=!1,$u=[],Ls=null,Ms=null,js=null,ac=new Map,lc=new Map,ws=[],XR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vw(t,e){switch(t){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":ac.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lc.delete(e.pointerId)}}function gl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=qc(e),e!==null&&Ay(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ZR(t,e,n,r,s){switch(e){case"focusin":return Ls=gl(Ls,t,e,n,r,s),!0;case"dragenter":return Ms=gl(Ms,t,e,n,r,s),!0;case"mouseover":return js=gl(js,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ac.set(i,gl(ac.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,lc.set(i,gl(lc.get(i)||null,t,e,n,r,s)),!0}return!1}function gx(t){var e=Di(t.target);if(e!==null){var n=oo(e);if(n!==null){if(e=n.tag,e===13){if(e=sx(n),e!==null){t.blockedOn=e,mx(t.priority,function(){fx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ed(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mm=r,n.target.dispatchEvent(r),Mm=null}else return e=qc(n),e!==null&&Ay(e),t.blockedOn=n,!1;e.shift()}return!0}function Fw(t,e,n){Ed(t)&&n.delete(e)}function eN(){$m=!1,Ls!==null&&Ed(Ls)&&(Ls=null),Ms!==null&&Ed(Ms)&&(Ms=null),js!==null&&Ed(js)&&(js=null),ac.forEach(Fw),lc.forEach(Fw)}function yl(t,e){t.blockedOn===e&&(t.blockedOn=null,$m||($m=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,eN)))}function cc(t){function e(s){return yl(s,t)}if(0<$u.length){yl($u[0],t);for(var n=1;n<$u.length;n++){var r=$u[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ls!==null&&yl(Ls,t),Ms!==null&&yl(Ms,t),js!==null&&yl(js,t),ac.forEach(e),lc.forEach(e),n=0;n<ws.length;n++)r=ws[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ws.length&&(n=ws[0],n.blockedOn===null);)gx(n),n.blockedOn===null&&ws.shift()}var Yo=Jr.ReactCurrentBatchConfig,Jd=!0;function tN(t,e,n,r){var s=Ae,i=Yo.transition;Yo.transition=null;try{Ae=1,ky(t,e,n,r)}finally{Ae=s,Yo.transition=i}}function nN(t,e,n,r){var s=Ae,i=Yo.transition;Yo.transition=null;try{Ae=4,ky(t,e,n,r)}finally{Ae=s,Yo.transition=i}}function ky(t,e,n,r){if(Jd){var s=Bm(t,e,n,r);if(s===null)Dp(t,e,r,Xd,n),Vw(t,r);else if(ZR(s,t,e,n,r))r.stopPropagation();else if(Vw(t,r),e&4&&-1<XR.indexOf(t)){for(;s!==null;){var i=qc(s);if(i!==null&&hx(i),i=Bm(t,e,n,r),i===null&&Dp(t,e,r,Xd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Dp(t,e,r,null,n)}}var Xd=null;function Bm(t,e,n,r){if(Xd=null,t=Sy(r),t=Di(t),t!==null)if(e=oo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xd=t,null}function yx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zR()){case Iy:return 1;case lx:return 4;case Qd:case HR:return 16;case cx:return 536870912;default:return 16}default:return 16}}var Rs=null,Py=null,bd=null;function vx(){if(bd)return bd;var t,e=Py,n=e.length,r,s="value"in Rs?Rs.value:Rs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return bd=s.slice(t,1<r?1-r:void 0)}function Td(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bu(){return!0}function Uw(){return!1}function mn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Bu:Uw,this.isPropagationStopped=Uw,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bu)},persist:function(){},isPersistent:Bu}),e}var La={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ry=mn(La),Wc=He({},La,{view:0,detail:0}),rN=mn(Wc),Sp,Ip,vl,qh=He({},Wc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ny,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vl&&(vl&&t.type==="mousemove"?(Sp=t.screenX-vl.screenX,Ip=t.screenY-vl.screenY):Ip=Sp=0,vl=t),Sp)},movementY:function(t){return"movementY"in t?t.movementY:Ip}}),$w=mn(qh),sN=He({},qh,{dataTransfer:0}),iN=mn(sN),oN=He({},Wc,{relatedTarget:0}),Cp=mn(oN),aN=He({},La,{animationName:0,elapsedTime:0,pseudoElement:0}),lN=mn(aN),cN=He({},La,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uN=mn(cN),dN=He({},La,{data:0}),Bw=mn(dN),hN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pN[t])?!!e[t]:!1}function Ny(){return mN}var gN=He({},Wc,{key:function(t){if(t.key){var e=hN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Td(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ny,charCode:function(t){return t.type==="keypress"?Td(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Td(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yN=mn(gN),vN=He({},qh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zw=mn(vN),wN=He({},Wc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ny}),_N=mn(wN),EN=He({},La,{propertyName:0,elapsedTime:0,pseudoElement:0}),bN=mn(EN),TN=He({},qh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xN=mn(TN),SN=[9,13,27,32],Oy=Ur&&"CompositionEvent"in window,Fl=null;Ur&&"documentMode"in document&&(Fl=document.documentMode);var IN=Ur&&"TextEvent"in window&&!Fl,wx=Ur&&(!Oy||Fl&&8<Fl&&11>=Fl),Hw=" ",Ww=!1;function _x(t,e){switch(t){case"keyup":return SN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ex(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mo=!1;function CN(t,e){switch(t){case"compositionend":return Ex(e);case"keypress":return e.which!==32?null:(Ww=!0,Hw);case"textInput":return t=e.data,t===Hw&&Ww?null:t;default:return null}}function AN(t,e){if(Mo)return t==="compositionend"||!Oy&&_x(t,e)?(t=vx(),bd=Py=Rs=null,Mo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wx&&e.locale!=="ko"?null:e.data;default:return null}}var kN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kN[t.type]:e==="textarea"}function bx(t,e,n,r){ZT(r),e=Zd(e,"onChange"),0<e.length&&(n=new Ry("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ul=null,uc=null;function PN(t){Ox(t,0)}function Gh(t){var e=Fo(t);if(qT(e))return t}function RN(t,e){if(t==="change")return e}var Tx=!1;if(Ur){var Ap;if(Ur){var kp="oninput"in document;if(!kp){var Gw=document.createElement("div");Gw.setAttribute("oninput","return;"),kp=typeof Gw.oninput=="function"}Ap=kp}else Ap=!1;Tx=Ap&&(!document.documentMode||9<document.documentMode)}function Kw(){Ul&&(Ul.detachEvent("onpropertychange",xx),uc=Ul=null)}function xx(t){if(t.propertyName==="value"&&Gh(uc)){var e=[];bx(e,uc,t,Sy(t)),rx(PN,e)}}function NN(t,e,n){t==="focusin"?(Kw(),Ul=e,uc=n,Ul.attachEvent("onpropertychange",xx)):t==="focusout"&&Kw()}function ON(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gh(uc)}function DN(t,e){if(t==="click")return Gh(e)}function LN(t,e){if(t==="input"||t==="change")return Gh(e)}function MN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wn=typeof Object.is=="function"?Object.is:MN;function dc(t,e){if(Wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!xm.call(e,s)||!Wn(t[s],e[s]))return!1}return!0}function Qw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yw(t,e){var n=Qw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qw(n)}}function Sx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Sx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ix(){for(var t=window,e=qd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qd(t.document)}return e}function Dy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jN(t){var e=Ix(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Sx(n.ownerDocument.documentElement,n)){if(r!==null&&Dy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Yw(n,i);var o=Yw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var VN=Ur&&"documentMode"in document&&11>=document.documentMode,jo=null,zm=null,$l=null,Hm=!1;function Jw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hm||jo==null||jo!==qd(r)||(r=jo,"selectionStart"in r&&Dy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$l&&dc($l,r)||($l=r,r=Zd(zm,"onSelect"),0<r.length&&(e=new Ry("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=jo)))}function zu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vo={animationend:zu("Animation","AnimationEnd"),animationiteration:zu("Animation","AnimationIteration"),animationstart:zu("Animation","AnimationStart"),transitionend:zu("Transition","TransitionEnd")},Pp={},Cx={};Ur&&(Cx=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function Kh(t){if(Pp[t])return Pp[t];if(!Vo[t])return t;var e=Vo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Cx)return Pp[t]=e[n];return t}var Ax=Kh("animationend"),kx=Kh("animationiteration"),Px=Kh("animationstart"),Rx=Kh("transitionend"),Nx=new Map,Xw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oi(t,e){Nx.set(t,e),io(e,[t])}for(var Rp=0;Rp<Xw.length;Rp++){var Np=Xw[Rp],FN=Np.toLowerCase(),UN=Np[0].toUpperCase()+Np.slice(1);oi(FN,"on"+UN)}oi(Ax,"onAnimationEnd");oi(kx,"onAnimationIteration");oi(Px,"onAnimationStart");oi("dblclick","onDoubleClick");oi("focusin","onFocus");oi("focusout","onBlur");oi(Rx,"onTransitionEnd");ga("onMouseEnter",["mouseout","mouseover"]);ga("onMouseLeave",["mouseout","mouseover"]);ga("onPointerEnter",["pointerout","pointerover"]);ga("onPointerLeave",["pointerout","pointerover"]);io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));io("onBeforeInput",["compositionend","keypress","textInput","paste"]);io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$N=new Set("cancel close invalid load scroll toggle".split(" ").concat(kl));function Zw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,FR(r,e,void 0,t),t.currentTarget=null}function Ox(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Zw(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Zw(s,a,u),i=l}}}if(Kd)throw t=Fm,Kd=!1,Fm=null,t}function je(t,e){var n=e[Qm];n===void 0&&(n=e[Qm]=new Set);var r=t+"__bubble";n.has(r)||(Dx(e,t,2,!1),n.add(r))}function Op(t,e,n){var r=0;e&&(r|=4),Dx(n,t,r,e)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function hc(t){if(!t[Hu]){t[Hu]=!0,$T.forEach(function(n){n!=="selectionchange"&&($N.has(n)||Op(n,!1,t),Op(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Hu]||(e[Hu]=!0,Op("selectionchange",!1,e))}}function Dx(t,e,n,r){switch(yx(e)){case 1:var s=tN;break;case 4:s=nN;break;default:s=ky}n=s.bind(null,e,n,t),s=void 0,!Vm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Dp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Di(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}rx(function(){var u=i,d=Sy(n),h=[];e:{var f=Nx.get(t);if(f!==void 0){var m=Ry,T=t;switch(t){case"keypress":if(Td(n)===0)break e;case"keydown":case"keyup":m=yN;break;case"focusin":T="focus",m=Cp;break;case"focusout":T="blur",m=Cp;break;case"beforeblur":case"afterblur":m=Cp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=$w;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=iN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_N;break;case Ax:case kx:case Px:m=lN;break;case Rx:m=bN;break;case"scroll":m=rN;break;case"wheel":m=xN;break;case"copy":case"cut":case"paste":m=uN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=zw}var w=(e&4)!==0,E=!w&&t==="scroll",_=w?f!==null?f+"Capture":null:f;w=[];for(var y=u,b;y!==null;){b=y;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,_!==null&&(C=oc(y,_),C!=null&&w.push(fc(y,C,b)))),E)break;y=y.return}0<w.length&&(f=new m(f,T,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Mm&&(T=n.relatedTarget||n.fromElement)&&(Di(T)||T[$r]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(T=n.relatedTarget||n.toElement,m=u,T=T?Di(T):null,T!==null&&(E=oo(T),T!==E||T.tag!==5&&T.tag!==6)&&(T=null)):(m=null,T=u),m!==T)){if(w=$w,C="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=zw,C="onPointerLeave",_="onPointerEnter",y="pointer"),E=m==null?f:Fo(m),b=T==null?f:Fo(T),f=new w(C,y+"leave",m,n,d),f.target=E,f.relatedTarget=b,C=null,Di(d)===u&&(w=new w(_,y+"enter",T,n,d),w.target=b,w.relatedTarget=E,C=w),E=C,m&&T)t:{for(w=m,_=T,y=0,b=w;b;b=_o(b))y++;for(b=0,C=_;C;C=_o(C))b++;for(;0<y-b;)w=_o(w),y--;for(;0<b-y;)_=_o(_),b--;for(;y--;){if(w===_||_!==null&&w===_.alternate)break t;w=_o(w),_=_o(_)}w=null}else w=null;m!==null&&e_(h,f,m,w,!1),T!==null&&E!==null&&e_(h,E,T,w,!0)}}e:{if(f=u?Fo(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var D=RN;else if(qw(f))if(Tx)D=LN;else{D=ON;var L=NN}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=DN);if(D&&(D=D(t,u))){bx(h,D,n,d);break e}L&&L(t,f,u),t==="focusout"&&(L=f._wrapperState)&&L.controlled&&f.type==="number"&&Rm(f,"number",f.value)}switch(L=u?Fo(u):window,t){case"focusin":(qw(L)||L.contentEditable==="true")&&(jo=L,zm=u,$l=null);break;case"focusout":$l=zm=jo=null;break;case"mousedown":Hm=!0;break;case"contextmenu":case"mouseup":case"dragend":Hm=!1,Jw(h,n,d);break;case"selectionchange":if(VN)break;case"keydown":case"keyup":Jw(h,n,d)}var I;if(Oy)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Mo?_x(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(wx&&n.locale!=="ko"&&(Mo||S!=="onCompositionStart"?S==="onCompositionEnd"&&Mo&&(I=vx()):(Rs=d,Py="value"in Rs?Rs.value:Rs.textContent,Mo=!0)),L=Zd(u,S),0<L.length&&(S=new Bw(S,t,null,n,d),h.push({event:S,listeners:L}),I?S.data=I:(I=Ex(n),I!==null&&(S.data=I)))),(I=IN?CN(t,n):AN(t,n))&&(u=Zd(u,"onBeforeInput"),0<u.length&&(d=new Bw("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=I))}Ox(h,e)})}function fc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=oc(t,n),i!=null&&r.unshift(fc(t,i,s)),i=oc(t,e),i!=null&&r.push(fc(t,i,s))),t=t.return}return r}function _o(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function e_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=oc(n,i),l!=null&&o.unshift(fc(n,l,a))):s||(l=oc(n,i),l!=null&&o.push(fc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var BN=/\r\n?/g,zN=/\u0000|\uFFFD/g;function t_(t){return(typeof t=="string"?t:""+t).replace(BN,`
`).replace(zN,"")}function Wu(t,e,n){if(e=t_(e),t_(t)!==e&&n)throw Error(z(425))}function eh(){}var Wm=null,qm=null;function Gm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Km=typeof setTimeout=="function"?setTimeout:void 0,HN=typeof clearTimeout=="function"?clearTimeout:void 0,n_=typeof Promise=="function"?Promise:void 0,WN=typeof queueMicrotask=="function"?queueMicrotask:typeof n_<"u"?function(t){return n_.resolve(null).then(t).catch(qN)}:Km;function qN(t){setTimeout(function(){throw t})}function Lp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),cc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);cc(e)}function Vs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function r_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ma=Math.random().toString(36).slice(2),ar="__reactFiber$"+Ma,pc="__reactProps$"+Ma,$r="__reactContainer$"+Ma,Qm="__reactEvents$"+Ma,GN="__reactListeners$"+Ma,KN="__reactHandles$"+Ma;function Di(t){var e=t[ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$r]||n[ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=r_(t);t!==null;){if(n=t[ar])return n;t=r_(t)}return e}t=n,n=t.parentNode}return null}function qc(t){return t=t[ar]||t[$r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Qh(t){return t[pc]||null}var Ym=[],Uo=-1;function ai(t){return{current:t}}function Fe(t){0>Uo||(t.current=Ym[Uo],Ym[Uo]=null,Uo--)}function De(t,e){Uo++,Ym[Uo]=t.current,t.current=e}var Ys={},Dt=ai(Ys),Zt=ai(!1),qi=Ys;function ya(t,e){var n=t.type.contextTypes;if(!n)return Ys;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function en(t){return t=t.childContextTypes,t!=null}function th(){Fe(Zt),Fe(Dt)}function s_(t,e,n){if(Dt.current!==Ys)throw Error(z(168));De(Dt,e),De(Zt,n)}function Lx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,NR(t)||"Unknown",s));return He({},n,r)}function nh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ys,qi=Dt.current,De(Dt,t),De(Zt,Zt.current),!0}function i_(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=Lx(t,e,qi),r.__reactInternalMemoizedMergedChildContext=t,Fe(Zt),Fe(Dt),De(Dt,t)):Fe(Zt),De(Zt,n)}var Pr=null,Yh=!1,Mp=!1;function Mx(t){Pr===null?Pr=[t]:Pr.push(t)}function QN(t){Yh=!0,Mx(t)}function li(){if(!Mp&&Pr!==null){Mp=!0;var t=0,e=Ae;try{var n=Pr;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pr=null,Yh=!1}catch(s){throw Pr!==null&&(Pr=Pr.slice(t+1)),ax(Iy,li),s}finally{Ae=e,Mp=!1}}return null}var $o=[],Bo=0,rh=null,sh=0,_n=[],En=0,Gi=null,Nr=1,Or="";function Ci(t,e){$o[Bo++]=sh,$o[Bo++]=rh,rh=t,sh=e}function jx(t,e,n){_n[En++]=Nr,_n[En++]=Or,_n[En++]=Gi,Gi=t;var r=Nr;t=Or;var s=32-$n(r)-1;r&=~(1<<s),n+=1;var i=32-$n(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Nr=1<<32-$n(e)+s|n<<s|r,Or=i+t}else Nr=1<<i|n<<s|r,Or=t}function Ly(t){t.return!==null&&(Ci(t,1),jx(t,1,0))}function My(t){for(;t===rh;)rh=$o[--Bo],$o[Bo]=null,sh=$o[--Bo],$o[Bo]=null;for(;t===Gi;)Gi=_n[--En],_n[En]=null,Or=_n[--En],_n[En]=null,Nr=_n[--En],_n[En]=null}var un=null,ln=null,$e=!1,Fn=null;function Vx(t,e){var n=Tn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function o_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,un=t,ln=Vs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,un=t,ln=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Gi!==null?{id:Nr,overflow:Or}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Tn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,un=t,ln=null,!0):!1;default:return!1}}function Jm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xm(t){if($e){var e=ln;if(e){var n=e;if(!o_(t,e)){if(Jm(t))throw Error(z(418));e=Vs(n.nextSibling);var r=un;e&&o_(t,e)?Vx(r,n):(t.flags=t.flags&-4097|2,$e=!1,un=t)}}else{if(Jm(t))throw Error(z(418));t.flags=t.flags&-4097|2,$e=!1,un=t}}}function a_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;un=t}function qu(t){if(t!==un)return!1;if(!$e)return a_(t),$e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gm(t.type,t.memoizedProps)),e&&(e=ln)){if(Jm(t))throw Fx(),Error(z(418));for(;e;)Vx(t,e),e=Vs(e.nextSibling)}if(a_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ln=Vs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ln=null}}else ln=un?Vs(t.stateNode.nextSibling):null;return!0}function Fx(){for(var t=ln;t;)t=Vs(t.nextSibling)}function va(){ln=un=null,$e=!1}function jy(t){Fn===null?Fn=[t]:Fn.push(t)}var YN=Jr.ReactCurrentBatchConfig;function wl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Gu(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function l_(t){var e=t._init;return e(t._payload)}function Ux(t){function e(_,y){if(t){var b=_.deletions;b===null?(_.deletions=[y],_.flags|=16):b.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function s(_,y){return _=Bs(_,y),_.index=0,_.sibling=null,_}function i(_,y,b){return _.index=b,t?(b=_.alternate,b!==null?(b=b.index,b<y?(_.flags|=2,y):b):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,y,b,C){return y===null||y.tag!==6?(y=zp(b,_.mode,C),y.return=_,y):(y=s(y,b),y.return=_,y)}function l(_,y,b,C){var D=b.type;return D===Lo?d(_,y,b.props.children,C,b.key):y!==null&&(y.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===gs&&l_(D)===y.type)?(C=s(y,b.props),C.ref=wl(_,y,b),C.return=_,C):(C=Pd(b.type,b.key,b.props,null,_.mode,C),C.ref=wl(_,y,b),C.return=_,C)}function u(_,y,b,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Hp(b,_.mode,C),y.return=_,y):(y=s(y,b.children||[]),y.return=_,y)}function d(_,y,b,C,D){return y===null||y.tag!==7?(y=Hi(b,_.mode,C,D),y.return=_,y):(y=s(y,b),y.return=_,y)}function h(_,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=zp(""+y,_.mode,b),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Mu:return b=Pd(y.type,y.key,y.props,null,_.mode,b),b.ref=wl(_,null,y),b.return=_,b;case Do:return y=Hp(y,_.mode,b),y.return=_,y;case gs:var C=y._init;return h(_,C(y._payload),b)}if(Cl(y)||pl(y))return y=Hi(y,_.mode,b,null),y.return=_,y;Gu(_,y)}return null}function f(_,y,b,C){var D=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return D!==null?null:a(_,y,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Mu:return b.key===D?l(_,y,b,C):null;case Do:return b.key===D?u(_,y,b,C):null;case gs:return D=b._init,f(_,y,D(b._payload),C)}if(Cl(b)||pl(b))return D!==null?null:d(_,y,b,C,null);Gu(_,b)}return null}function m(_,y,b,C,D){if(typeof C=="string"&&C!==""||typeof C=="number")return _=_.get(b)||null,a(y,_,""+C,D);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Mu:return _=_.get(C.key===null?b:C.key)||null,l(y,_,C,D);case Do:return _=_.get(C.key===null?b:C.key)||null,u(y,_,C,D);case gs:var L=C._init;return m(_,y,b,L(C._payload),D)}if(Cl(C)||pl(C))return _=_.get(b)||null,d(y,_,C,D,null);Gu(y,C)}return null}function T(_,y,b,C){for(var D=null,L=null,I=y,S=y=0,k=null;I!==null&&S<b.length;S++){I.index>S?(k=I,I=null):k=I.sibling;var P=f(_,I,b[S],C);if(P===null){I===null&&(I=k);break}t&&I&&P.alternate===null&&e(_,I),y=i(P,y,S),L===null?D=P:L.sibling=P,L=P,I=k}if(S===b.length)return n(_,I),$e&&Ci(_,S),D;if(I===null){for(;S<b.length;S++)I=h(_,b[S],C),I!==null&&(y=i(I,y,S),L===null?D=I:L.sibling=I,L=I);return $e&&Ci(_,S),D}for(I=r(_,I);S<b.length;S++)k=m(I,_,S,b[S],C),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?S:k.key),y=i(k,y,S),L===null?D=k:L.sibling=k,L=k);return t&&I.forEach(function(N){return e(_,N)}),$e&&Ci(_,S),D}function w(_,y,b,C){var D=pl(b);if(typeof D!="function")throw Error(z(150));if(b=D.call(b),b==null)throw Error(z(151));for(var L=D=null,I=y,S=y=0,k=null,P=b.next();I!==null&&!P.done;S++,P=b.next()){I.index>S?(k=I,I=null):k=I.sibling;var N=f(_,I,P.value,C);if(N===null){I===null&&(I=k);break}t&&I&&N.alternate===null&&e(_,I),y=i(N,y,S),L===null?D=N:L.sibling=N,L=N,I=k}if(P.done)return n(_,I),$e&&Ci(_,S),D;if(I===null){for(;!P.done;S++,P=b.next())P=h(_,P.value,C),P!==null&&(y=i(P,y,S),L===null?D=P:L.sibling=P,L=P);return $e&&Ci(_,S),D}for(I=r(_,I);!P.done;S++,P=b.next())P=m(I,_,S,P.value,C),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?S:P.key),y=i(P,y,S),L===null?D=P:L.sibling=P,L=P);return t&&I.forEach(function(O){return e(_,O)}),$e&&Ci(_,S),D}function E(_,y,b,C){if(typeof b=="object"&&b!==null&&b.type===Lo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Mu:e:{for(var D=b.key,L=y;L!==null;){if(L.key===D){if(D=b.type,D===Lo){if(L.tag===7){n(_,L.sibling),y=s(L,b.props.children),y.return=_,_=y;break e}}else if(L.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===gs&&l_(D)===L.type){n(_,L.sibling),y=s(L,b.props),y.ref=wl(_,L,b),y.return=_,_=y;break e}n(_,L);break}else e(_,L);L=L.sibling}b.type===Lo?(y=Hi(b.props.children,_.mode,C,b.key),y.return=_,_=y):(C=Pd(b.type,b.key,b.props,null,_.mode,C),C.ref=wl(_,y,b),C.return=_,_=C)}return o(_);case Do:e:{for(L=b.key;y!==null;){if(y.key===L)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(_,y.sibling),y=s(y,b.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=Hp(b,_.mode,C),y.return=_,_=y}return o(_);case gs:return L=b._init,E(_,y,L(b._payload),C)}if(Cl(b))return T(_,y,b,C);if(pl(b))return w(_,y,b,C);Gu(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(_,y.sibling),y=s(y,b),y.return=_,_=y):(n(_,y),y=zp(b,_.mode,C),y.return=_,_=y),o(_)):n(_,y)}return E}var wa=Ux(!0),$x=Ux(!1),ih=ai(null),oh=null,zo=null,Vy=null;function Fy(){Vy=zo=oh=null}function Uy(t){var e=ih.current;Fe(ih),t._currentValue=e}function Zm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Jo(t,e){oh=t,Vy=zo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xt=!0),t.firstContext=null)}function In(t){var e=t._currentValue;if(Vy!==t)if(t={context:t,memoizedValue:e,next:null},zo===null){if(oh===null)throw Error(z(308));zo=t,oh.dependencies={lanes:0,firstContext:t}}else zo=zo.next=t;return e}var Li=null;function $y(t){Li===null?Li=[t]:Li.push(t)}function Bx(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,$y(e)):(n.next=s.next,s.next=n),e.interleaved=n,Br(t,r)}function Br(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ys=!1;function By(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Br(t,n)}return s=r.interleaved,s===null?(e.next=e,$y(r)):(e.next=s.next,s.next=e),r.interleaved=e,Br(t,n)}function xd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cy(t,n)}}function c_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ah(t,e,n,r){var s=t.updateQueue;ys=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,w=a;switch(f=e,m=n,w.tag){case 1:if(T=w.payload,typeof T=="function"){h=T.call(m,h,f);break e}h=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=w.payload,f=typeof T=="function"?T.call(m,h,f):T,f==null)break e;h=He({},h,f);break e;case 2:ys=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Qi|=o,t.lanes=o,t.memoizedState=h}}function u_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var Gc={},dr=ai(Gc),mc=ai(Gc),gc=ai(Gc);function Mi(t){if(t===Gc)throw Error(z(174));return t}function zy(t,e){switch(De(gc,e),De(mc,t),De(dr,Gc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Om(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Om(e,t)}Fe(dr),De(dr,e)}function _a(){Fe(dr),Fe(mc),Fe(gc)}function Hx(t){Mi(gc.current);var e=Mi(dr.current),n=Om(e,t.type);e!==n&&(De(mc,t),De(dr,n))}function Hy(t){mc.current===t&&(Fe(dr),Fe(mc))}var Be=ai(0);function lh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jp=[];function Wy(){for(var t=0;t<jp.length;t++)jp[t]._workInProgressVersionPrimary=null;jp.length=0}var Sd=Jr.ReactCurrentDispatcher,Vp=Jr.ReactCurrentBatchConfig,Ki=0,ze=null,tt=null,ut=null,ch=!1,Bl=!1,yc=0,JN=0;function It(){throw Error(z(321))}function qy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wn(t[n],e[n]))return!1;return!0}function Gy(t,e,n,r,s,i){if(Ki=i,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sd.current=t===null||t.memoizedState===null?tO:nO,t=n(r,s),Bl){i=0;do{if(Bl=!1,yc=0,25<=i)throw Error(z(301));i+=1,ut=tt=null,e.updateQueue=null,Sd.current=rO,t=n(r,s)}while(Bl)}if(Sd.current=uh,e=tt!==null&&tt.next!==null,Ki=0,ut=tt=ze=null,ch=!1,e)throw Error(z(300));return t}function Ky(){var t=yc!==0;return yc=0,t}function nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?ze.memoizedState=ut=t:ut=ut.next=t,ut}function Cn(){if(tt===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var e=ut===null?ze.memoizedState:ut.next;if(e!==null)ut=e,tt=t;else{if(t===null)throw Error(z(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},ut===null?ze.memoizedState=ut=t:ut=ut.next=t}return ut}function vc(t,e){return typeof e=="function"?e(t):e}function Fp(t){var e=Cn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=tt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Ki&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ze.lanes|=d,Qi|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Wn(r,e.memoizedState)||(Xt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ze.lanes|=i,Qi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Up(t){var e=Cn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Wn(i,e.memoizedState)||(Xt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Wx(){}function qx(t,e){var n=ze,r=Cn(),s=e(),i=!Wn(r.memoizedState,s);if(i&&(r.memoizedState=s,Xt=!0),r=r.queue,Qy(Qx.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,wc(9,Kx.bind(null,n,r,s,e),void 0,null),ht===null)throw Error(z(349));Ki&30||Gx(n,e,s)}return s}function Gx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Kx(t,e,n,r){e.value=n,e.getSnapshot=r,Yx(e)&&Jx(t)}function Qx(t,e,n){return n(function(){Yx(e)&&Jx(t)})}function Yx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wn(t,n)}catch{return!0}}function Jx(t){var e=Br(t,1);e!==null&&Bn(e,t,1,-1)}function d_(t){var e=nr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vc,lastRenderedState:t},e.queue=t,t=t.dispatch=eO.bind(null,ze,t),[e.memoizedState,t]}function wc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Xx(){return Cn().memoizedState}function Id(t,e,n,r){var s=nr();ze.flags|=t,s.memoizedState=wc(1|e,n,void 0,r===void 0?null:r)}function Jh(t,e,n,r){var s=Cn();r=r===void 0?null:r;var i=void 0;if(tt!==null){var o=tt.memoizedState;if(i=o.destroy,r!==null&&qy(r,o.deps)){s.memoizedState=wc(e,n,i,r);return}}ze.flags|=t,s.memoizedState=wc(1|e,n,i,r)}function h_(t,e){return Id(8390656,8,t,e)}function Qy(t,e){return Jh(2048,8,t,e)}function Zx(t,e){return Jh(4,2,t,e)}function eS(t,e){return Jh(4,4,t,e)}function tS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nS(t,e,n){return n=n!=null?n.concat([t]):null,Jh(4,4,tS.bind(null,e,t),n)}function Yy(){}function rS(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sS(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function iS(t,e,n){return Ki&21?(Wn(n,e)||(n=ux(),ze.lanes|=n,Qi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xt=!0),t.memoizedState=n)}function XN(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=Vp.transition;Vp.transition={};try{t(!1),e()}finally{Ae=n,Vp.transition=r}}function oS(){return Cn().memoizedState}function ZN(t,e,n){var r=$s(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},aS(t))lS(e,n);else if(n=Bx(t,e,n,r),n!==null){var s=$t();Bn(n,t,r,s),cS(n,e,r)}}function eO(t,e,n){var r=$s(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(aS(t))lS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Wn(a,o)){var l=e.interleaved;l===null?(s.next=s,$y(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Bx(t,e,s,r),n!==null&&(s=$t(),Bn(n,t,r,s),cS(n,e,r))}}function aS(t){var e=t.alternate;return t===ze||e!==null&&e===ze}function lS(t,e){Bl=ch=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cy(t,n)}}var uh={readContext:In,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},tO={readContext:In,useCallback:function(t,e){return nr().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:h_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Id(4194308,4,tS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Id(4194308,4,t,e)},useInsertionEffect:function(t,e){return Id(4,2,t,e)},useMemo:function(t,e){var n=nr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=nr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ZN.bind(null,ze,t),[r.memoizedState,t]},useRef:function(t){var e=nr();return t={current:t},e.memoizedState=t},useState:d_,useDebugValue:Yy,useDeferredValue:function(t){return nr().memoizedState=t},useTransition:function(){var t=d_(!1),e=t[0];return t=XN.bind(null,t[1]),nr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ze,s=nr();if($e){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),ht===null)throw Error(z(349));Ki&30||Gx(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,h_(Qx.bind(null,r,i,t),[t]),r.flags|=2048,wc(9,Kx.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=nr(),e=ht.identifierPrefix;if($e){var n=Or,r=Nr;n=(r&~(1<<32-$n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=yc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=JN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nO={readContext:In,useCallback:rS,useContext:In,useEffect:Qy,useImperativeHandle:nS,useInsertionEffect:Zx,useLayoutEffect:eS,useMemo:sS,useReducer:Fp,useRef:Xx,useState:function(){return Fp(vc)},useDebugValue:Yy,useDeferredValue:function(t){var e=Cn();return iS(e,tt.memoizedState,t)},useTransition:function(){var t=Fp(vc)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:Wx,useSyncExternalStore:qx,useId:oS,unstable_isNewReconciler:!1},rO={readContext:In,useCallback:rS,useContext:In,useEffect:Qy,useImperativeHandle:nS,useInsertionEffect:Zx,useLayoutEffect:eS,useMemo:sS,useReducer:Up,useRef:Xx,useState:function(){return Up(vc)},useDebugValue:Yy,useDeferredValue:function(t){var e=Cn();return tt===null?e.memoizedState=t:iS(e,tt.memoizedState,t)},useTransition:function(){var t=Up(vc)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:Wx,useSyncExternalStore:qx,useId:oS,unstable_isNewReconciler:!1};function On(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function eg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xh={isMounted:function(t){return(t=t._reactInternals)?oo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$t(),s=$s(t),i=jr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Fs(t,i,s),e!==null&&(Bn(e,t,s,r),xd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$t(),s=$s(t),i=jr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Fs(t,i,s),e!==null&&(Bn(e,t,s,r),xd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$t(),r=$s(t),s=jr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Fs(t,s,r),e!==null&&(Bn(e,t,r,n),xd(e,t,r))}};function f_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!dc(n,r)||!dc(s,i):!0}function uS(t,e,n){var r=!1,s=Ys,i=e.contextType;return typeof i=="object"&&i!==null?i=In(i):(s=en(e)?qi:Dt.current,r=e.contextTypes,i=(r=r!=null)?ya(t,s):Ys),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function p_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Xh.enqueueReplaceState(e,e.state,null)}function tg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},By(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=In(i):(i=en(e)?qi:Dt.current,s.context=ya(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(eg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Xh.enqueueReplaceState(s,s.state,null),ah(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ea(t,e){try{var n="",r=e;do n+=RR(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function $p(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ng(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var sO=typeof WeakMap=="function"?WeakMap:Map;function dS(t,e,n){n=jr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hh||(hh=!0,hg=r),ng(t,e)},n}function hS(t,e,n){n=jr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ng(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ng(t,e),typeof r!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function m_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new sO;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=vO.bind(null,t,e,n),e.then(t,t))}function g_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function y_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=jr(-1,1),e.tag=2,Fs(n,e,1))),n.lanes|=1),t)}var iO=Jr.ReactCurrentOwner,Xt=!1;function Ft(t,e,n,r){e.child=t===null?$x(e,null,n,r):wa(e,t.child,n,r)}function v_(t,e,n,r,s){n=n.render;var i=e.ref;return Jo(e,s),r=Gy(t,e,n,r,i,s),n=Ky(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zr(t,e,s)):($e&&n&&Ly(e),e.flags|=1,Ft(t,e,r,s),e.child)}function w_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!sv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,fS(t,e,i,r,s)):(t=Pd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:dc,n(o,r)&&t.ref===e.ref)return zr(t,e,s)}return e.flags|=1,t=Bs(i,r),t.ref=e.ref,t.return=e,e.child=t}function fS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(dc(i,r)&&t.ref===e.ref)if(Xt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Xt=!0);else return e.lanes=t.lanes,zr(t,e,s)}return rg(t,e,n,r,s)}function pS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Wo,sn),sn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(Wo,sn),sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,De(Wo,sn),sn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,De(Wo,sn),sn|=r;return Ft(t,e,s,n),e.child}function mS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rg(t,e,n,r,s){var i=en(n)?qi:Dt.current;return i=ya(e,i),Jo(e,s),n=Gy(t,e,n,r,i,s),r=Ky(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zr(t,e,s)):($e&&r&&Ly(e),e.flags|=1,Ft(t,e,n,s),e.child)}function __(t,e,n,r,s){if(en(n)){var i=!0;nh(e)}else i=!1;if(Jo(e,s),e.stateNode===null)Cd(t,e),uS(e,n,r),tg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=In(u):(u=en(n)?qi:Dt.current,u=ya(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&p_(e,o,r,u),ys=!1;var f=e.memoizedState;o.state=f,ah(e,r,o,s),l=e.memoizedState,a!==r||f!==l||Zt.current||ys?(typeof d=="function"&&(eg(e,n,d,r),l=e.memoizedState),(a=ys||f_(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,zx(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:On(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=In(l):(l=en(n)?qi:Dt.current,l=ya(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&p_(e,o,r,l),ys=!1,f=e.memoizedState,o.state=f,ah(e,r,o,s);var T=e.memoizedState;a!==h||f!==T||Zt.current||ys?(typeof m=="function"&&(eg(e,n,m,r),T=e.memoizedState),(u=ys||f_(e,n,u,r,f,T,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return sg(t,e,n,r,i,s)}function sg(t,e,n,r,s,i){mS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&i_(e,n,!1),zr(t,e,i);r=e.stateNode,iO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=wa(e,t.child,null,i),e.child=wa(e,null,a,i)):Ft(t,e,a,i),e.memoizedState=r.state,s&&i_(e,n,!0),e.child}function gS(t){var e=t.stateNode;e.pendingContext?s_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&s_(t,e.context,!1),zy(t,e.containerInfo)}function E_(t,e,n,r,s){return va(),jy(s),e.flags|=256,Ft(t,e,n,r),e.child}var ig={dehydrated:null,treeContext:null,retryLane:0};function og(t){return{baseLanes:t,cachePool:null,transitions:null}}function yS(t,e,n){var r=e.pendingProps,s=Be.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),De(Be,s&1),t===null)return Xm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=tf(o,r,0,null),t=Hi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=og(n),e.memoizedState=ig,t):Jy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return oO(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Bs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Bs(a,i):(i=Hi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?og(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ig,r}return i=t.child,t=i.sibling,r=Bs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Jy(t,e){return e=tf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ku(t,e,n,r){return r!==null&&jy(r),wa(e,t.child,null,n),t=Jy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function oO(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=$p(Error(z(422))),Ku(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=tf({mode:"visible",children:r.children},s,0,null),i=Hi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&wa(e,t.child,null,o),e.child.memoizedState=og(o),e.memoizedState=ig,i);if(!(e.mode&1))return Ku(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=$p(i,r,void 0),Ku(t,e,o,r)}if(a=(o&t.childLanes)!==0,Xt||a){if(r=ht,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Br(t,s),Bn(r,t,s,-1))}return rv(),r=$p(Error(z(421))),Ku(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=wO.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ln=Vs(s.nextSibling),un=e,$e=!0,Fn=null,t!==null&&(_n[En++]=Nr,_n[En++]=Or,_n[En++]=Gi,Nr=t.id,Or=t.overflow,Gi=e),e=Jy(e,r.children),e.flags|=4096,e)}function b_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zm(t.return,e,n)}function Bp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function vS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ft(t,e,r.children,n),r=Be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&b_(t,n,e);else if(t.tag===19)b_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(Be,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&lh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Bp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&lh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Bp(e,!0,n,null,i);break;case"together":Bp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Bs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function aO(t,e,n){switch(e.tag){case 3:gS(e),va();break;case 5:Hx(e);break;case 1:en(e.type)&&nh(e);break;case 4:zy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;De(ih,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?yS(t,e,n):(De(Be,Be.current&1),t=zr(t,e,n),t!==null?t.sibling:null);De(Be,Be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return vS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),De(Be,Be.current),r)break;return null;case 22:case 23:return e.lanes=0,pS(t,e,n)}return zr(t,e,n)}var wS,ag,_S,ES;wS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ag=function(){};_S=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Mi(dr.current);var i=null;switch(n){case"input":s=km(t,s),r=km(t,r),i=[];break;case"select":s=He({},s,{value:void 0}),r=He({},r,{value:void 0}),i=[];break;case"textarea":s=Nm(t,s),r=Nm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=eh)}Dm(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(sc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(sc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&je("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};ES=function(t,e,n,r){n!==r&&(e.flags|=4)};function _l(t,e){if(!$e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function lO(t,e,n){var r=e.pendingProps;switch(My(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(e),null;case 1:return en(e.type)&&th(),Ct(e),null;case 3:return r=e.stateNode,_a(),Fe(Zt),Fe(Dt),Wy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fn!==null&&(mg(Fn),Fn=null))),ag(t,e),Ct(e),null;case 5:Hy(e);var s=Mi(gc.current);if(n=e.type,t!==null&&e.stateNode!=null)_S(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Ct(e),null}if(t=Mi(dr.current),qu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ar]=e,r[pc]=i,t=(e.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(s=0;s<kl.length;s++)je(kl[s],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":Rw(r,i),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},je("invalid",r);break;case"textarea":Ow(r,i),je("invalid",r)}Dm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Wu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Wu(r.textContent,a,t),s=["children",""+a]):sc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&je("scroll",r)}switch(n){case"input":ju(r),Nw(r,i,!0);break;case"textarea":ju(r),Dw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=eh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=QT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ar]=e,t[pc]=r,wS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Lm(n,r),n){case"dialog":je("cancel",t),je("close",t),s=r;break;case"iframe":case"object":case"embed":je("load",t),s=r;break;case"video":case"audio":for(s=0;s<kl.length;s++)je(kl[s],t);s=r;break;case"source":je("error",t),s=r;break;case"img":case"image":case"link":je("error",t),je("load",t),s=r;break;case"details":je("toggle",t),s=r;break;case"input":Rw(t,r),s=km(t,r),je("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=He({},r,{value:void 0}),je("invalid",t);break;case"textarea":Ow(t,r),s=Nm(t,r),je("invalid",t);break;default:s=r}Dm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?XT(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&YT(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ic(t,l):typeof l=="number"&&ic(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(sc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&je("scroll",t):l!=null&&Ey(t,i,l,o))}switch(n){case"input":ju(t),Nw(t,r,!1);break;case"textarea":ju(t),Dw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Go(t,!!r.multiple,i,!1):r.defaultValue!=null&&Go(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=eh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ct(e),null;case 6:if(t&&e.stateNode!=null)ES(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Mi(gc.current),Mi(dr.current),qu(e)){if(r=e.stateNode,n=e.memoizedProps,r[ar]=e,(i=r.nodeValue!==n)&&(t=un,t!==null))switch(t.tag){case 3:Wu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ar]=e,e.stateNode=r}return Ct(e),null;case 13:if(Fe(Be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($e&&ln!==null&&e.mode&1&&!(e.flags&128))Fx(),va(),e.flags|=98560,i=!1;else if(i=qu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[ar]=e}else va(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ct(e),i=!1}else Fn!==null&&(mg(Fn),Fn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?nt===0&&(nt=3):rv())),e.updateQueue!==null&&(e.flags|=4),Ct(e),null);case 4:return _a(),ag(t,e),t===null&&hc(e.stateNode.containerInfo),Ct(e),null;case 10:return Uy(e.type._context),Ct(e),null;case 17:return en(e.type)&&th(),Ct(e),null;case 19:if(Fe(Be),i=e.memoizedState,i===null)return Ct(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)_l(i,!1);else{if(nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=lh(t),o!==null){for(e.flags|=128,_l(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(Be,Be.current&1|2),e.child}t=t.sibling}i.tail!==null&&Je()>ba&&(e.flags|=128,r=!0,_l(i,!1),e.lanes=4194304)}else{if(!r)if(t=lh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_l(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!$e)return Ct(e),null}else 2*Je()-i.renderingStartTime>ba&&n!==1073741824&&(e.flags|=128,r=!0,_l(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Je(),e.sibling=null,n=Be.current,De(Be,r?n&1|2:n&1),e):(Ct(e),null);case 22:case 23:return nv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?sn&1073741824&&(Ct(e),e.subtreeFlags&6&&(e.flags|=8192)):Ct(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function cO(t,e){switch(My(e),e.tag){case 1:return en(e.type)&&th(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _a(),Fe(Zt),Fe(Dt),Wy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Hy(e),null;case 13:if(Fe(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));va()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(Be),null;case 4:return _a(),null;case 10:return Uy(e.type._context),null;case 22:case 23:return nv(),null;case 24:return null;default:return null}}var Qu=!1,Rt=!1,uO=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ho(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qe(t,e,r)}else n.current=null}function lg(t,e,n){try{n()}catch(r){Qe(t,e,r)}}var T_=!1;function dO(t,e){if(Wm=Jd,t=Ix(),Dy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qm={focusedElem:t,selectionRange:n},Jd=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var w=T.memoizedProps,E=T.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?w:On(e.type,w),E);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(C){Qe(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return T=T_,T_=!1,T}function zl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&lg(e,n,i)}s=s.next}while(s!==r)}}function Zh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function cg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bS(t){var e=t.alternate;e!==null&&(t.alternate=null,bS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ar],delete e[pc],delete e[Qm],delete e[GN],delete e[KN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function TS(t){return t.tag===5||t.tag===3||t.tag===4}function x_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||TS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ug(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=eh));else if(r!==4&&(t=t.child,t!==null))for(ug(t,e,n),t=t.sibling;t!==null;)ug(t,e,n),t=t.sibling}function dg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(dg(t,e,n),t=t.sibling;t!==null;)dg(t,e,n),t=t.sibling}var yt=null,jn=!1;function cs(t,e,n){for(n=n.child;n!==null;)xS(t,e,n),n=n.sibling}function xS(t,e,n){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(Wh,n)}catch{}switch(n.tag){case 5:Rt||Ho(n,e);case 6:var r=yt,s=jn;yt=null,cs(t,e,n),yt=r,jn=s,yt!==null&&(jn?(t=yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yt.removeChild(n.stateNode));break;case 18:yt!==null&&(jn?(t=yt,n=n.stateNode,t.nodeType===8?Lp(t.parentNode,n):t.nodeType===1&&Lp(t,n),cc(t)):Lp(yt,n.stateNode));break;case 4:r=yt,s=jn,yt=n.stateNode.containerInfo,jn=!0,cs(t,e,n),yt=r,jn=s;break;case 0:case 11:case 14:case 15:if(!Rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&lg(n,e,o),s=s.next}while(s!==r)}cs(t,e,n);break;case 1:if(!Rt&&(Ho(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Qe(n,e,a)}cs(t,e,n);break;case 21:cs(t,e,n);break;case 22:n.mode&1?(Rt=(r=Rt)||n.memoizedState!==null,cs(t,e,n),Rt=r):cs(t,e,n);break;default:cs(t,e,n)}}function S_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new uO),e.forEach(function(r){var s=_O.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Pn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yt=a.stateNode,jn=!1;break e;case 3:yt=a.stateNode.containerInfo,jn=!0;break e;case 4:yt=a.stateNode.containerInfo,jn=!0;break e}a=a.return}if(yt===null)throw Error(z(160));xS(i,o,s),yt=null,jn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Qe(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)SS(e,t),e=e.sibling}function SS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pn(e,t),tr(t),r&4){try{zl(3,t,t.return),Zh(3,t)}catch(w){Qe(t,t.return,w)}try{zl(5,t,t.return)}catch(w){Qe(t,t.return,w)}}break;case 1:Pn(e,t),tr(t),r&512&&n!==null&&Ho(n,n.return);break;case 5:if(Pn(e,t),tr(t),r&512&&n!==null&&Ho(n,n.return),t.flags&32){var s=t.stateNode;try{ic(s,"")}catch(w){Qe(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&GT(s,i),Lm(a,o);var u=Lm(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?XT(s,h):d==="dangerouslySetInnerHTML"?YT(s,h):d==="children"?ic(s,h):Ey(s,d,h,u)}switch(a){case"input":Pm(s,i);break;case"textarea":KT(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Go(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Go(s,!!i.multiple,i.defaultValue,!0):Go(s,!!i.multiple,i.multiple?[]:"",!1))}s[pc]=i}catch(w){Qe(t,t.return,w)}}break;case 6:if(Pn(e,t),tr(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Qe(t,t.return,w)}}break;case 3:if(Pn(e,t),tr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cc(e.containerInfo)}catch(w){Qe(t,t.return,w)}break;case 4:Pn(e,t),tr(t);break;case 13:Pn(e,t),tr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ev=Je())),r&4&&S_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Rt=(u=Rt)||d,Pn(e,t),Rt=u):Pn(e,t),tr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(h=Y=d;Y!==null;){switch(f=Y,m=f.child,f.tag){case 0:case 11:case 14:case 15:zl(4,f,f.return);break;case 1:Ho(f,f.return);var T=f.stateNode;if(typeof T.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(w){Qe(r,n,w)}}break;case 5:Ho(f,f.return);break;case 22:if(f.memoizedState!==null){C_(h);continue}}m!==null?(m.return=f,Y=m):C_(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=JT("display",o))}catch(w){Qe(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){Qe(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Pn(e,t),tr(t),r&4&&S_(t);break;case 21:break;default:Pn(e,t),tr(t)}}function tr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(TS(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ic(s,""),r.flags&=-33);var i=x_(t);dg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=x_(t);ug(t,a,o);break;default:throw Error(z(161))}}catch(l){Qe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hO(t,e,n){Y=t,IS(t)}function IS(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var s=Y,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Qu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Rt;a=Qu;var u=Rt;if(Qu=o,(Rt=l)&&!u)for(Y=s;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?A_(s):l!==null?(l.return=o,Y=l):A_(s);for(;i!==null;)Y=i,IS(i),i=i.sibling;Y=s,Qu=a,Rt=u}I_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Y=i):I_(t)}}function I_(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Rt||Zh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Rt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:On(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&u_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}u_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&cc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Rt||e.flags&512&&cg(e)}catch(f){Qe(e,e.return,f)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function C_(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function A_(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Zh(4,e)}catch(l){Qe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Qe(e,s,l)}}var i=e.return;try{cg(e)}catch(l){Qe(e,i,l)}break;case 5:var o=e.return;try{cg(e)}catch(l){Qe(e,o,l)}}}catch(l){Qe(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var fO=Math.ceil,dh=Jr.ReactCurrentDispatcher,Xy=Jr.ReactCurrentOwner,xn=Jr.ReactCurrentBatchConfig,be=0,ht=null,Ze=null,_t=0,sn=0,Wo=ai(0),nt=0,_c=null,Qi=0,ef=0,Zy=0,Hl=null,Qt=null,ev=0,ba=1/0,Ar=null,hh=!1,hg=null,Us=null,Yu=!1,Ns=null,fh=0,Wl=0,fg=null,Ad=-1,kd=0;function $t(){return be&6?Je():Ad!==-1?Ad:Ad=Je()}function $s(t){return t.mode&1?be&2&&_t!==0?_t&-_t:YN.transition!==null?(kd===0&&(kd=ux()),kd):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:yx(t.type)),t):1}function Bn(t,e,n,r){if(50<Wl)throw Wl=0,fg=null,Error(z(185));Hc(t,n,r),(!(be&2)||t!==ht)&&(t===ht&&(!(be&2)&&(ef|=n),nt===4&&_s(t,_t)),tn(t,r),n===1&&be===0&&!(e.mode&1)&&(ba=Je()+500,Yh&&li()))}function tn(t,e){var n=t.callbackNode;YR(t,e);var r=Yd(t,t===ht?_t:0);if(r===0)n!==null&&jw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jw(n),e===1)t.tag===0?QN(k_.bind(null,t)):Mx(k_.bind(null,t)),WN(function(){!(be&6)&&li()}),n=null;else{switch(dx(r)){case 1:n=Iy;break;case 4:n=lx;break;case 16:n=Qd;break;case 536870912:n=cx;break;default:n=Qd}n=DS(n,CS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function CS(t,e){if(Ad=-1,kd=0,be&6)throw Error(z(327));var n=t.callbackNode;if(Xo()&&t.callbackNode!==n)return null;var r=Yd(t,t===ht?_t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ph(t,r);else{e=r;var s=be;be|=2;var i=kS();(ht!==t||_t!==e)&&(Ar=null,ba=Je()+500,zi(t,e));do try{gO();break}catch(a){AS(t,a)}while(!0);Fy(),dh.current=i,be=s,Ze!==null?e=0:(ht=null,_t=0,e=nt)}if(e!==0){if(e===2&&(s=Um(t),s!==0&&(r=s,e=pg(t,s))),e===1)throw n=_c,zi(t,0),_s(t,r),tn(t,Je()),n;if(e===6)_s(t,r);else{if(s=t.current.alternate,!(r&30)&&!pO(s)&&(e=ph(t,r),e===2&&(i=Um(t),i!==0&&(r=i,e=pg(t,i))),e===1))throw n=_c,zi(t,0),_s(t,r),tn(t,Je()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Ai(t,Qt,Ar);break;case 3:if(_s(t,r),(r&130023424)===r&&(e=ev+500-Je(),10<e)){if(Yd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){$t(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Km(Ai.bind(null,t,Qt,Ar),e);break}Ai(t,Qt,Ar);break;case 4:if(_s(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-$n(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fO(r/1960))-r,10<r){t.timeoutHandle=Km(Ai.bind(null,t,Qt,Ar),r);break}Ai(t,Qt,Ar);break;case 5:Ai(t,Qt,Ar);break;default:throw Error(z(329))}}}return tn(t,Je()),t.callbackNode===n?CS.bind(null,t):null}function pg(t,e){var n=Hl;return t.current.memoizedState.isDehydrated&&(zi(t,e).flags|=256),t=ph(t,e),t!==2&&(e=Qt,Qt=n,e!==null&&mg(e)),t}function mg(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function pO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Wn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _s(t,e){for(e&=~Zy,e&=~ef,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$n(e),r=1<<n;t[n]=-1,e&=~r}}function k_(t){if(be&6)throw Error(z(327));Xo();var e=Yd(t,0);if(!(e&1))return tn(t,Je()),null;var n=ph(t,e);if(t.tag!==0&&n===2){var r=Um(t);r!==0&&(e=r,n=pg(t,r))}if(n===1)throw n=_c,zi(t,0),_s(t,e),tn(t,Je()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ai(t,Qt,Ar),tn(t,Je()),null}function tv(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(ba=Je()+500,Yh&&li())}}function Yi(t){Ns!==null&&Ns.tag===0&&!(be&6)&&Xo();var e=be;be|=1;var n=xn.transition,r=Ae;try{if(xn.transition=null,Ae=1,t)return t()}finally{Ae=r,xn.transition=n,be=e,!(be&6)&&li()}}function nv(){sn=Wo.current,Fe(Wo)}function zi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,HN(n)),Ze!==null)for(n=Ze.return;n!==null;){var r=n;switch(My(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&th();break;case 3:_a(),Fe(Zt),Fe(Dt),Wy();break;case 5:Hy(r);break;case 4:_a();break;case 13:Fe(Be);break;case 19:Fe(Be);break;case 10:Uy(r.type._context);break;case 22:case 23:nv()}n=n.return}if(ht=t,Ze=t=Bs(t.current,null),_t=sn=e,nt=0,_c=null,Zy=ef=Qi=0,Qt=Hl=null,Li!==null){for(e=0;e<Li.length;e++)if(n=Li[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Li=null}return t}function AS(t,e){do{var n=Ze;try{if(Fy(),Sd.current=uh,ch){for(var r=ze.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ch=!1}if(Ki=0,ut=tt=ze=null,Bl=!1,yc=0,Xy.current=null,n===null||n.return===null){nt=1,_c=e,Ze=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=_t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=g_(o);if(m!==null){m.flags&=-257,y_(m,o,a,i,e),m.mode&1&&m_(i,u,e),e=m,l=u;var T=e.updateQueue;if(T===null){var w=new Set;w.add(l),e.updateQueue=w}else T.add(l);break e}else{if(!(e&1)){m_(i,u,e),rv();break e}l=Error(z(426))}}else if($e&&a.mode&1){var E=g_(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),y_(E,o,a,i,e),jy(Ea(l,a));break e}}i=l=Ea(l,a),nt!==4&&(nt=2),Hl===null?Hl=[i]:Hl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=dS(i,l,e);c_(i,_);break e;case 1:a=l;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Us===null||!Us.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=hS(i,a,e);c_(i,C);break e}}i=i.return}while(i!==null)}RS(n)}catch(D){e=D,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(!0)}function kS(){var t=dh.current;return dh.current=uh,t===null?uh:t}function rv(){(nt===0||nt===3||nt===2)&&(nt=4),ht===null||!(Qi&268435455)&&!(ef&268435455)||_s(ht,_t)}function ph(t,e){var n=be;be|=2;var r=kS();(ht!==t||_t!==e)&&(Ar=null,zi(t,e));do try{mO();break}catch(s){AS(t,s)}while(!0);if(Fy(),be=n,dh.current=r,Ze!==null)throw Error(z(261));return ht=null,_t=0,nt}function mO(){for(;Ze!==null;)PS(Ze)}function gO(){for(;Ze!==null&&!$R();)PS(Ze)}function PS(t){var e=OS(t.alternate,t,sn);t.memoizedProps=t.pendingProps,e===null?RS(t):Ze=e,Xy.current=null}function RS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=cO(n,e),n!==null){n.flags&=32767,Ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,Ze=null;return}}else if(n=lO(n,e,sn),n!==null){Ze=n;return}if(e=e.sibling,e!==null){Ze=e;return}Ze=e=t}while(e!==null);nt===0&&(nt=5)}function Ai(t,e,n){var r=Ae,s=xn.transition;try{xn.transition=null,Ae=1,yO(t,e,n,r)}finally{xn.transition=s,Ae=r}return null}function yO(t,e,n,r){do Xo();while(Ns!==null);if(be&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(JR(t,i),t===ht&&(Ze=ht=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yu||(Yu=!0,DS(Qd,function(){return Xo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=xn.transition,xn.transition=null;var o=Ae;Ae=1;var a=be;be|=4,Xy.current=null,dO(t,n),SS(n,t),jN(qm),Jd=!!Wm,qm=Wm=null,t.current=n,hO(n),BR(),be=a,Ae=o,xn.transition=i}else t.current=n;if(Yu&&(Yu=!1,Ns=t,fh=s),i=t.pendingLanes,i===0&&(Us=null),WR(n.stateNode),tn(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(hh)throw hh=!1,t=hg,hg=null,t;return fh&1&&t.tag!==0&&Xo(),i=t.pendingLanes,i&1?t===fg?Wl++:(Wl=0,fg=t):Wl=0,li(),null}function Xo(){if(Ns!==null){var t=dx(fh),e=xn.transition,n=Ae;try{if(xn.transition=null,Ae=16>t?16:t,Ns===null)var r=!1;else{if(t=Ns,Ns=null,fh=0,be&6)throw Error(z(331));var s=be;for(be|=4,Y=t.current;Y!==null;){var i=Y,o=i.child;if(Y.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:zl(8,d,i)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var f=d.sibling,m=d.return;if(bS(d),d===u){Y=null;break}if(f!==null){f.return=m,Y=f;break}Y=m}}}var T=i.alternate;if(T!==null){var w=T.child;if(w!==null){T.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}Y=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Y=o;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:zl(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,Y=_;break e}Y=i.return}}var y=t.current;for(Y=y;Y!==null;){o=Y;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Y=b;else e:for(o=y;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Zh(9,a)}}catch(D){Qe(a,a.return,D)}if(a===o){Y=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Y=C;break e}Y=a.return}}if(be=s,li(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(Wh,t)}catch{}r=!0}return r}finally{Ae=n,xn.transition=e}}return!1}function P_(t,e,n){e=Ea(n,e),e=dS(t,e,1),t=Fs(t,e,1),e=$t(),t!==null&&(Hc(t,1,e),tn(t,e))}function Qe(t,e,n){if(t.tag===3)P_(t,t,n);else for(;e!==null;){if(e.tag===3){P_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Us===null||!Us.has(r))){t=Ea(n,t),t=hS(e,t,1),e=Fs(e,t,1),t=$t(),e!==null&&(Hc(e,1,t),tn(e,t));break}}e=e.return}}function vO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$t(),t.pingedLanes|=t.suspendedLanes&n,ht===t&&(_t&n)===n&&(nt===4||nt===3&&(_t&130023424)===_t&&500>Je()-ev?zi(t,0):Zy|=n),tn(t,e)}function NS(t,e){e===0&&(t.mode&1?(e=Uu,Uu<<=1,!(Uu&130023424)&&(Uu=4194304)):e=1);var n=$t();t=Br(t,e),t!==null&&(Hc(t,e,n),tn(t,n))}function wO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NS(t,n)}function _O(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),NS(t,n)}var OS;OS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zt.current)Xt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Xt=!1,aO(t,e,n);Xt=!!(t.flags&131072)}else Xt=!1,$e&&e.flags&1048576&&jx(e,sh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Cd(t,e),t=e.pendingProps;var s=ya(e,Dt.current);Jo(e,n),s=Gy(null,e,r,t,s,n);var i=Ky();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,en(r)?(i=!0,nh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,By(e),s.updater=Xh,e.stateNode=s,s._reactInternals=e,tg(e,r,t,n),e=sg(null,e,r,!0,i,n)):(e.tag=0,$e&&i&&Ly(e),Ft(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Cd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=bO(r),t=On(r,t),s){case 0:e=rg(null,e,r,t,n);break e;case 1:e=__(null,e,r,t,n);break e;case 11:e=v_(null,e,r,t,n);break e;case 14:e=w_(null,e,r,On(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:On(r,s),rg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:On(r,s),__(t,e,r,s,n);case 3:e:{if(gS(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,zx(t,e),ah(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ea(Error(z(423)),e),e=E_(t,e,r,n,s);break e}else if(r!==s){s=Ea(Error(z(424)),e),e=E_(t,e,r,n,s);break e}else for(ln=Vs(e.stateNode.containerInfo.firstChild),un=e,$e=!0,Fn=null,n=$x(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(va(),r===s){e=zr(t,e,n);break e}Ft(t,e,r,n)}e=e.child}return e;case 5:return Hx(e),t===null&&Xm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Gm(r,s)?o=null:i!==null&&Gm(r,i)&&(e.flags|=32),mS(t,e),Ft(t,e,o,n),e.child;case 6:return t===null&&Xm(e),null;case 13:return yS(t,e,n);case 4:return zy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wa(e,null,r,n):Ft(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:On(r,s),v_(t,e,r,s,n);case 7:return Ft(t,e,e.pendingProps,n),e.child;case 8:return Ft(t,e,e.pendingProps.children,n),e.child;case 12:return Ft(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,De(ih,r._currentValue),r._currentValue=o,i!==null)if(Wn(i.value,o)){if(i.children===s.children&&!Zt.current){e=zr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=jr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Zm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Zm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ft(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Jo(e,n),s=In(s),r=r(s),e.flags|=1,Ft(t,e,r,n),e.child;case 14:return r=e.type,s=On(r,e.pendingProps),s=On(r.type,s),w_(t,e,r,s,n);case 15:return fS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:On(r,s),Cd(t,e),e.tag=1,en(r)?(t=!0,nh(e)):t=!1,Jo(e,n),uS(e,r,s),tg(e,r,s,n),sg(null,e,r,!0,t,n);case 19:return vS(t,e,n);case 22:return pS(t,e,n)}throw Error(z(156,e.tag))};function DS(t,e){return ax(t,e)}function EO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,e,n,r){return new EO(t,e,n,r)}function sv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bO(t){if(typeof t=="function")return sv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ty)return 11;if(t===xy)return 14}return 2}function Bs(t,e){var n=t.alternate;return n===null?(n=Tn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")sv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Lo:return Hi(n.children,s,i,e);case by:o=8,s|=8;break;case Sm:return t=Tn(12,n,e,s|2),t.elementType=Sm,t.lanes=i,t;case Im:return t=Tn(13,n,e,s),t.elementType=Im,t.lanes=i,t;case Cm:return t=Tn(19,n,e,s),t.elementType=Cm,t.lanes=i,t;case HT:return tf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case BT:o=10;break e;case zT:o=9;break e;case Ty:o=11;break e;case xy:o=14;break e;case gs:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Tn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Hi(t,e,n,r){return t=Tn(7,t,r,e),t.lanes=n,t}function tf(t,e,n,r){return t=Tn(22,t,r,e),t.elementType=HT,t.lanes=n,t.stateNode={isHidden:!1},t}function zp(t,e,n){return t=Tn(6,t,null,e),t.lanes=n,t}function Hp(t,e,n){return e=Tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function TO(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xp(0),this.expirationTimes=xp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function iv(t,e,n,r,s,i,o,a,l){return t=new TO(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Tn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},By(i),t}function xO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Do,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function LS(t){if(!t)return Ys;t=t._reactInternals;e:{if(oo(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(en(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(en(n))return Lx(t,n,e)}return e}function MS(t,e,n,r,s,i,o,a,l){return t=iv(n,r,!0,t,s,i,o,a,l),t.context=LS(null),n=t.current,r=$t(),s=$s(n),i=jr(r,s),i.callback=e??null,Fs(n,i,s),t.current.lanes=s,Hc(t,s,r),tn(t,r),t}function nf(t,e,n,r){var s=e.current,i=$t(),o=$s(s);return n=LS(n),e.context===null?e.context=n:e.pendingContext=n,e=jr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fs(s,e,o),t!==null&&(Bn(t,s,o,i),xd(t,s,o)),o}function mh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function R_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ov(t,e){R_(t,e),(t=t.alternate)&&R_(t,e)}function SO(){return null}var jS=typeof reportError=="function"?reportError:function(t){console.error(t)};function av(t){this._internalRoot=t}rf.prototype.render=av.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));nf(t,e,null,null)};rf.prototype.unmount=av.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Yi(function(){nf(null,t,null,null)}),e[$r]=null}};function rf(t){this._internalRoot=t}rf.prototype.unstable_scheduleHydration=function(t){if(t){var e=px();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ws.length&&e!==0&&e<ws[n].priority;n++);ws.splice(n,0,t),n===0&&gx(t)}};function lv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function N_(){}function IO(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=mh(o);i.call(u)}}var o=MS(e,r,t,0,null,!1,!1,"",N_);return t._reactRootContainer=o,t[$r]=o.current,hc(t.nodeType===8?t.parentNode:t),Yi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=mh(l);a.call(u)}}var l=iv(t,0,!1,null,null,!1,!1,"",N_);return t._reactRootContainer=l,t[$r]=l.current,hc(t.nodeType===8?t.parentNode:t),Yi(function(){nf(e,l,n,r)}),l}function of(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=mh(o);a.call(l)}}nf(e,o,t,s)}else o=IO(n,e,t,s,r);return mh(o)}hx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Al(e.pendingLanes);n!==0&&(Cy(e,n|1),tn(e,Je()),!(be&6)&&(ba=Je()+500,li()))}break;case 13:Yi(function(){var r=Br(t,1);if(r!==null){var s=$t();Bn(r,t,1,s)}}),ov(t,1)}};Ay=function(t){if(t.tag===13){var e=Br(t,134217728);if(e!==null){var n=$t();Bn(e,t,134217728,n)}ov(t,134217728)}};fx=function(t){if(t.tag===13){var e=$s(t),n=Br(t,e);if(n!==null){var r=$t();Bn(n,t,e,r)}ov(t,e)}};px=function(){return Ae};mx=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};jm=function(t,e,n){switch(e){case"input":if(Pm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Qh(r);if(!s)throw Error(z(90));qT(r),Pm(r,s)}}}break;case"textarea":KT(t,n);break;case"select":e=n.value,e!=null&&Go(t,!!n.multiple,e,!1)}};tx=tv;nx=Yi;var CO={usingClientEntryPoint:!1,Events:[qc,Fo,Qh,ZT,ex,tv]},El={findFiberByHostInstance:Di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AO={bundleType:El.bundleType,version:El.version,rendererPackageName:El.rendererPackageName,rendererConfig:El.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ix(t),t===null?null:t.stateNode},findFiberByHostInstance:El.findFiberByHostInstance||SO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{Wh=Ju.inject(AO),ur=Ju}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CO;pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lv(e))throw Error(z(200));return xO(t,e,null,n)};pn.createRoot=function(t,e){if(!lv(t))throw Error(z(299));var n=!1,r="",s=jS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=iv(t,1,!1,null,null,n,!1,r,s),t[$r]=e.current,hc(t.nodeType===8?t.parentNode:t),new av(e)};pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=ix(e),t=t===null?null:t.stateNode,t};pn.flushSync=function(t){return Yi(t)};pn.hydrate=function(t,e,n){if(!sf(e))throw Error(z(200));return of(null,t,e,!0,n)};pn.hydrateRoot=function(t,e,n){if(!lv(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=jS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=MS(e,null,t,1,n??null,s,!1,i,o),t[$r]=e.current,hc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new rf(e)};pn.render=function(t,e,n){if(!sf(e))throw Error(z(200));return of(null,t,e,!1,n)};pn.unmountComponentAtNode=function(t){if(!sf(t))throw Error(z(40));return t._reactRootContainer?(Yi(function(){of(null,null,t,!1,function(){t._reactRootContainer=null,t[$r]=null})}),!0):!1};pn.unstable_batchedUpdates=tv;pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sf(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return of(t,e,n,!1,r)};pn.version="18.3.1-next-f1338f8080-20240426";function VS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VS)}catch(t){console.error(t)}}VS(),VT.exports=pn;var Kc=VT.exports;const FS=IT(Kc);var US,O_=Kc;US=O_.createRoot,O_.hydrateRoot;const kO=1,PO=1e6;let Wp=0;function RO(){return Wp=(Wp+1)%Number.MAX_SAFE_INTEGER,Wp.toString()}const qp=new Map,D_=t=>{if(qp.has(t))return;const e=setTimeout(()=>{qp.delete(t),ql({type:"REMOVE_TOAST",toastId:t})},PO);qp.set(t,e)},NO=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,kO)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?D_(n):t.toasts.forEach(r=>{D_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Rd=[];let Nd={toasts:[]};function ql(t){Nd=NO(Nd,t),Rd.forEach(e=>{e(Nd)})}function OO({...t}){const e=RO(),n=s=>ql({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>ql({type:"DISMISS_TOAST",toastId:e});return ql({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function ci(){const[t,e]=x.useState(Nd);return x.useEffect(()=>(Rd.push(e),()=>{const n=Rd.indexOf(e);n>-1&&Rd.splice(n,1)}),[t]),{...t,toast:OO,dismiss:n=>ql({type:"DISMISS_TOAST",toastId:n})}}function we(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function L_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function $S(...t){return e=>{let n=!1;const r=t.map(s=>{const i=L_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():L_(t[s],null)}}}}function ft(...t){return x.useCallback($S(...t),t)}function DO(t,e){const n=x.createContext(e),r=i=>{const{children:o,...a}=i,l=x.useMemo(()=>a,Object.values(a));return g.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=x.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function ui(t,e=[]){let n=[];function r(i,o){const a=x.createContext(o),l=n.length;n=[...n,o];const u=h=>{var _;const{scope:f,children:m,...T}=h,w=((_=f==null?void 0:f[t])==null?void 0:_[l])||a,E=x.useMemo(()=>T,Object.values(T));return g.jsx(w.Provider,{value:E,children:m})};u.displayName=i+"Provider";function d(h,f){var w;const m=((w=f==null?void 0:f[t])==null?void 0:w[l])||a,T=x.useContext(m);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>x.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return x.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,LO(s,...e)]}function LO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Ec(t){const e=jO(t),n=x.forwardRef((r,s)=>{const{children:i,...o}=r,a=x.Children.toArray(i),l=a.find(FO);if(l){const u=l.props.children,d=a.map(h=>h===l?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:h);return g.jsx(e,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return g.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var MO=Ec("Slot");function jO(t){const e=x.forwardRef((n,r)=>{const{children:s,...i}=n;if(x.isValidElement(s)){const o=$O(s),a=UO(i,s.props);return s.type!==x.Fragment&&(a.ref=r?$S(r,o):o),x.cloneElement(s,a)}return x.Children.count(s)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var BS=Symbol("radix.slottable");function VO(t){const e=({children:n})=>g.jsx(g.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=BS,e}function FO(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===BS}function UO(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function $O(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function zS(t){const e=t+"CollectionProvider",[n,r]=ui(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:E,children:_}=w,y=H.useRef(null),b=H.useRef(new Map).current;return g.jsx(s,{scope:E,itemMap:b,collectionRef:y,children:_})};o.displayName=e;const a=t+"CollectionSlot",l=Ec(a),u=H.forwardRef((w,E)=>{const{scope:_,children:y}=w,b=i(a,_),C=ft(E,b.collectionRef);return g.jsx(l,{ref:C,children:y})});u.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=Ec(d),m=H.forwardRef((w,E)=>{const{scope:_,children:y,...b}=w,C=H.useRef(null),D=ft(E,C),L=i(d,_);return H.useEffect(()=>(L.itemMap.set(C,{ref:C,...b}),()=>void L.itemMap.delete(C))),g.jsx(f,{[h]:"",ref:D,children:y})});m.displayName=d;function T(w){const E=i(t+"CollectionConsumer",w);return H.useCallback(()=>{const y=E.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(E.itemMap.values()).sort((L,I)=>b.indexOf(L.ref.current)-b.indexOf(I.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},T,r]}var BO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ie=BO.reduce((t,e)=>{const n=Ec(`Primitive.${e}`),r=x.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function HS(t,e){t&&Kc.flushSync(()=>t.dispatchEvent(e))}function qn(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function zO(t,e=globalThis==null?void 0:globalThis.document){const n=qn(t);x.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var HO="DismissableLayer",gg="dismissableLayer.update",WO="dismissableLayer.pointerDownOutside",qO="dismissableLayer.focusOutside",M_,WS=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),af=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=x.useContext(WS),[d,h]=x.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),T=ft(e,I=>h(I)),w=Array.from(u.layers),[E]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=w.indexOf(E),y=d?w.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,C=y>=_,D=KO(I=>{const S=I.target,k=[...u.branches].some(P=>P.contains(S));!C||k||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},f),L=QO(I=>{const S=I.target;[...u.branches].some(P=>P.contains(S))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},f);return zO(I=>{y===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},f),x.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(M_=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),j_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=M_)}},[d,f,n,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),j_())},[d,u]),x.useEffect(()=>{const I=()=>m({});return document.addEventListener(gg,I),()=>document.removeEventListener(gg,I)},[]),g.jsx(Ie.div,{...l,ref:T,style:{pointerEvents:b?C?"auto":"none":void 0,...t.style},onFocusCapture:we(t.onFocusCapture,L.onFocusCapture),onBlurCapture:we(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:we(t.onPointerDownCapture,D.onPointerDownCapture)})});af.displayName=HO;var GO="DismissableLayerBranch",qS=x.forwardRef((t,e)=>{const n=x.useContext(WS),r=x.useRef(null),s=ft(e,r);return x.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),g.jsx(Ie.div,{...t,ref:s})});qS.displayName=GO;function KO(t,e=globalThis==null?void 0:globalThis.document){const n=qn(t),r=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){GS(WO,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function QO(t,e=globalThis==null?void 0:globalThis.document){const n=qn(t),r=x.useRef(!1);return x.useEffect(()=>{const s=i=>{i.target&&!r.current&&GS(qO,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function j_(){const t=new CustomEvent(gg);document.dispatchEvent(t)}function GS(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?HS(s,i):s.dispatchEvent(i)}var YO=af,JO=qS,Hr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},XO="Portal",cv=x.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=x.useState(!1);Hr(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?FS.createPortal(g.jsx(Ie.div,{...r,ref:e}),o):null});cv.displayName=XO;function ZO(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var di=t=>{const{present:e,children:n}=t,r=e2(e),s=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),i=ft(r.ref,t2(s));return typeof n=="function"||r.isPresent?x.cloneElement(s,{ref:i}):null};di.displayName="Presence";function e2(t){const[e,n]=x.useState(),r=x.useRef(null),s=x.useRef(t),i=x.useRef("none"),o=t?"mounted":"unmounted",[a,l]=ZO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Xu(r.current);i.current=a==="mounted"?u:"none"},[a]),Hr(()=>{const u=r.current,d=s.current;if(d!==t){const f=i.current,m=Xu(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Hr(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=m=>{const w=Xu(r.current).includes(m.animationName);if(m.target===e&&w&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},f=m=>{m.target===e&&(i.current=Xu(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Xu(t){return(t==null?void 0:t.animationName)||"none"}function t2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var n2=vy[" useInsertionEffect ".trim().toString()]||Hr;function Qc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=r2({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=x.useRef(t!==void 0);x.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=x.useCallback(d=>{var h;if(a){const f=s2(d)?d(t):d;f!==t&&((h=o.current)==null||h.call(o,f))}else i(d)},[a,t,i,o]);return[l,u]}function r2({defaultProp:t,onChange:e}){const[n,r]=x.useState(t),s=x.useRef(n),i=x.useRef(e);return n2(()=>{i.current=e},[e]),x.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function s2(t){return typeof t=="function"}var i2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),o2="VisuallyHidden",lf=x.forwardRef((t,e)=>g.jsx(Ie.span,{...t,ref:e,style:{...i2,...t.style}}));lf.displayName=o2;var a2=lf,uv="ToastProvider",[dv,l2,c2]=zS("Toast"),[KS,D8]=ui("Toast",[c2]),[u2,cf]=KS(uv),QS=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=x.useState(null),[u,d]=x.useState(0),h=x.useRef(!1),f=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${uv}\`. Expected non-empty \`string\`.`),g.jsx(dv.Provider,{scope:e,children:g.jsx(u2,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:x.useCallback(()=>d(m=>m+1),[]),onToastRemove:x.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};QS.displayName=uv;var YS="ToastViewport",d2=["F8"],yg="toast.viewportPause",vg="toast.viewportResume",JS=x.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=d2,label:s="Notifications ({hotkey})",...i}=t,o=cf(YS,n),a=l2(n),l=x.useRef(null),u=x.useRef(null),d=x.useRef(null),h=x.useRef(null),f=ft(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;x.useEffect(()=>{const E=_=>{var b;r.length!==0&&r.every(C=>_[C]||_.code===C)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),x.useEffect(()=>{const E=l.current,_=h.current;if(T&&E&&_){const y=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(yg);_.dispatchEvent(L),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(vg);_.dispatchEvent(L),o.isClosePausedRef.current=!1}},C=L=>{!E.contains(L.relatedTarget)&&b()},D=()=>{E.contains(document.activeElement)||b()};return E.addEventListener("focusin",y),E.addEventListener("focusout",C),E.addEventListener("pointermove",y),E.addEventListener("pointerleave",D),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{E.removeEventListener("focusin",y),E.removeEventListener("focusout",C),E.removeEventListener("pointermove",y),E.removeEventListener("pointerleave",D),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[T,o.isClosePausedRef]);const w=x.useCallback(({tabbingDirection:E})=>{const y=a().map(b=>{const C=b.ref.current,D=[C,...x2(C)];return E==="forwards"?D:D.reverse()});return(E==="forwards"?y.reverse():y).flat()},[a]);return x.useEffect(()=>{const E=h.current;if(E){const _=y=>{var D,L,I;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const S=document.activeElement,k=y.shiftKey;if(y.target===E&&k){(D=u.current)==null||D.focus();return}const O=w({tabbingDirection:k?"backwards":"forwards"}),R=O.findIndex(W=>W===S);Gp(O.slice(R+1))?y.preventDefault():k?(L=u.current)==null||L.focus():(I=d.current)==null||I.focus()}};return E.addEventListener("keydown",_),()=>E.removeEventListener("keydown",_)}},[a,w]),g.jsxs(JO,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&g.jsx(wg,{ref:u,onFocusFromOutsideViewport:()=>{const E=w({tabbingDirection:"forwards"});Gp(E)}}),g.jsx(dv.Slot,{scope:n,children:g.jsx(Ie.ol,{tabIndex:-1,...i,ref:f})}),T&&g.jsx(wg,{ref:d,onFocusFromOutsideViewport:()=>{const E=w({tabbingDirection:"backwards"});Gp(E)}})]})});JS.displayName=YS;var XS="ToastFocusProxy",wg=x.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=cf(XS,n);return g.jsx(lf,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});wg.displayName=XS;var Yc="Toast",h2="toast.swipeStart",f2="toast.swipeMove",p2="toast.swipeCancel",m2="toast.swipeEnd",ZS=x.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Qc({prop:r,defaultProp:s??!0,onChange:i,caller:Yc});return g.jsx(di,{present:n||a,children:g.jsx(v2,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:qn(t.onPause),onResume:qn(t.onResume),onSwipeStart:we(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:we(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:we(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:we(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});ZS.displayName=Yc;var[g2,y2]=KS(Yc,{onClose(){}}),v2=x.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...T}=t,w=cf(Yc,n),[E,_]=x.useState(null),y=ft(e,W=>_(W)),b=x.useRef(null),C=x.useRef(null),D=s||w.duration,L=x.useRef(0),I=x.useRef(D),S=x.useRef(0),{onToastAdd:k,onToastRemove:P}=w,N=qn(()=>{var oe;(E==null?void 0:E.contains(document.activeElement))&&((oe=w.viewport)==null||oe.focus()),o()}),O=x.useCallback(W=>{!W||W===1/0||(window.clearTimeout(S.current),L.current=new Date().getTime(),S.current=window.setTimeout(N,W))},[N]);x.useEffect(()=>{const W=w.viewport;if(W){const oe=()=>{O(I.current),u==null||u()},X=()=>{const re=new Date().getTime()-L.current;I.current=I.current-re,window.clearTimeout(S.current),l==null||l()};return W.addEventListener(yg,X),W.addEventListener(vg,oe),()=>{W.removeEventListener(yg,X),W.removeEventListener(vg,oe)}}},[w.viewport,D,l,u,O]),x.useEffect(()=>{i&&!w.isClosePausedRef.current&&O(D)},[i,D,w.isClosePausedRef,O]),x.useEffect(()=>(k(),()=>P()),[k,P]);const R=x.useMemo(()=>E?oI(E):null,[E]);return w.viewport?g.jsxs(g.Fragment,{children:[R&&g.jsx(w2,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),g.jsx(g2,{scope:n,onClose:N,children:Kc.createPortal(g.jsx(dv.ItemSlot,{scope:n,children:g.jsx(YO,{asChild:!0,onEscapeKeyDown:we(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||N(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx(Ie.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...T,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:we(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:we(t.onPointerDown,W=>{W.button===0&&(b.current={x:W.clientX,y:W.clientY})}),onPointerMove:we(t.onPointerMove,W=>{if(!b.current)return;const oe=W.clientX-b.current.x,X=W.clientY-b.current.y,re=!!C.current,V=["left","right"].includes(w.swipeDirection),B=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,G=V?B(0,oe):0,ae=V?0:B(0,X),J=W.pointerType==="touch"?10:2,Z={x:G,y:ae},fe={originalEvent:W,delta:Z};re?(C.current=Z,Zu(f2,h,fe,{discrete:!1})):V_(Z,w.swipeDirection,J)?(C.current=Z,Zu(h2,d,fe,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(oe)>J||Math.abs(X)>J)&&(b.current=null)}),onPointerUp:we(t.onPointerUp,W=>{const oe=C.current,X=W.target;if(X.hasPointerCapture(W.pointerId)&&X.releasePointerCapture(W.pointerId),C.current=null,b.current=null,oe){const re=W.currentTarget,V={originalEvent:W,delta:oe};V_(oe,w.swipeDirection,w.swipeThreshold)?Zu(m2,m,V,{discrete:!0}):Zu(p2,f,V,{discrete:!0}),re.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),w2=t=>{const{__scopeToast:e,children:n,...r}=t,s=cf(Yc,e),[i,o]=x.useState(!1),[a,l]=x.useState(!1);return b2(()=>o(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:g.jsx(cv,{asChild:!0,children:g.jsx(lf,{...r,children:i&&g.jsxs(g.Fragment,{children:[s.label," ",n]})})})},_2="ToastTitle",eI=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(Ie.div,{...r,ref:e})});eI.displayName=_2;var E2="ToastDescription",tI=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(Ie.div,{...r,ref:e})});tI.displayName=E2;var nI="ToastAction",rI=x.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?g.jsx(iI,{altText:n,asChild:!0,children:g.jsx(hv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${nI}\`. Expected non-empty \`string\`.`),null)});rI.displayName=nI;var sI="ToastClose",hv=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=y2(sI,n);return g.jsx(iI,{asChild:!0,children:g.jsx(Ie.button,{type:"button",...r,ref:e,onClick:we(t.onClick,s.onClose)})})});hv.displayName=sI;var iI=x.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return g.jsx(Ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function oI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),T2(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...oI(r))}}),e}function Zu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?HS(s,i):s.dispatchEvent(i)}var V_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function b2(t=()=>{}){const e=qn(t);Hr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function T2(t){return t.nodeType===t.ELEMENT_NODE}function x2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Gp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var S2=QS,aI=JS,lI=ZS,cI=eI,uI=tI,dI=rI,hI=hv;function fI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=fI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function pI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=fI(t))&&(r&&(r+=" "),r+=e);return r}const F_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,U_=pI,uf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return U_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=F_(d)||F_(h);return s[u][f]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(T=>{let[w,E]=T;return Array.isArray(E)?E.includes({...i,...a}[w]):{...i,...a}[w]===E})?[...u,h,f]:u},[]);return U_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>x.createElement("svg",{ref:l,...C2,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:mI("lucide",s),...a},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=(t,e)=>{const n=x.forwardRef(({className:r,...s},i)=>x.createElement(A2,{ref:i,iconNode:e,className:mI(`lucide-${I2(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=Mt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=Mt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=Mt("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=Mt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=Mt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=Mt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=Mt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=Mt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=Mt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=Mt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=Mt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=Mt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=Mt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=Mt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=Mt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=Mt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mv="-",$2=t=>{const e=z2(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(mv);return a[0]===""&&a.length!==1&&a.shift(),yI(a,e)||B2(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},yI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?yI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(mv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},$_=/^\[(.+)\]$/,B2=t=>{if($_.test(t)){const e=$_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},z2=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return W2(Object.entries(t.classGroups),n).forEach(([i,o])=>{_g(o,r,i,e)}),r},_g=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:B_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(H2(s)){_g(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{_g(o,B_(e,i),n,r)})})},B_=(t,e)=>{let n=t;return e.split(mv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},H2=t=>t.isThemeGetter,W2=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,q2=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},vI="!",G2=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,h;for(let E=0;E<a.length;E++){let _=a[E];if(u===0){if(_===s&&(r||a.slice(E,E+i)===e)){l.push(a.slice(d,E)),d=E+i;continue}if(_==="/"){h=E;continue}}_==="["?u++:_==="]"&&u--}const f=l.length===0?a:a.substring(d),m=f.startsWith(vI),T=m?f.substring(1):f,w=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:T,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:o}):o},K2=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Q2=t=>({cache:q2(t.cacheSize),parseClassName:G2(t),...$2(t)}),Y2=/\s+/,J2=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(Y2);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let T=!!m,w=r(T?f.substring(0,m):f);if(!w){if(!T){a=u+(a.length>0?" "+a:a);continue}if(w=r(f),!w){a=u+(a.length>0?" "+a:a);continue}T=!1}const E=K2(d).join(":"),_=h?E+vI:E,y=_+w;if(i.includes(y))continue;i.push(y);const b=s(w,T);for(let C=0;C<b.length;++C){const D=b[C];i.push(_+D)}a=u+(a.length>0?" "+a:a)}return a};function X2(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=wI(e))&&(r&&(r+=" "),r+=n);return r}const wI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=wI(t[r]))&&(n&&(n+=" "),n+=e);return n};function Z2(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,h)=>h(d),t());return n=Q2(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=J2(l,n);return s(l,d),d}return function(){return i(X2.apply(null,arguments))}}const Me=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},_I=/^\[(?:([a-z-]+):)?(.+)\]$/i,eD=/^\d+\/\d+$/,tD=new Set(["px","full","screen"]),nD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,iD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sr=t=>Zo(t)||tD.has(t)||eD.test(t),us=t=>ja(t,"length",pD),Zo=t=>!!t&&!Number.isNaN(Number(t)),Kp=t=>ja(t,"number",Zo),bl=t=>!!t&&Number.isInteger(Number(t)),aD=t=>t.endsWith("%")&&Zo(t.slice(0,-1)),de=t=>_I.test(t),ds=t=>nD.test(t),lD=new Set(["length","size","percentage"]),cD=t=>ja(t,lD,EI),uD=t=>ja(t,"position",EI),dD=new Set(["image","url"]),hD=t=>ja(t,dD,gD),fD=t=>ja(t,"",mD),Tl=()=>!0,ja=(t,e,n)=>{const r=_I.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},pD=t=>rD.test(t)&&!sD.test(t),EI=()=>!1,mD=t=>iD.test(t),gD=t=>oD.test(t),yD=()=>{const t=Me("colors"),e=Me("spacing"),n=Me("blur"),r=Me("brightness"),s=Me("borderColor"),i=Me("borderRadius"),o=Me("borderSpacing"),a=Me("borderWidth"),l=Me("contrast"),u=Me("grayscale"),d=Me("hueRotate"),h=Me("invert"),f=Me("gap"),m=Me("gradientColorStops"),T=Me("gradientColorStopPositions"),w=Me("inset"),E=Me("margin"),_=Me("opacity"),y=Me("padding"),b=Me("saturate"),C=Me("scale"),D=Me("sepia"),L=Me("skew"),I=Me("space"),S=Me("translate"),k=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",de,e],O=()=>[de,e],R=()=>["",Sr,us],W=()=>["auto",Zo,de],oe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",de],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[Zo,de];return{cacheSize:500,separator:":",theme:{colors:[Tl],spacing:[Sr,us],blur:["none","",ds,de],brightness:ae(),borderColor:[t],borderRadius:["none","","full",ds,de],borderSpacing:O(),borderWidth:R(),contrast:ae(),grayscale:B(),hueRotate:ae(),invert:B(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[aD,us],inset:N(),margin:N(),opacity:ae(),padding:O(),saturate:ae(),scale:ae(),sepia:B(),skew:ae(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",de]}],container:["container"],columns:[{columns:[ds]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...oe(),de]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bl,de]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",de]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",bl,de]}],"grid-cols":[{"grid-cols":[Tl]}],"col-start-end":[{col:["auto",{span:["full",bl,de]},de]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Tl]}],"row-start-end":[{row:["auto",{span:[bl,de]},de]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",de]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",de]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",de,e]}],"min-w":[{"min-w":[de,e,"min","max","fit"]}],"max-w":[{"max-w":[de,e,"none","full","min","max","fit","prose",{screen:[ds]},ds]}],h:[{h:[de,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[de,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ds,us]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Kp]}],"font-family":[{font:[Tl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",de]}],"line-clamp":[{"line-clamp":["none",Zo,Kp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sr,de]}],"list-image":[{"list-image":["none",de]}],"list-style-type":[{list:["none","disc","decimal",de]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sr,us]}],"underline-offset":[{"underline-offset":["auto",Sr,de]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...oe(),uD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",cD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},hD]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:X()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[Sr,de]}],"outline-w":[{outline:[Sr,us]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Sr,us]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ds,fD]}],"shadow-color":[{shadow:[Tl]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ds,de]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",de]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",de]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",de]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[bl,de]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",de]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Sr,us,Kp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},vD=Z2(yD);function ke(...t){return vD(pI(t))}const wD=S2,bI=x.forwardRef(({className:t,...e},n)=>g.jsx(aI,{ref:n,className:ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));bI.displayName=aI.displayName;const _D=uf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),TI=x.forwardRef(({className:t,variant:e,...n},r)=>g.jsx(lI,{ref:r,className:ke(_D({variant:e}),t),...n}));TI.displayName=lI.displayName;const ED=x.forwardRef(({className:t,...e},n)=>g.jsx(dI,{ref:n,className:ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));ED.displayName=dI.displayName;const xI=x.forwardRef(({className:t,...e},n)=>g.jsx(hI,{ref:n,className:ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:g.jsx(pv,{className:"h-4 w-4"})}));xI.displayName=hI.displayName;const SI=x.forwardRef(({className:t,...e},n)=>g.jsx(cI,{ref:n,className:ke("text-sm font-semibold",t),...e}));SI.displayName=cI.displayName;const II=x.forwardRef(({className:t,...e},n)=>g.jsx(uI,{ref:n,className:ke("text-sm opacity-90",t),...e}));II.displayName=uI.displayName;function bD(){const{toasts:t}=ci();return g.jsxs(wD,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return g.jsxs(TI,{...i,children:[g.jsxs("div",{className:"grid gap-1",children:[n&&g.jsx(SI,{children:n}),r&&g.jsx(II,{children:r})]}),s,g.jsx(xI,{})]},e)}),g.jsx(bI,{})]})}var z_=["light","dark"],TD="(prefers-color-scheme: dark)",xD=x.createContext(void 0),SD={setTheme:t=>{},themes:[]},ID=()=>{var t;return(t=x.useContext(xD))!=null?t:SD};x.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?z_.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(T,w=!1,E=!0)=>{let _=o?o[T]:T,y=w?T+"|| ''":`'${_}'`,b="";return s&&E&&!w&&z_.includes(T)&&(b+=`d.style.colorScheme = '${T}';`),n==="class"?w||_?b+=`c.add(${y})`:b+="null":_&&(b+=`d[s](n,${y})`),b},m=t?`!function(){${d}${f(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${TD}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return x.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var CD=t=>{switch(t){case"success":return PD;case"info":return ND;case"warning":return RD;case"error":return OD;default:return null}},AD=Array(12).fill(0),kD=({visible:t,className:e})=>H.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},H.createElement("div",{className:"sonner-spinner"},AD.map((n,r)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),PD=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),RD=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ND=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),OD=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),DD=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),LD=()=>{let[t,e]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Eg=1,MD=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Eg++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async u=>{if(o=["resolve",u],H.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(VD(u)&&!u.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:h})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(u):n.success,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),l=()=>new Promise((u,d)=>a.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Eg++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Gt=new MD,jD=(t,e)=>{let n=(e==null?void 0:e.id)||Eg++;return Gt.addToast({title:t,...e,id:n}),n},VD=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",FD=jD,UD=()=>Gt.toasts,$D=()=>Gt.getActiveToasts();Object.assign(FD,{success:Gt.success,info:Gt.info,warning:Gt.warning,error:Gt.error,custom:Gt.custom,message:Gt.message,promise:Gt.promise,dismiss:Gt.dismiss,loading:Gt.loading},{getHistory:UD,getToasts:$D});function BD(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}BD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function td(t){return t.label!==void 0}var zD=3,HD="32px",WD="16px",H_=4e3,qD=356,GD=14,KD=20,QD=200;function Rn(...t){return t.filter(Boolean).join(" ")}function YD(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var JD=t=>{var e,n,r,s,i,o,a,l,u,d,h;let{invert:f,toast:m,unstyled:T,interacting:w,setHeights:E,visibleToasts:_,heights:y,index:b,toasts:C,expanded:D,removeToast:L,defaultRichColors:I,closeButton:S,style:k,cancelButtonStyle:P,actionButtonStyle:N,className:O="",descriptionClassName:R="",duration:W,position:oe,gap:X,loadingIcon:re,expandByDefault:V,classNames:B,icons:G,closeButtonAriaLabel:ae="Close toast",pauseWhenPageIsHidden:J}=t,[Z,fe]=H.useState(null),[Ne,at]=H.useState(null),[ve,ts]=H.useState(!1),[Xn,gn]=H.useState(!1),[nn,Zn]=H.useState(!1),[yn,ns]=H.useState(!1),[yi,vi]=H.useState(!1),[tl,wi]=H.useState(0),[_r,ho]=H.useState(0),rs=H.useRef(m.duration||W||H_),yu=H.useRef(null),An=H.useRef(null),nl=b===0,vu=b+1<=_,Ce=m.type,qe=m.dismissible!==!1,fo=m.className||"",wu=m.descriptionClassName||"",_i=H.useMemo(()=>y.findIndex(se=>se.toastId===m.id)||0,[y,m.id]),sp=H.useMemo(()=>{var se;return(se=m.closeButton)!=null?se:S},[m.closeButton,S]),ss=H.useMemo(()=>m.duration||W||H_,[m.duration,W]),po=H.useRef(0),Er=H.useRef(0),mo=H.useRef(0),is=H.useRef(null),[ip,rl]=oe.split("-"),sl=H.useMemo(()=>y.reduce((se,Ee,Pe)=>Pe>=_i?se:se+Ee.height,0),[y,_i]),il=LD(),Ei=m.invert||f,bi=Ce==="loading";Er.current=H.useMemo(()=>_i*X+sl,[_i,sl]),H.useEffect(()=>{rs.current=ss},[ss]),H.useEffect(()=>{ts(!0)},[]),H.useEffect(()=>{let se=An.current;if(se){let Ee=se.getBoundingClientRect().height;return ho(Ee),E(Pe=>[{toastId:m.id,height:Ee,position:m.position},...Pe]),()=>E(Pe=>Pe.filter(pt=>pt.toastId!==m.id))}},[E,m.id]),H.useLayoutEffect(()=>{if(!ve)return;let se=An.current,Ee=se.style.height;se.style.height="auto";let Pe=se.getBoundingClientRect().height;se.style.height=Ee,ho(Pe),E(pt=>pt.find(Ht=>Ht.toastId===m.id)?pt.map(Ht=>Ht.toastId===m.id?{...Ht,height:Pe}:Ht):[{toastId:m.id,height:Pe,position:m.position},...pt])},[ve,m.title,m.description,E,m.id]);let vn=H.useCallback(()=>{gn(!0),wi(Er.current),E(se=>se.filter(Ee=>Ee.toastId!==m.id)),setTimeout(()=>{L(m)},QD)},[m,L,E,Er]);H.useEffect(()=>{if(m.promise&&Ce==="loading"||m.duration===1/0||m.type==="loading")return;let se;return D||w||J&&il?(()=>{if(mo.current<po.current){let Ee=new Date().getTime()-po.current;rs.current=rs.current-Ee}mo.current=new Date().getTime()})():rs.current!==1/0&&(po.current=new Date().getTime(),se=setTimeout(()=>{var Ee;(Ee=m.onAutoClose)==null||Ee.call(m,m),vn()},rs.current)),()=>clearTimeout(se)},[D,w,m,Ce,J,il,vn]),H.useEffect(()=>{m.delete&&vn()},[vn,m.delete]);function br(){var se,Ee,Pe;return G!=null&&G.loading?H.createElement("div",{className:Rn(B==null?void 0:B.loader,(se=m==null?void 0:m.classNames)==null?void 0:se.loader,"sonner-loader"),"data-visible":Ce==="loading"},G.loading):re?H.createElement("div",{className:Rn(B==null?void 0:B.loader,(Ee=m==null?void 0:m.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":Ce==="loading"},re):H.createElement(kD,{className:Rn(B==null?void 0:B.loader,(Pe=m==null?void 0:m.classNames)==null?void 0:Pe.loader),visible:Ce==="loading"})}return H.createElement("li",{tabIndex:0,ref:An,className:Rn(O,fo,B==null?void 0:B.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,B==null?void 0:B.default,B==null?void 0:B[Ce],(n=m==null?void 0:m.classNames)==null?void 0:n[Ce]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:I,"data-styled":!(m.jsx||m.unstyled||T),"data-mounted":ve,"data-promise":!!m.promise,"data-swiped":yi,"data-removed":Xn,"data-visible":vu,"data-y-position":ip,"data-x-position":rl,"data-index":b,"data-front":nl,"data-swiping":nn,"data-dismissible":qe,"data-type":Ce,"data-invert":Ei,"data-swipe-out":yn,"data-swipe-direction":Ne,"data-expanded":!!(D||V&&ve),style:{"--index":b,"--toasts-before":b,"--z-index":C.length-b,"--offset":`${Xn?tl:Er.current}px`,"--initial-height":V?"auto":`${_r}px`,...k,...m.style},onDragEnd:()=>{Zn(!1),fe(null),is.current=null},onPointerDown:se=>{bi||!qe||(yu.current=new Date,wi(Er.current),se.target.setPointerCapture(se.pointerId),se.target.tagName!=="BUTTON"&&(Zn(!0),is.current={x:se.clientX,y:se.clientY}))},onPointerUp:()=>{var se,Ee,Pe,pt;if(yn||!qe)return;is.current=null;let Ht=Number(((se=An.current)==null?void 0:se.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ue=Number(((Ee=An.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),er=new Date().getTime()-((Pe=yu.current)==null?void 0:Pe.getTime()),mt=Z==="x"?Ht:Ue,Wt=Math.abs(mt)/er;if(Math.abs(mt)>=KD||Wt>.11){wi(Er.current),(pt=m.onDismiss)==null||pt.call(m,m),at(Z==="x"?Ht>0?"right":"left":Ue>0?"down":"up"),vn(),ns(!0),vi(!1);return}Zn(!1),fe(null)},onPointerMove:se=>{var Ee,Pe,pt,Ht;if(!is.current||!qe||((Ee=window.getSelection())==null?void 0:Ee.toString().length)>0)return;let Ue=se.clientY-is.current.y,er=se.clientX-is.current.x,mt=(Pe=t.swipeDirections)!=null?Pe:YD(oe);!Z&&(Math.abs(er)>1||Math.abs(Ue)>1)&&fe(Math.abs(er)>Math.abs(Ue)?"x":"y");let Wt={x:0,y:0};Z==="y"?(mt.includes("top")||mt.includes("bottom"))&&(mt.includes("top")&&Ue<0||mt.includes("bottom")&&Ue>0)&&(Wt.y=Ue):Z==="x"&&(mt.includes("left")||mt.includes("right"))&&(mt.includes("left")&&er<0||mt.includes("right")&&er>0)&&(Wt.x=er),(Math.abs(Wt.x)>0||Math.abs(Wt.y)>0)&&vi(!0),(pt=An.current)==null||pt.style.setProperty("--swipe-amount-x",`${Wt.x}px`),(Ht=An.current)==null||Ht.style.setProperty("--swipe-amount-y",`${Wt.y}px`)}},sp&&!m.jsx?H.createElement("button",{"aria-label":ae,"data-disabled":bi,"data-close-button":!0,onClick:bi||!qe?()=>{}:()=>{var se;vn(),(se=m.onDismiss)==null||se.call(m,m)},className:Rn(B==null?void 0:B.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=G==null?void 0:G.close)!=null?i:DD):null,m.jsx||x.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:H.createElement(H.Fragment,null,Ce||m.icon||m.promise?H.createElement("div",{"data-icon":"",className:Rn(B==null?void 0:B.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||br():null,m.type!=="loading"?m.icon||(G==null?void 0:G[Ce])||CD(Ce):null):null,H.createElement("div",{"data-content":"",className:Rn(B==null?void 0:B.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},H.createElement("div",{"data-title":"",className:Rn(B==null?void 0:B.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?H.createElement("div",{"data-description":"",className:Rn(R,wu,B==null?void 0:B.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),x.isValidElement(m.cancel)?m.cancel:m.cancel&&td(m.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||P,onClick:se=>{var Ee,Pe;td(m.cancel)&&qe&&((Pe=(Ee=m.cancel).onClick)==null||Pe.call(Ee,se),vn())},className:Rn(B==null?void 0:B.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,x.isValidElement(m.action)?m.action:m.action&&td(m.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||N,onClick:se=>{var Ee,Pe;td(m.action)&&((Pe=(Ee=m.action).onClick)==null||Pe.call(Ee,se),!se.defaultPrevented&&vn())},className:Rn(B==null?void 0:B.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function W_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function XD(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?WD:HD;function l(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var ZD=x.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:m,visibleToasts:T=zD,toastOptions:w,dir:E=W_(),gap:_=GD,loadingIcon:y,icons:b,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:D}=t,[L,I]=H.useState([]),S=H.useMemo(()=>Array.from(new Set([r].concat(L.filter(J=>J.position).map(J=>J.position)))),[L,r]),[k,P]=H.useState([]),[N,O]=H.useState(!1),[R,W]=H.useState(!1),[oe,X]=H.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),re=H.useRef(null),V=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=H.useRef(null),G=H.useRef(!1),ae=H.useCallback(J=>{I(Z=>{var fe;return(fe=Z.find(Ne=>Ne.id===J.id))!=null&&fe.delete||Gt.dismiss(J.id),Z.filter(({id:Ne})=>Ne!==J.id)})},[]);return H.useEffect(()=>Gt.subscribe(J=>{if(J.dismiss){I(Z=>Z.map(fe=>fe.id===J.id?{...fe,delete:!0}:fe));return}setTimeout(()=>{FS.flushSync(()=>{I(Z=>{let fe=Z.findIndex(Ne=>Ne.id===J.id);return fe!==-1?[...Z.slice(0,fe),{...Z[fe],...J},...Z.slice(fe+1)]:[J,...Z]})})})}),[]),H.useEffect(()=>{if(d!=="system"){X(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window>"u")return;let J=window.matchMedia("(prefers-color-scheme: dark)");try{J.addEventListener("change",({matches:Z})=>{X(Z?"dark":"light")})}catch{J.addListener(({matches:fe})=>{try{X(fe?"dark":"light")}catch(Ne){console.error(Ne)}})}},[d]),H.useEffect(()=>{L.length<=1&&O(!1)},[L]),H.useEffect(()=>{let J=Z=>{var fe,Ne;s.every(at=>Z[at]||Z.code===at)&&(O(!0),(fe=re.current)==null||fe.focus()),Z.code==="Escape"&&(document.activeElement===re.current||(Ne=re.current)!=null&&Ne.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[s]),H.useEffect(()=>{if(re.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,G.current=!1)}},[re.current]),H.createElement("section",{ref:e,"aria-label":`${C} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((J,Z)=>{var fe;let[Ne,at]=J.split("-");return L.length?H.createElement("ol",{key:J,dir:E==="auto"?W_():E,tabIndex:-1,ref:re,className:a,"data-sonner-toaster":!0,"data-theme":oe,"data-y-position":Ne,"data-lifted":N&&L.length>1&&!i,"data-x-position":at,style:{"--front-toast-height":`${((fe=k[0])==null?void 0:fe.height)||0}px`,"--width":`${qD}px`,"--gap":`${_}px`,...m,...XD(l,u)},onBlur:ve=>{G.current&&!ve.currentTarget.contains(ve.relatedTarget)&&(G.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||G.current||(G.current=!0,B.current=ve.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{R||O(!1)},onDragEnd:()=>O(!1),onPointerDown:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},L.filter(ve=>!ve.position&&Z===0||ve.position===J).map((ve,ts)=>{var Xn,gn;return H.createElement(JD,{key:ve.id,icons:b,index:ts,toast:ve,defaultRichColors:h,duration:(Xn=w==null?void 0:w.duration)!=null?Xn:f,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:n,visibleToasts:T,closeButton:(gn=w==null?void 0:w.closeButton)!=null?gn:o,interacting:R,position:J,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:ae,toasts:L.filter(nn=>nn.position==ve.position),heights:k.filter(nn=>nn.position==ve.position),setHeights:P,expandByDefault:i,gap:_,loadingIcon:y,expanded:N,pauseWhenPageIsHidden:D,swipeDirections:t.swipeDirections})})):null}))});const eL=({...t})=>{const{theme:e="system"}=ID();return g.jsx(ZD,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var tL=vy[" useId ".trim().toString()]||(()=>{}),nL=0;function Gl(t){const[e,n]=x.useState(tL());return Hr(()=>{n(r=>r??String(nL++))},[t]),e?`radix-${e}`:""}const rL=["top","right","bottom","left"],Js=Math.min,on=Math.max,gh=Math.round,nd=Math.floor,hr=t=>({x:t,y:t}),sL={left:"right",right:"left",bottom:"top",top:"bottom"},iL={start:"end",end:"start"};function bg(t,e,n){return on(t,Js(e,n))}function Wr(t,e){return typeof t=="function"?t(e):t}function qr(t){return t.split("-")[0]}function Va(t){return t.split("-")[1]}function gv(t){return t==="x"?"y":"x"}function yv(t){return t==="y"?"height":"width"}function cr(t){return["top","bottom"].includes(qr(t))?"y":"x"}function vv(t){return gv(cr(t))}function oL(t,e,n){n===void 0&&(n=!1);const r=Va(t),s=vv(t),i=yv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=yh(o)),[o,yh(o)]}function aL(t){const e=yh(t);return[Tg(t),e,Tg(e)]}function Tg(t){return t.replace(/start|end/g,e=>iL[e])}function lL(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function cL(t,e,n,r){const s=Va(t);let i=lL(qr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Tg)))),i}function yh(t){return t.replace(/left|right|bottom|top/g,e=>sL[e])}function uL(t){return{top:0,right:0,bottom:0,left:0,...t}}function CI(t){return typeof t!="number"?uL(t):{top:t,right:t,bottom:t,left:t}}function vh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function q_(t,e,n){let{reference:r,floating:s}=t;const i=cr(e),o=vv(e),a=yv(o),l=qr(e),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Va(e)){case"start":m[o]-=f*(n&&u?-1:1);break;case"end":m[o]+=f*(n&&u?-1:1);break}return m}const dL=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=q_(u,r,l),f=r,m={},T=0;for(let w=0;w<a.length;w++){const{name:E,fn:_}=a[w],{x:y,y:b,data:C,reset:D}=await _({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=y??d,h=b??h,m={...m,[E]:{...m[E],...C}},D&&T<=50&&(T++,typeof D=="object"&&(D.placement&&(f=D.placement),D.rects&&(u=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:d,y:h}=q_(u,f,l)),w=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:m}};async function bc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=Wr(e,t),T=CI(m),E=a[f?h==="floating"?"reference":"floating":h],_=vh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),y=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},D=vh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:l}):y);return{top:(_.top-D.top+T.top)/C.y,bottom:(D.bottom-_.bottom+T.bottom)/C.y,left:(_.left-D.left+T.left)/C.x,right:(D.right-_.right+T.right)/C.x}}const hL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Wr(t,e)||{};if(u==null)return{};const h=CI(d),f={x:n,y:r},m=vv(s),T=yv(m),w=await o.getDimensions(u),E=m==="y",_=E?"top":"left",y=E?"bottom":"right",b=E?"clientHeight":"clientWidth",C=i.reference[T]+i.reference[m]-f[m]-i.floating[T],D=f[m]-i.reference[m],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=L?L[b]:0;(!I||!await(o.isElement==null?void 0:o.isElement(L)))&&(I=a.floating[b]||i.floating[T]);const S=C/2-D/2,k=I/2-w[T]/2-1,P=Js(h[_],k),N=Js(h[y],k),O=P,R=I-w[T]-N,W=I/2-w[T]/2+S,oe=bg(O,W,R),X=!l.arrow&&Va(s)!=null&&W!==oe&&i.reference[T]/2-(W<O?P:N)-w[T]/2<0,re=X?W<O?W-O:W-R:0;return{[m]:f[m]+re,data:{[m]:oe,centerOffset:W-oe-re,...X&&{alignmentOffset:re}},reset:X}}}),fL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:w=!0,...E}=Wr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=qr(s),y=cr(a),b=qr(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),D=f||(b||!w?[yh(a)]:aL(a)),L=T!=="none";!f&&L&&D.push(...cL(a,w,T,C));const I=[a,...D],S=await bc(e,E),k=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&k.push(S[_]),h){const W=oL(s,o,C);k.push(S[W[0]],S[W[1]])}if(P=[...P,{placement:s,overflows:k}],!k.every(W=>W<=0)){var N,O;const W=(((N=i.flip)==null?void 0:N.index)||0)+1,oe=I[W];if(oe&&(!(h==="alignment"?y!==cr(oe):!1)||P.every(V=>V.overflows[0]>0&&cr(V.placement)===y)))return{data:{index:W,overflows:P},reset:{placement:oe}};let X=(O=P.filter(re=>re.overflows[0]<=0).sort((re,V)=>re.overflows[1]-V.overflows[1])[0])==null?void 0:O.placement;if(!X)switch(m){case"bestFit":{var R;const re=(R=P.filter(V=>{if(L){const B=cr(V.placement);return B===y||B==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(B=>B>0).reduce((B,G)=>B+G,0)]).sort((V,B)=>V[1]-B[1])[0])==null?void 0:R[0];re&&(X=re);break}case"initialPlacement":X=a;break}if(s!==X)return{reset:{placement:X}}}return{}}}};function G_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function K_(t){return rL.some(e=>t[e]>=0)}const pL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Wr(t,e);switch(r){case"referenceHidden":{const i=await bc(e,{...s,elementContext:"reference"}),o=G_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:K_(o)}}}case"escaped":{const i=await bc(e,{...s,altBoundary:!0}),o=G_(i,n.floating);return{data:{escapedOffsets:o,escaped:K_(o)}}}default:return{}}}}};async function mL(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=qr(n),a=Va(n),l=cr(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,h=Wr(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:T}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof T=="number"&&(m=a==="end"?T*-1:T),l?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const gL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await mL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},yL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:_,y}=E;return{x:_,y}}},...l}=Wr(t,e),u={x:n,y:r},d=await bc(e,l),h=cr(qr(s)),f=gv(h);let m=u[f],T=u[h];if(i){const E=f==="y"?"top":"left",_=f==="y"?"bottom":"right",y=m+d[E],b=m-d[_];m=bg(y,m,b)}if(o){const E=h==="y"?"top":"left",_=h==="y"?"bottom":"right",y=T+d[E],b=T-d[_];T=bg(y,T,b)}const w=a.fn({...e,[f]:m,[h]:T});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[f]:i,[h]:o}}}}}},vL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Wr(t,e),d={x:n,y:r},h=cr(s),f=gv(h);let m=d[f],T=d[h];const w=Wr(a,e),E=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const b=f==="y"?"height":"width",C=i.reference[f]-i.floating[b]+E.mainAxis,D=i.reference[f]+i.reference[b]-E.mainAxis;m<C?m=C:m>D&&(m=D)}if(u){var _,y;const b=f==="y"?"width":"height",C=["top","left"].includes(qr(s)),D=i.reference[h]-i.floating[b]+(C&&((_=o.offset)==null?void 0:_[h])||0)+(C?0:E.crossAxis),L=i.reference[h]+i.reference[b]+(C?0:((y=o.offset)==null?void 0:y[h])||0)-(C?E.crossAxis:0);T<D?T=D:T>L&&(T=L)}return{[f]:m,[h]:T}}}},wL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Wr(t,e),d=await bc(e,u),h=qr(s),f=Va(s),m=cr(s)==="y",{width:T,height:w}=i.floating;let E,_;h==="top"||h==="bottom"?(E=h,_=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=h,E=f==="end"?"top":"bottom");const y=w-d.top-d.bottom,b=T-d.left-d.right,C=Js(w-d[E],y),D=Js(T-d[_],b),L=!e.middlewareData.shift;let I=C,S=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=y),L&&!f){const P=on(d.left,0),N=on(d.right,0),O=on(d.top,0),R=on(d.bottom,0);m?S=T-2*(P!==0||N!==0?P+N:on(d.left,d.right)):I=w-2*(O!==0||R!==0?O+R:on(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:I});const k=await o.getDimensions(a.floating);return T!==k.width||w!==k.height?{reset:{rects:!0}}:{}}}};function df(){return typeof window<"u"}function Fa(t){return AI(t)?(t.nodeName||"").toLowerCase():"#document"}function dn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function wr(t){var e;return(e=(AI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function AI(t){return df()?t instanceof Node||t instanceof dn(t).Node:!1}function Gn(t){return df()?t instanceof Element||t instanceof dn(t).Element:!1}function yr(t){return df()?t instanceof HTMLElement||t instanceof dn(t).HTMLElement:!1}function Q_(t){return!df()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof dn(t).ShadowRoot}function Jc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Kn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function _L(t){return["table","td","th"].includes(Fa(t))}function hf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function wv(t){const e=_v(),n=Gn(t)?Kn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function EL(t){let e=Xs(t);for(;yr(e)&&!Ta(e);){if(wv(e))return e;if(hf(e))return null;e=Xs(e)}return null}function _v(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ta(t){return["html","body","#document"].includes(Fa(t))}function Kn(t){return dn(t).getComputedStyle(t)}function ff(t){return Gn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Xs(t){if(Fa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Q_(t)&&t.host||wr(t);return Q_(e)?e.host:e}function kI(t){const e=Xs(t);return Ta(e)?t.ownerDocument?t.ownerDocument.body:t.body:yr(e)&&Jc(e)?e:kI(e)}function Tc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=kI(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=dn(s);if(i){const a=xg(o);return e.concat(o,o.visualViewport||[],Jc(s)?s:[],a&&n?Tc(a):[])}return e.concat(s,Tc(s,[],n))}function xg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function PI(t){const e=Kn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=yr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=gh(n)!==i||gh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Ev(t){return Gn(t)?t:t.contextElement}function ea(t){const e=Ev(t);if(!yr(e))return hr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=PI(e);let o=(i?gh(n.width):n.width)/r,a=(i?gh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const bL=hr(0);function RI(t){const e=dn(t);return!_v()||!e.visualViewport?bL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function TL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==dn(t)?!1:e}function Ji(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Ev(t);let o=hr(1);e&&(r?Gn(r)&&(o=ea(r)):o=ea(t));const a=TL(i,n,r)?RI(i):hr(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=dn(i),m=r&&Gn(r)?dn(r):r;let T=f,w=xg(T);for(;w&&r&&m!==T;){const E=ea(w),_=w.getBoundingClientRect(),y=Kn(w),b=_.left+(w.clientLeft+parseFloat(y.paddingLeft))*E.x,C=_.top+(w.clientTop+parseFloat(y.paddingTop))*E.y;l*=E.x,u*=E.y,d*=E.x,h*=E.y,l+=b,u+=C,T=dn(w),w=xg(T)}}return vh({width:d,height:h,x:l,y:u})}function bv(t,e){const n=ff(t).scrollLeft;return e?e.left+n:Ji(wr(t)).left+n}function NI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:bv(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function xL(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=wr(r),a=e?hf(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=hr(1);const d=hr(0),h=yr(r);if((h||!h&&!i)&&((Fa(r)!=="body"||Jc(o))&&(l=ff(r)),yr(r))){const m=Ji(r);u=ea(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=o&&!h&&!i?NI(o,l,!0):hr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-l.scrollTop*u.y+d.y+f.y}}function SL(t){return Array.from(t.getClientRects())}function IL(t){const e=wr(t),n=ff(t),r=t.ownerDocument.body,s=on(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=on(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+bv(t);const a=-n.scrollTop;return Kn(r).direction==="rtl"&&(o+=on(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function CL(t,e){const n=dn(t),r=wr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=_v();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function AL(t,e){const n=Ji(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=yr(t)?ea(t):hr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function Y_(t,e,n){let r;if(e==="viewport")r=CL(t,n);else if(e==="document")r=IL(wr(t));else if(Gn(e))r=AL(e,n);else{const s=RI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return vh(r)}function OI(t,e){const n=Xs(t);return n===e||!Gn(n)||Ta(n)?!1:Kn(n).position==="fixed"||OI(n,e)}function kL(t,e){const n=e.get(t);if(n)return n;let r=Tc(t,[],!1).filter(a=>Gn(a)&&Fa(a)!=="body"),s=null;const i=Kn(t).position==="fixed";let o=i?Xs(t):t;for(;Gn(o)&&!Ta(o);){const a=Kn(o),l=wv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Jc(o)&&!l&&OI(t,o))?r=r.filter(d=>d!==o):s=a,o=Xs(o)}return e.set(t,r),r}function PL(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?hf(e)?[]:kL(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=Y_(e,d,s);return u.top=on(h.top,u.top),u.right=Js(h.right,u.right),u.bottom=Js(h.bottom,u.bottom),u.left=on(h.left,u.left),u},Y_(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function RL(t){const{width:e,height:n}=PI(t);return{width:e,height:n}}function NL(t,e,n){const r=yr(e),s=wr(e),i=n==="fixed",o=Ji(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=hr(0);function u(){l.x=bv(s)}if(r||!r&&!i)if((Fa(e)!=="body"||Jc(s))&&(a=ff(e)),r){const m=Ji(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?NI(s,a):hr(0),h=o.left+a.scrollLeft-l.x-d.x,f=o.top+a.scrollTop-l.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function Qp(t){return Kn(t).position==="static"}function J_(t,e){if(!yr(t)||Kn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return wr(t)===n&&(n=n.ownerDocument.body),n}function DI(t,e){const n=dn(t);if(hf(t))return n;if(!yr(t)){let s=Xs(t);for(;s&&!Ta(s);){if(Gn(s)&&!Qp(s))return s;s=Xs(s)}return n}let r=J_(t,e);for(;r&&_L(r)&&Qp(r);)r=J_(r,e);return r&&Ta(r)&&Qp(r)&&!wv(r)?n:r||EL(t)||n}const OL=async function(t){const e=this.getOffsetParent||DI,n=this.getDimensions,r=await n(t.floating);return{reference:NL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function DL(t){return Kn(t).direction==="rtl"}const LL={convertOffsetParentRelativeRectToViewportRelativeRect:xL,getDocumentElement:wr,getClippingRect:PL,getOffsetParent:DI,getElementRects:OL,getClientRects:SL,getDimensions:RL,getScale:ea,isElement:Gn,isRTL:DL};function LI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ML(t,e){let n=null,r;const s=wr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(a||e(),!f||!m)return;const T=nd(h),w=nd(s.clientWidth-(d+f)),E=nd(s.clientHeight-(h+m)),_=nd(d),b={rootMargin:-T+"px "+-w+"px "+-E+"px "+-_+"px",threshold:on(0,Js(1,l))||1};let C=!0;function D(L){const I=L[0].intersectionRatio;if(I!==l){if(!C)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!LI(u,t.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(D,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,b)}n.observe(t)}return o(!0),i}function jL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Ev(t),d=s||i?[...u?Tc(u):[],...Tc(e)]:[];d.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const h=u&&a?ML(u,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(_=>{let[y]=_;y&&y.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let T,w=l?Ji(t):null;l&&E();function E(){const _=Ji(t);w&&!LI(w,_)&&n(),w=_,T=requestAnimationFrame(E)}return n(),()=>{var _;d.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),h==null||h(),(_=m)==null||_.disconnect(),m=null,l&&cancelAnimationFrame(T)}}const VL=gL,FL=yL,UL=fL,$L=wL,BL=pL,X_=hL,zL=vL,HL=(t,e,n)=>{const r=new Map,s={platform:LL,...n},i={...s.platform,_c:r};return dL(t,e,{...s,platform:i})};var WL=typeof document<"u",qL=function(){},Od=WL?x.useLayoutEffect:qL;function wh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!wh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!wh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function MI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Z_(t,e){const n=MI(t);return Math.round(e*n)/n}function Yp(t){const e=x.useRef(t);return Od(()=>{e.current=t}),e}function GL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=x.useState(r);wh(f,r)||m(r);const[T,w]=x.useState(null),[E,_]=x.useState(null),y=x.useCallback(V=>{V!==L.current&&(L.current=V,w(V))},[]),b=x.useCallback(V=>{V!==I.current&&(I.current=V,_(V))},[]),C=i||T,D=o||E,L=x.useRef(null),I=x.useRef(null),S=x.useRef(d),k=l!=null,P=Yp(l),N=Yp(s),O=Yp(u),R=x.useCallback(()=>{if(!L.current||!I.current)return;const V={placement:e,strategy:n,middleware:f};N.current&&(V.platform=N.current),HL(L.current,I.current,V).then(B=>{const G={...B,isPositioned:O.current!==!1};W.current&&!wh(S.current,G)&&(S.current=G,Kc.flushSync(()=>{h(G)}))})},[f,e,n,N,O]);Od(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(V=>({...V,isPositioned:!1})))},[u]);const W=x.useRef(!1);Od(()=>(W.current=!0,()=>{W.current=!1}),[]),Od(()=>{if(C&&(L.current=C),D&&(I.current=D),C&&D){if(P.current)return P.current(C,D,R);R()}},[C,D,R,P,k]);const oe=x.useMemo(()=>({reference:L,floating:I,setReference:y,setFloating:b}),[y,b]),X=x.useMemo(()=>({reference:C,floating:D}),[C,D]),re=x.useMemo(()=>{const V={position:n,left:0,top:0};if(!X.floating)return V;const B=Z_(X.floating,d.x),G=Z_(X.floating,d.y);return a?{...V,transform:"translate("+B+"px, "+G+"px)",...MI(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:G}},[n,a,X.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:R,refs:oe,elements:X,floatingStyles:re}),[d,R,oe,X,re])}const KL=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?X_({element:r.current,padding:s}).fn(n):{}:r?X_({element:r,padding:s}).fn(n):{}}}},QL=(t,e)=>({...VL(t),options:[t,e]}),YL=(t,e)=>({...FL(t),options:[t,e]}),JL=(t,e)=>({...zL(t),options:[t,e]}),XL=(t,e)=>({...UL(t),options:[t,e]}),ZL=(t,e)=>({...$L(t),options:[t,e]}),eM=(t,e)=>({...BL(t),options:[t,e]}),tM=(t,e)=>({...KL(t),options:[t,e]});var nM="Arrow",jI=x.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return g.jsx(Ie.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});jI.displayName=nM;var rM=jI;function VI(t){const[e,n]=x.useState(void 0);return Hr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var FI="Popper",[UI,$I]=ui(FI),[M8,BI]=UI(FI),zI="PopperAnchor",HI=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=BI(zI,n),o=x.useRef(null),a=ft(e,o);return x.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:g.jsx(Ie.div,{...s,ref:a})});HI.displayName=zI;var Tv="PopperContent",[sM,iM]=UI(Tv),WI=x.forwardRef((t,e)=>{var ve,ts,Xn,gn,nn,Zn;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:T,...w}=t,E=BI(Tv,n),[_,y]=x.useState(null),b=ft(e,yn=>y(yn)),[C,D]=x.useState(null),L=VI(C),I=(L==null?void 0:L.width)??0,S=(L==null?void 0:L.height)??0,k=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],O=N.length>0,R={padding:P,boundary:N.filter(aM),altBoundary:O},{refs:W,floatingStyles:oe,placement:X,isPositioned:re,middlewareData:V}=GL({strategy:"fixed",placement:k,whileElementsMounted:(...yn)=>jL(...yn,{animationFrame:m==="always"}),elements:{reference:E.anchor},middleware:[QL({mainAxis:s+S,alignmentAxis:o}),l&&YL({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?JL():void 0,...R}),l&&XL({...R}),ZL({...R,apply:({elements:yn,rects:ns,availableWidth:yi,availableHeight:vi})=>{const{width:tl,height:wi}=ns.reference,_r=yn.floating.style;_r.setProperty("--radix-popper-available-width",`${yi}px`),_r.setProperty("--radix-popper-available-height",`${vi}px`),_r.setProperty("--radix-popper-anchor-width",`${tl}px`),_r.setProperty("--radix-popper-anchor-height",`${wi}px`)}}),C&&tM({element:C,padding:a}),lM({arrowWidth:I,arrowHeight:S}),f&&eM({strategy:"referenceHidden",...R})]}),[B,G]=KI(X),ae=qn(T);Hr(()=>{re&&(ae==null||ae())},[re,ae]);const J=(ve=V.arrow)==null?void 0:ve.x,Z=(ts=V.arrow)==null?void 0:ts.y,fe=((Xn=V.arrow)==null?void 0:Xn.centerOffset)!==0,[Ne,at]=x.useState();return Hr(()=>{_&&at(window.getComputedStyle(_).zIndex)},[_]),g.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:re?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[(gn=V.transformOrigin)==null?void 0:gn.x,(nn=V.transformOrigin)==null?void 0:nn.y].join(" "),...((Zn=V.hide)==null?void 0:Zn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(sM,{scope:n,placedSide:B,onArrowChange:D,arrowX:J,arrowY:Z,shouldHideArrow:fe,children:g.jsx(Ie.div,{"data-side":B,"data-align":G,...w,ref:b,style:{...w.style,animation:re?void 0:"none"}})})})});WI.displayName=Tv;var qI="PopperArrow",oM={top:"bottom",right:"left",bottom:"top",left:"right"},GI=x.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=iM(qI,r),o=oM[i.placedSide];return g.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:g.jsx(rM,{...s,ref:n,style:{...s.style,display:"block"}})})});GI.displayName=qI;function aM(t){return t!==null}var lM=t=>({name:"transformOrigin",options:t,fn(e){var E,_,y;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=KI(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,m=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let T="",w="";return u==="bottom"?(T=o?h:`${f}px`,w=`${-l}px`):u==="top"?(T=o?h:`${f}px`,w=`${r.floating.height+l}px`):u==="right"?(T=`${-l}px`,w=o?h:`${m}px`):u==="left"&&(T=`${r.floating.width+l}px`,w=o?h:`${m}px`),{data:{x:T,y:w}}}});function KI(t){const[e,n="center"]=t.split("-");return[e,n]}var cM=HI,uM=WI,dM=GI,[pf,j8]=ui("Tooltip",[$I]),xv=$I(),QI="TooltipProvider",hM=700,eE="tooltip.open",[fM,YI]=pf(QI),JI=t=>{const{__scopeTooltip:e,delayDuration:n=hM,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=x.useRef(!0),a=x.useRef(!1),l=x.useRef(0);return x.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),g.jsx(fM,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:x.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};JI.displayName=QI;var XI="Tooltip",[V8,mf]=pf(XI),Sg="TooltipTrigger",pM=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=mf(Sg,n),i=YI(Sg,n),o=xv(n),a=x.useRef(null),l=ft(e,a,s.onTriggerChange),u=x.useRef(!1),d=x.useRef(!1),h=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),g.jsx(cM,{asChild:!0,...o,children:g.jsx(Ie.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:we(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:we(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:we(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:we(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:we(t.onBlur,s.onClose),onClick:we(t.onClick,s.onClose)})})});pM.displayName=Sg;var mM="TooltipPortal",[F8,gM]=pf(mM,{forceMount:void 0}),xa="TooltipContent",ZI=x.forwardRef((t,e)=>{const n=gM(xa,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=mf(xa,t.__scopeTooltip);return g.jsx(di,{present:r||o.open,children:o.disableHoverableContent?g.jsx(eC,{side:s,...i,ref:e}):g.jsx(yM,{side:s,...i,ref:e})})}),yM=x.forwardRef((t,e)=>{const n=mf(xa,t.__scopeTooltip),r=YI(xa,t.__scopeTooltip),s=x.useRef(null),i=ft(e,s),[o,a]=x.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,f=x.useCallback(()=>{a(null),h(!1)},[h]),m=x.useCallback((T,w)=>{const E=T.currentTarget,_={x:T.clientX,y:T.clientY},y=bM(_,E.getBoundingClientRect()),b=TM(_,y),C=xM(w.getBoundingClientRect()),D=IM([...b,...C]);a(D),h(!0)},[h]);return x.useEffect(()=>()=>f(),[f]),x.useEffect(()=>{if(l&&d){const T=E=>m(E,d),w=E=>m(E,l);return l.addEventListener("pointerleave",T),d.addEventListener("pointerleave",w),()=>{l.removeEventListener("pointerleave",T),d.removeEventListener("pointerleave",w)}}},[l,d,m,f]),x.useEffect(()=>{if(o){const T=w=>{const E=w.target,_={x:w.clientX,y:w.clientY},y=(l==null?void 0:l.contains(E))||(d==null?void 0:d.contains(E)),b=!SM(_,o);y?f():b&&(f(),u())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[l,d,o,u,f]),g.jsx(eC,{...t,ref:i})}),[vM,wM]=pf(XI,{isInside:!1}),_M=VO("TooltipContent"),eC=x.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=mf(xa,n),u=xv(n),{onClose:d}=l;return x.useEffect(()=>(document.addEventListener(eE,d),()=>document.removeEventListener(eE,d)),[d]),x.useEffect(()=>{if(l.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),g.jsx(af,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:g.jsxs(uM,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(_M,{children:r}),g.jsx(vM,{scope:n,isInside:!0,children:g.jsx(a2,{id:l.contentId,role:"tooltip",children:s||r})})]})})});ZI.displayName=xa;var tC="TooltipArrow",EM=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=xv(n);return wM(tC,n).isInside?null:g.jsx(dM,{...s,...r,ref:e})});EM.displayName=tC;function bM(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function TM(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function xM(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function SM(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,d=a.y,h=l.x,f=l.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(s=!s)}return s}function IM(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),CM(e)}function CM(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var AM=JI,nC=ZI;const kM=AM,PM=x.forwardRef(({className:t,sideOffset:e=4,...n},r)=>g.jsx(nC,{ref:r,sideOffset:e,className:ke("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));PM.displayName=nC.displayName;var gf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yf=typeof window>"u"||"Deno"in globalThis;function Dn(){}function RM(t,e){return typeof t=="function"?t(e):t}function NM(t){return typeof t=="number"&&t>=0&&t!==1/0}function OM(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ig(t,e){return typeof t=="function"?t(e):t}function DM(t,e){return typeof t=="function"?t(e):t}function tE(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Sv(o,e.options))return!1}else if(!Sc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function nE(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(xc(e.options.mutationKey)!==xc(i))return!1}else if(!Sc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Sv(t,e){return((e==null?void 0:e.queryKeyHashFn)||xc)(t)}function xc(t){return JSON.stringify(t,(e,n)=>Cg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Sc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Sc(t[n],e[n])):!1}function rC(t,e){if(t===e)return t;const n=rE(t)&&rE(e);if(n||Cg(t)&&Cg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let u=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&l.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=rC(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function rE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Cg(t){if(!sE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!sE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function sE(t){return Object.prototype.toString.call(t)==="[object Object]"}function LM(t){return new Promise(e=>{setTimeout(e,t)})}function MM(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?rC(t,e):e}function jM(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function VM(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Iv=Symbol();function sC(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Iv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Vi,Is,aa,vT,FM=(vT=class extends gf{constructor(){super();xe(this,Vi);xe(this,Is);xe(this,aa);ce(this,aa,e=>{if(!yf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,Is)||this.setEventListener(F(this,aa))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,Is))==null||e.call(this),ce(this,Is,void 0))}setEventListener(e){var n;ce(this,aa,e),(n=F(this,Is))==null||n.call(this),ce(this,Is,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){F(this,Vi)!==e&&(ce(this,Vi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof F(this,Vi)=="boolean"?F(this,Vi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Vi=new WeakMap,Is=new WeakMap,aa=new WeakMap,vT),iC=new FM,la,Cs,ca,wT,UM=(wT=class extends gf{constructor(){super();xe(this,la,!0);xe(this,Cs);xe(this,ca);ce(this,ca,e=>{if(!yf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,Cs)||this.setEventListener(F(this,ca))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,Cs))==null||e.call(this),ce(this,Cs,void 0))}setEventListener(e){var n;ce(this,ca,e),(n=F(this,Cs))==null||n.call(this),ce(this,Cs,e(this.setOnline.bind(this)))}setOnline(e){F(this,la)!==e&&(ce(this,la,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return F(this,la)}},la=new WeakMap,Cs=new WeakMap,ca=new WeakMap,wT),_h=new UM;function $M(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function BM(t){return Math.min(1e3*2**t,3e4)}function oC(t){return(t??"online")==="online"?_h.isOnline():!0}var aC=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Jp(t){return t instanceof aC}function lC(t){let e=!1,n=0,r=!1,s;const i=$M(),o=w=>{var E;r||(f(new aC(w)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>iC.isFocused()&&(t.networkMode==="always"||_h.isOnline())&&t.canRun(),d=()=>oC(t.networkMode)&&t.canRun(),h=w=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,w),s==null||s(),i.resolve(w))},f=w=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,w),s==null||s(),i.reject(w))},m=()=>new Promise(w=>{var E;s=_=>{(r||u())&&w(_)},(E=t.onPause)==null||E.call(t)}).then(()=>{var w;s=void 0,r||(w=t.onContinue)==null||w.call(t)}),T=()=>{if(r)return;let w;const E=n===0?t.initialPromise:void 0;try{w=E??t.fn()}catch(_){w=Promise.reject(_)}Promise.resolve(w).then(h).catch(_=>{var L;if(r)return;const y=t.retry??(yf?0:3),b=t.retryDelay??BM,C=typeof b=="function"?b(n,_):b,D=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,_);if(e||!D){f(_);return}n++,(L=t.onFail)==null||L.call(t,n,_),LM(C).then(()=>u()?void 0:m()).then(()=>{e?f(_):T()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?T():m().then(T),i)}}var zM=t=>setTimeout(t,0);function HM(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=zM;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Ut=HM(),Fi,_T,cC=(_T=class{constructor(){xe(this,Fi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),NM(this.gcTime)&&ce(this,Fi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(yf?1/0:5*60*1e3))}clearGcTimeout(){F(this,Fi)&&(clearTimeout(F(this,Fi)),ce(this,Fi,void 0))}},Fi=new WeakMap,_T),ua,da,wn,Ui,kt,$c,$i,Ln,Ir,ET,WM=(ET=class extends cC{constructor(n){super();xe(this,Ln);xe(this,ua);xe(this,da);xe(this,wn);xe(this,Ui);xe(this,kt);xe(this,$c);xe(this,$i);ce(this,$i,!1),ce(this,$c,n.defaultOptions),this.setOptions(n.options),this.observers=[],ce(this,Ui,n.client),ce(this,wn,F(this,Ui).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ce(this,ua,GM(this.options)),this.state=n.state??F(this,ua),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=F(this,kt))==null?void 0:n.promise}setOptions(n){this.options={...F(this,$c),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,wn).remove(this)}setData(n,r){const s=MM(this.state.data,n,this.options);return St(this,Ln,Ir).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){St(this,Ln,Ir).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=F(this,kt))==null?void 0:s.promise;return(i=F(this,kt))==null||i.cancel(n),r?r.then(Dn).catch(Dn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,ua))}isActive(){return this.observers.some(n=>DM(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Iv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Ig(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!OM(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,kt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,kt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),F(this,wn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(F(this,kt)&&(F(this,$i)?F(this,kt).cancel({revert:!0}):F(this,kt).cancelRetry()),this.scheduleGc()),F(this,wn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||St(this,Ln,Ir).call(this,{type:"invalidate"})}fetch(n,r){var d,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,kt))return F(this,kt).continueRetry(),F(this,kt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(T=>T.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(ce(this,$i,!0),s.signal)})},o=()=>{const m=sC(this.options,r),w=(()=>{const E={client:F(this,Ui),queryKey:this.queryKey,meta:this.meta};return i(E),E})();return ce(this,$i,!1),this.options.persister?this.options.persister(m,w,this):m(w)},l=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,Ui),state:this.state,fetchFn:o};return i(m),m})();(d=this.options.behavior)==null||d.onFetch(l,this),ce(this,da,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&St(this,Ln,Ir).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const u=m=>{var T,w,E,_;Jp(m)&&m.silent||St(this,Ln,Ir).call(this,{type:"error",error:m}),Jp(m)||((w=(T=F(this,wn).config).onError)==null||w.call(T,m,this),(_=(E=F(this,wn).config).onSettled)==null||_.call(E,this.state.data,m,this)),this.scheduleGc()};return ce(this,kt,lC({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var T,w,E,_;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(y){u(y);return}(w=(T=F(this,wn).config).onSuccess)==null||w.call(T,m,this),(_=(E=F(this,wn).config).onSettled)==null||_.call(E,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,T)=>{St(this,Ln,Ir).call(this,{type:"failed",failureCount:m,error:T})},onPause:()=>{St(this,Ln,Ir).call(this,{type:"pause"})},onContinue:()=>{St(this,Ln,Ir).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),F(this,kt).start()}},ua=new WeakMap,da=new WeakMap,wn=new WeakMap,Ui=new WeakMap,kt=new WeakMap,$c=new WeakMap,$i=new WeakMap,Ln=new WeakSet,Ir=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...qM(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Jp(i)&&i.revert&&F(this,da)?{...F(this,da),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Ut.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),F(this,wn).notify({query:this,type:"updated",action:n})})},ET);function qM(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:oC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function GM(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var sr,bT,KM=(bT=class extends gf{constructor(e={}){super();xe(this,sr);this.config=e,ce(this,sr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Sv(s,n);let o=this.get(i);return o||(o=new WM({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){F(this,sr).has(e.queryHash)||(F(this,sr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,sr).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,sr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ut.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,sr).get(e)}getAll(){return[...F(this,sr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>tE(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>tE(e,r)):n}notify(e){Ut.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ut.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ut.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},sr=new WeakMap,bT),ir,Vt,Bi,or,fs,TT,QM=(TT=class extends cC{constructor(n){super();xe(this,or);xe(this,ir);xe(this,Vt);xe(this,Bi);this.mutationId=n.mutationId,ce(this,Vt,n.mutationCache),ce(this,ir,[]),this.state=n.state||YM(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){F(this,ir).includes(n)||(F(this,ir).push(n),this.clearGcTimeout(),F(this,Vt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ce(this,ir,F(this,ir).filter(r=>r!==n)),this.scheduleGc(),F(this,Vt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){F(this,ir).length||(this.state.status==="pending"?this.scheduleGc():F(this,Vt).remove(this))}continue(){var n;return((n=F(this,Bi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,u,d,h,f,m,T,w,E,_,y,b,C,D,L,I,S,k;const r=()=>{St(this,or,fs).call(this,{type:"continue"})};ce(this,Bi,lC({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(P,N)=>{St(this,or,fs).call(this,{type:"failed",failureCount:P,error:N})},onPause:()=>{St(this,or,fs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,Vt).canRun(this)}));const s=this.state.status==="pending",i=!F(this,Bi).canStart();try{if(s)r();else{St(this,or,fs).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=F(this,Vt).config).onMutate)==null?void 0:a.call(o,n,this));const N=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,n));N!==this.state.context&&St(this,or,fs).call(this,{type:"pending",context:N,variables:n,isPaused:i})}const P=await F(this,Bi).start();return await((h=(d=F(this,Vt).config).onSuccess)==null?void 0:h.call(d,P,n,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,P,n,this.state.context)),await((w=(T=F(this,Vt).config).onSettled)==null?void 0:w.call(T,P,null,this.state.variables,this.state.context,this)),await((_=(E=this.options).onSettled)==null?void 0:_.call(E,P,null,n,this.state.context)),St(this,or,fs).call(this,{type:"success",data:P}),P}catch(P){try{throw await((b=(y=F(this,Vt).config).onError)==null?void 0:b.call(y,P,n,this.state.context,this)),await((D=(C=this.options).onError)==null?void 0:D.call(C,P,n,this.state.context)),await((I=(L=F(this,Vt).config).onSettled)==null?void 0:I.call(L,void 0,P,this.state.variables,this.state.context,this)),await((k=(S=this.options).onSettled)==null?void 0:k.call(S,void 0,P,n,this.state.context)),P}finally{St(this,or,fs).call(this,{type:"error",error:P})}}finally{F(this,Vt).runNext(this)}}},ir=new WeakMap,Vt=new WeakMap,Bi=new WeakMap,or=new WeakSet,fs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ut.batch(()=>{F(this,ir).forEach(s=>{s.onMutationUpdate(n)}),F(this,Vt).notify({mutation:this,type:"updated",action:n})})},TT);function YM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Rr,Mn,Bc,xT,JM=(xT=class extends gf{constructor(e={}){super();xe(this,Rr);xe(this,Mn);xe(this,Bc);this.config=e,ce(this,Rr,new Set),ce(this,Mn,new Map),ce(this,Bc,0)}build(e,n,r){const s=new QM({mutationCache:this,mutationId:++Du(this,Bc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){F(this,Rr).add(e);const n=rd(e);if(typeof n=="string"){const r=F(this,Mn).get(n);r?r.push(e):F(this,Mn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(F(this,Rr).delete(e)){const n=rd(e);if(typeof n=="string"){const r=F(this,Mn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&F(this,Mn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=rd(e);if(typeof n=="string"){const r=F(this,Mn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=rd(e);if(typeof n=="string"){const s=(r=F(this,Mn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ut.batch(()=>{F(this,Rr).forEach(e=>{this.notify({type:"removed",mutation:e})}),F(this,Rr).clear(),F(this,Mn).clear()})}getAll(){return Array.from(F(this,Rr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>nE(n,r))}findAll(e={}){return this.getAll().filter(n=>nE(e,n))}notify(e){Ut.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ut.batch(()=>Promise.all(e.map(n=>n.continue().catch(Dn))))}},Rr=new WeakMap,Mn=new WeakMap,Bc=new WeakMap,xT);function rd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function iE(t){return{onFetch:(e,n)=>{var d,h,f,m,T;const r=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((T=e.state.data)==null?void 0:T.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let w=!1;const E=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},_=sC(e.options,e.fetchOptions),y=async(b,C,D)=>{if(w)return Promise.reject();if(C==null&&b.pages.length)return Promise.resolve(b);const I=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:C,direction:D?"backward":"forward",meta:e.options.meta};return E(N),N})(),S=await _(I),{maxPages:k}=e.options,P=D?VM:jM;return{pages:P(b.pages,S,k),pageParams:P(b.pageParams,C,k)}};if(s&&i.length){const b=s==="backward",C=b?XM:oE,D={pages:i,pageParams:o},L=C(r,D);a=await y(D,L,b)}else{const b=t??i.length;do{const C=l===0?o[0]??r.initialPageParam:oE(r,a);if(l>0&&C==null)break;a=await y(a,C),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var w,E;return(E=(w=e.options).persister)==null?void 0:E.call(w,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function oE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function XM(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ke,As,ks,ha,fa,Ps,pa,ma,ST,ZM=(ST=class{constructor(t={}){xe(this,Ke);xe(this,As);xe(this,ks);xe(this,ha);xe(this,fa);xe(this,Ps);xe(this,pa);xe(this,ma);ce(this,Ke,t.queryCache||new KM),ce(this,As,t.mutationCache||new JM),ce(this,ks,t.defaultOptions||{}),ce(this,ha,new Map),ce(this,fa,new Map),ce(this,Ps,0)}mount(){Du(this,Ps)._++,F(this,Ps)===1&&(ce(this,pa,iC.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Ke).onFocus())})),ce(this,ma,_h.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Ke).onOnline())})))}unmount(){var t,e;Du(this,Ps)._--,F(this,Ps)===0&&((t=F(this,pa))==null||t.call(this),ce(this,pa,void 0),(e=F(this,ma))==null||e.call(this),ce(this,ma,void 0))}isFetching(t){return F(this,Ke).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,As).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,Ke).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=F(this,Ke).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Ig(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return F(this,Ke).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=F(this,Ke).get(r.queryHash),i=s==null?void 0:s.state.data,o=RM(e,i);if(o!==void 0)return F(this,Ke).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ut.batch(()=>F(this,Ke).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,Ke).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=F(this,Ke);Ut.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,Ke);return Ut.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ut.batch(()=>F(this,Ke).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Dn).catch(Dn)}invalidateQueries(t,e={}){return Ut.batch(()=>(F(this,Ke).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ut.batch(()=>F(this,Ke).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Dn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Dn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=F(this,Ke).build(this,e);return n.isStaleByTime(Ig(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Dn).catch(Dn)}fetchInfiniteQuery(t){return t.behavior=iE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Dn).catch(Dn)}ensureInfiniteQueryData(t){return t.behavior=iE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return _h.isOnline()?F(this,As).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,Ke)}getMutationCache(){return F(this,As)}getDefaultOptions(){return F(this,ks)}setDefaultOptions(t){ce(this,ks,t)}setQueryDefaults(t,e){F(this,ha).set(xc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,ha).values()],n={};return e.forEach(r=>{Sc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){F(this,fa).set(xc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,fa).values()],n={};return e.forEach(r=>{Sc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,ks).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Sv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Iv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,ks).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,Ke).clear(),F(this,As).clear()}},Ke=new WeakMap,As=new WeakMap,ks=new WeakMap,ha=new WeakMap,fa=new WeakMap,Ps=new WeakMap,pa=new WeakMap,ma=new WeakMap,ST),ej=x.createContext(void 0),tj=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(ej.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ic(){return Ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ic.apply(this,arguments)}var Os;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Os||(Os={}));const aE="popstate";function nj(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Ag("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:dC(s)}return sj(e,n,null,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rj(){return Math.random().toString(36).substr(2,8)}function lE(t,e){return{usr:t.state,key:t.key,idx:e}}function Ag(t,e,n,r){return n===void 0&&(n=null),Ic({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ua(e):e,{state:n,key:e&&e.key||r||rj()})}function dC(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ua(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function sj(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Os.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Ic({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Os.Pop;let E=d(),_=E==null?null:E-u;u=E,l&&l({action:a,location:w.location,delta:_})}function f(E,_){a=Os.Push;let y=Ag(w.location,E,_);u=d()+1;let b=lE(y,u),C=w.createHref(y);try{o.pushState(b,"",C)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(C)}i&&l&&l({action:a,location:w.location,delta:1})}function m(E,_){a=Os.Replace;let y=Ag(w.location,E,_);u=d();let b=lE(y,u),C=w.createHref(y);o.replaceState(b,"",C),i&&l&&l({action:a,location:w.location,delta:0})}function T(E){let _=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof E=="string"?E:dC(E);return y=y.replace(/ $/,"%20"),rt(_,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,_)}let w={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(aE,h),l=E,()=>{s.removeEventListener(aE,h),l=null}},createHref(E){return e(s,E)},createURL:T,encodeLocation(E){let _=T(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:m,go(E){return o.go(E)}};return w}var cE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(cE||(cE={}));function ij(t,e,n){return n===void 0&&(n="/"),oj(t,e,n)}function oj(t,e,n,r){let s=typeof e=="string"?Ua(e):e,i=pC(s.pathname||"/",n);if(i==null)return null;let o=hC(t);aj(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=wj(i);a=gj(o[l],u)}return a}function hC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(rt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Wi([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(rt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),hC(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:pj(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of fC(i.path))s(i,o,l)}),e}function fC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=fC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function aj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:mj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const lj=/^:[\w-]+$/,cj=3,uj=2,dj=1,hj=10,fj=-2,uE=t=>t==="*";function pj(t,e){let n=t.split("/"),r=n.length;return n.some(uE)&&(r+=fj),e&&(r+=uj),n.filter(s=>!uE(s)).reduce((s,i)=>s+(lj.test(i)?cj:i===""?dj:hj),r)}function mj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function gj(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=yj({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Wi([i,h.pathname]),pathnameBase:Sj(Wi([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Wi([i,h.pathnameBase]))}return o}function yj(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vj(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let w=a[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const T=a[h];return m&&!T?u[f]=void 0:u[f]=(T||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function vj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),uC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function wj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function _j(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ua(t):t;return{pathname:n?n.startsWith("/")?n:Ej(n,e):e,search:Ij(r),hash:Cj(s)}}function Ej(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Xp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Tj(t,e){let n=bj(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function xj(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ua(t):(s=Ic({},t),rt(!s.pathname||!s.pathname.includes("?"),Xp("?","pathname","search",s)),rt(!s.pathname||!s.pathname.includes("#"),Xp("#","pathname","hash",s)),rt(!s.search||!s.search.includes("#"),Xp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=_j(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Wi=t=>t.join("/").replace(/\/\/+/g,"/"),Sj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ij=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Cj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Aj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mC=["post","put","patch","delete"];new Set(mC);const kj=["get",...mC];new Set(kj);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cc(){return Cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cc.apply(this,arguments)}const Cv=x.createContext(null),Pj=x.createContext(null),vf=x.createContext(null),wf=x.createContext(null),ao=x.createContext({outlet:null,matches:[],isDataRoute:!1}),gC=x.createContext(null);function _f(){return x.useContext(wf)!=null}function Xc(){return _f()||rt(!1),x.useContext(wf).location}function yC(t){x.useContext(vf).static||x.useLayoutEffect(t)}function $a(){let{isDataRoute:t}=x.useContext(ao);return t?Hj():Rj()}function Rj(){_f()||rt(!1);let t=x.useContext(Cv),{basename:e,future:n,navigator:r}=x.useContext(vf),{matches:s}=x.useContext(ao),{pathname:i}=Xc(),o=JSON.stringify(Tj(s,n.v7_relativeSplatPath)),a=x.useRef(!1);return yC(()=>{a.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=xj(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Wi([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function Nj(){let{matches:t}=x.useContext(ao),e=t[t.length-1];return e?e.params:{}}function Oj(t,e){return Dj(t,e)}function Dj(t,e,n,r){_f()||rt(!1);let{navigator:s}=x.useContext(vf),{matches:i}=x.useContext(ao),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Xc(),d;if(e){var h;let E=typeof e=="string"?Ua(e):e;l==="/"||(h=E.pathname)!=null&&h.startsWith(l)||rt(!1),d=E}else d=u;let f=d.pathname||"/",m=f;if(l!=="/"){let E=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let T=ij(t,{pathname:m}),w=Fj(T&&T.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Wi([l,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Wi([l,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&w?x.createElement(wf.Provider,{value:{location:Cc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Os.Pop}},w):w}function Lj(){let t=zj(),e=Aj(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:s},n):null,null)}const Mj=x.createElement(Lj,null);class jj extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(ao.Provider,{value:this.props.routeContext},x.createElement(gC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vj(t){let{routeContext:e,match:n,children:r}=t,s=x.useContext(Cv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(ao.Provider,{value:e},r)}function Fj(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||rt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,T=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||T){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,T=!1,w=null,E=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||Mj,l&&(u<0&&f===0?(Wj("route-fallback"),T=!0,E=null):u===f&&(T=!0,E=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,f+1)),y=()=>{let b;return m?b=w:T?b=E:h.route.Component?b=x.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,x.createElement(Vj,{match:h,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?x.createElement(jj,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):y()},null)}var vC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(vC||{}),wC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(wC||{});function Uj(t){let e=x.useContext(Cv);return e||rt(!1),e}function $j(t){let e=x.useContext(Pj);return e||rt(!1),e}function Bj(t){let e=x.useContext(ao);return e||rt(!1),e}function _C(t){let e=Bj(),n=e.matches[e.matches.length-1];return n.route.id||rt(!1),n.route.id}function zj(){var t;let e=x.useContext(gC),n=$j(),r=_C();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Hj(){let{router:t}=Uj(vC.UseNavigateStable),e=_C(wC.UseNavigateStable),n=x.useRef(!1);return yC(()=>{n.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Cc({fromRouteId:e},i)))},[t,e])}const dE={};function Wj(t,e,n){dE[t]||(dE[t]=!0)}function qj(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ao(t){rt(!1)}function Gj(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Os.Pop,navigator:i,static:o=!1,future:a}=t;_f()&&rt(!1);let l=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:i,static:o,future:Cc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Ua(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:T="default"}=r,w=x.useMemo(()=>{let E=pC(d,l);return E==null?null:{location:{pathname:E,search:h,hash:f,state:m,key:T},navigationType:s}},[l,d,h,f,m,T,s]);return w==null?null:x.createElement(vf.Provider,{value:u},x.createElement(wf.Provider,{children:n,value:w}))}function Kj(t){let{children:e,location:n}=t;return Oj(kg(e),n)}new Promise(()=>{});function kg(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,s)=>{if(!x.isValidElement(r))return;let i=[...e,s];if(r.type===x.Fragment){n.push.apply(n,kg(r.props.children,i));return}r.type!==Ao&&rt(!1),!r.props.index||!r.props.children||rt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=kg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pg(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function Qj(t,e){let n=Pg(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const Yj="6";try{window.__reactRouterVersion=Yj}catch{}const Jj="startTransition",hE=vy[Jj];function Xj(t){let{basename:e,children:n,future:r,window:s}=t,i=x.useRef();i.current==null&&(i.current=nj({window:s,v5Compat:!0}));let o=i.current,[a,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=x.useCallback(h=>{u&&hE?hE(()=>l(h)):l(h)},[l,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>qj(r),[r]),x.createElement(Gj,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var fE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(fE||(fE={}));var pE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(pE||(pE={}));function Zj(t){let e=x.useRef(Pg(t)),n=x.useRef(!1),r=Xc(),s=x.useMemo(()=>Qj(r.search,n.current?null:e.current),[r.search]),i=$a(),o=x.useCallback((a,l)=>{const u=Pg(typeof a=="function"?a(s):a);n.current=!0,i("?"+u,l)},[i,s]);return[s,o]}const eV=()=>{};var mE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},tV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},bC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(EC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new nV;const f=i<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const T=u<<6&192|h;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rV=function(t){const e=EC(t);return bC.encodeByteArray(e,!0)},Eh=function(t){return rV(t).replace(/\./g,"")},TC=function(t){try{return bC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=()=>sV().__FIREBASE_DEFAULTS__,oV=()=>{if(typeof process>"u"||typeof mE>"u")return;const t=mE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&TC(t[1]);return e&&JSON.parse(e)},Ef=()=>{try{return eV()||iV()||oV()||aV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xC=t=>{var e,n;return(n=(e=Ef())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lV=t=>{const e=xC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},SC=()=>{var t;return(t=Ef())===null||t===void 0?void 0:t.config},IC=t=>{var e;return(e=Ef())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cV=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t){return t.endsWith(".cloudworkstations.dev")}async function CC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Eh(JSON.stringify(n)),Eh(JSON.stringify(o)),""].join(".")}const Kl={};function dV(){const t={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?t.emulator.push(e):t.prod.push(e);return t}function hV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let gE=!1;function AC(t,e){if(typeof window>"u"||typeof document>"u"||!Ba(window.location.host)||Kl[t]===e||Kl[t]||gE)return;Kl[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=dV().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{gE=!0,o()},f}function d(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=hV(r),m=n("text"),T=document.getElementById(m)||document.createElement("span"),w=n("learnmore"),E=document.getElementById(w)||document.createElement("a"),_=n("preprendIcon"),y=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const b=f.element;a(b),d(E,w);const C=u();l(y,_),b.append(y,T,E,C),document.body.appendChild(b)}i?(T.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function pV(){var t;const e=(t=Ef())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vV(){const t=Lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wV(){return!pV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _V(){try{return typeof indexedDB=="object"}catch{return!1}}function EV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV="FirebaseError";class Xr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bV,Object.setPrototypeOf(this,Xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zc.prototype.create)}}class Zc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?TV(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Xr(s,a,r)}}function TV(t,e){return t.replace(xV,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const xV=/\{\$([^}]+)}/g;function SV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(yE(i)&&yE(o)){if(!Xi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function yE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Rl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function IV(t,e){const n=new CV(t,e);return n.subscribe.bind(n)}class CV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");AV(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Zp),s.error===void 0&&(s.error=Zp),s.complete===void 0&&(s.complete=Zp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t){return t&&t._delegate?t._delegate:t}class Zi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new cV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RV(e))try{this.getOrInitializeService({instanceIdentifier:ki})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ki){return this.instances.has(e)}getOptions(e=ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ki){return this.component?this.component.multipleInstances?e:ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PV(t){return t===ki?void 0:t}function RV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const OV={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},DV=ge.INFO,LV={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},MV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=LV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Av{constructor(e){this.name=e,this._logLevel=DV,this._logHandler=MV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const jV=(t,e)=>e.some(n=>t instanceof n);let vE,wE;function VV(){return vE||(vE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FV(){return wE||(wE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kC=new WeakMap,Rg=new WeakMap,PC=new WeakMap,em=new WeakMap,kv=new WeakMap;function UV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(zs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&kC.set(n,t)}).catch(()=>{}),kv.set(e,t),e}function $V(t){if(Rg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Rg.set(t,e)}let Ng={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BV(t){Ng=t(Ng)}function zV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tm(this),e,...n);return PC.set(r,e.sort?e.sort():[e]),zs(r)}:FV().includes(t)?function(...e){return t.apply(tm(this),e),zs(kC.get(this))}:function(...e){return zs(t.apply(tm(this),e))}}function HV(t){return typeof t=="function"?zV(t):(t instanceof IDBTransaction&&$V(t),jV(t,VV())?new Proxy(t,Ng):t)}function zs(t){if(t instanceof IDBRequest)return UV(t);if(em.has(t))return em.get(t);const e=HV(t);return e!==t&&(em.set(t,e),kv.set(e,t)),e}const tm=t=>kv.get(t);function WV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=zs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(zs(o.result),l.oldVersion,l.newVersion,zs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const qV=["get","getKey","getAll","getAllKeys","count"],GV=["put","add","delete","clear"],nm=new Map;function _E(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nm.get(e))return nm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=GV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||qV.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return nm.set(e,i),i}BV(t=>({...t,get:(e,n,r)=>_E(e,n)||t.get(e,n,r),has:(e,n)=>!!_E(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function QV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Og="@firebase/app",EE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new Av("@firebase/app"),YV="@firebase/app-compat",JV="@firebase/analytics-compat",XV="@firebase/analytics",ZV="@firebase/app-check-compat",e4="@firebase/app-check",t4="@firebase/auth",n4="@firebase/auth-compat",r4="@firebase/database",s4="@firebase/data-connect",i4="@firebase/database-compat",o4="@firebase/functions",a4="@firebase/functions-compat",l4="@firebase/installations",c4="@firebase/installations-compat",u4="@firebase/messaging",d4="@firebase/messaging-compat",h4="@firebase/performance",f4="@firebase/performance-compat",p4="@firebase/remote-config",m4="@firebase/remote-config-compat",g4="@firebase/storage",y4="@firebase/storage-compat",v4="@firebase/firestore",w4="@firebase/ai",_4="@firebase/firestore-compat",E4="firebase",b4="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="[DEFAULT]",T4={[Og]:"fire-core",[YV]:"fire-core-compat",[XV]:"fire-analytics",[JV]:"fire-analytics-compat",[e4]:"fire-app-check",[ZV]:"fire-app-check-compat",[t4]:"fire-auth",[n4]:"fire-auth-compat",[r4]:"fire-rtdb",[s4]:"fire-data-connect",[i4]:"fire-rtdb-compat",[o4]:"fire-fn",[a4]:"fire-fn-compat",[l4]:"fire-iid",[c4]:"fire-iid-compat",[u4]:"fire-fcm",[d4]:"fire-fcm-compat",[h4]:"fire-perf",[f4]:"fire-perf-compat",[p4]:"fire-rc",[m4]:"fire-rc-compat",[g4]:"fire-gcs",[y4]:"fire-gcs-compat",[v4]:"fire-fst",[_4]:"fire-fst-compat",[w4]:"fire-vertex","fire-js":"fire-js",[E4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Map,x4=new Map,Lg=new Map;function bE(t,e){try{t.container.addComponent(e)}catch(n){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sa(t){const e=t.name;if(Lg.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;Lg.set(e,t);for(const n of bh.values())bE(n,t);for(const n of x4.values())bE(n,t);return!0}function Pv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new Zc("app","Firebase",S4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=b4;function RC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Dg,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Hs.create("bad-app-name",{appName:String(s)});if(n||(n=SC()),!n)throw Hs.create("no-options");const i=bh.get(s);if(i){if(Xi(n,i.options)&&Xi(r,i.config))return i;throw Hs.create("duplicate-app",{appName:s})}const o=new NV(s);for(const l of Lg.values())o.addComponent(l);const a=new I4(n,r,o);return bh.set(s,a),a}function NC(t=Dg){const e=bh.get(t);if(!e&&t===Dg&&SC())return RC();if(!e)throw Hs.create("no-app",{appName:t});return e}function Ws(t,e,n){var r;let s=(r=T4[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(a.join(" "));return}Sa(new Zi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4="firebase-heartbeat-database",A4=1,Ac="firebase-heartbeat-store";let rm=null;function OC(){return rm||(rm=WV(C4,A4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ac)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hs.create("idb-open",{originalErrorMessage:t.message})})),rm}async function k4(t){try{const n=(await OC()).transaction(Ac),r=await n.objectStore(Ac).get(DC(t));return await n.done,r}catch(e){if(e instanceof Xr)Gr.warn(e.message);else{const n=Hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gr.warn(n.message)}}}async function TE(t,e){try{const r=(await OC()).transaction(Ac,"readwrite");await r.objectStore(Ac).put(e,DC(t)),await r.done}catch(n){if(n instanceof Xr)Gr.warn(n.message);else{const r=Hs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gr.warn(r.message)}}}function DC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=1024,R4=30;class N4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new D4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=xE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>R4){const o=L4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Gr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xE(),{heartbeatsToSend:r,unsentEntries:s}=O4(this._heartbeatsCache.heartbeats),i=Eh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Gr.warn(n),""}}}function xE(){return new Date().toISOString().substring(0,10)}function O4(t,e=P4){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),SE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),SE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class D4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _V()?EV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await k4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return TE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return TE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function SE(t){return Eh(JSON.stringify({version:2,heartbeats:t})).length}function L4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(t){Sa(new Zi("platform-logger",e=>new KV(e),"PRIVATE")),Sa(new Zi("heartbeat",e=>new N4(e),"PRIVATE")),Ws(Og,EE,t),Ws(Og,EE,"esm2017"),Ws("fire-js","")}M4("");var lr=function(){return lr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},lr.apply(this,arguments)};function tu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function j4(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function LC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V4=LC,MC=new Zc("auth","Firebase",LC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Av("@firebase/auth");function F4(t,...e){Th.logLevel<=ge.WARN&&Th.warn(`Auth (${za}): ${t}`,...e)}function Dd(t,...e){Th.logLevel<=ge.ERROR&&Th.error(`Auth (${za}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw Rv(t,...e)}function fr(t,...e){return Rv(t,...e)}function jC(t,e,n){const r=Object.assign(Object.assign({},V4()),{[e]:n});return new Zc("auth","Firebase",r).create(e,{appName:t.name})}function Vr(t){return jC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MC.create(t,...e)}function te(t,e,...n){if(!t)throw Rv(e,...n)}function Dr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dd(e),new Error(e)}function Kr(t,e){t||Dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function U4(){return IE()==="http:"||IE()==="https:"}function IE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U4()||gV()||"connection"in navigator)?navigator.onLine:!0}function B4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Kr(n>e,"Short delay should be less than long delay!"),this.isMobile=fV()||yV()}get(){return $4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t,e){Kr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W4=new nu(3e4,6e4);function Zr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function es(t,e,n,r,s={}){return FC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=eu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},i);return mV()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ba(t.emulatorConfig.host)&&(u.credentials="include"),VC.fetch()(await UC(t,t.config.apiHost,n,a),u)})}async function FC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},z4),e);try{const s=new G4(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw sd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw sd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw sd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw sd(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw jC(t,d,u);Qn(t,d)}}catch(s){if(s instanceof Xr)throw s;Qn(t,"network-request-failed",{message:String(s)})}}async function ru(t,e,n,r,s={}){const i=await es(t,e,n,r,s);return"mfaPendingCredential"in i&&Qn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function UC(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Nv(t.config,s):`${t.config.apiScheme}://${s}`;return H4.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function q4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class G4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fr(this.auth,"network-request-failed")),W4.get())})}}function sd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=fr(t,e,r);return s.customData._tokenResponse=n,s}function CE(t){return t!==void 0&&t.enterprise!==void 0}class K4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return q4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Q4(t,e){return es(t,"GET","/v2/recaptchaConfig",Zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(t,e){return es(t,"POST","/v1/accounts:delete",e)}async function xh(t,e){return es(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function J4(t,e=!1){const n=ot(t),r=await n.getIdToken(e),s=Ov(r);te(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ql(sm(s.auth_time)),issuedAtTime:Ql(sm(s.iat)),expirationTime:Ql(sm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function sm(t){return Number(t)*1e3}function Ov(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dd("JWT malformed, contained fewer than 3 sections"),null;try{const s=TC(n);return s?JSON.parse(s):(Dd("Failed to decode base64 JWT payload"),null)}catch(s){return Dd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function AE(t){const e=Ov(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xr&&X4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function X4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await kc(t,xh(n,{idToken:r}));te(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?$C(i.providerUserInfo):[],a=tF(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new jg(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function eF(t){const e=ot(t);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tF(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function $C(t){return t.map(e=>{var{providerId:n}=e,r=tu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nF(t,e){const n=await FC(t,{},async()=>{const r=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await UC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Ba(t.emulatorConfig.host)&&(l.credentials="include"),VC.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rF(t,e){return es(t,"POST","/v2/accounts:revokeToken",Zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");const n=AE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await nF(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ta;return r&&(te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(te(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(te(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ta,this.toJSON())}_performRefresh(){return Dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Un{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=tu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Z4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new jg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await kc(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return J4(this,e)}reload(){return eF(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Un(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(Vr(this.auth));const e=await this.getIdToken();return await kc(this,Y4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,T=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:b,emailVerified:C,isAnonymous:D,providerData:L,stsTokenManager:I}=n;te(b&&I,e,"internal-error");const S=ta.fromJSON(this.name,I);te(typeof b=="string",e,"internal-error"),hs(h,e.name),hs(f,e.name),te(typeof C=="boolean",e,"internal-error"),te(typeof D=="boolean",e,"internal-error"),hs(m,e.name),hs(T,e.name),hs(w,e.name),hs(E,e.name),hs(_,e.name),hs(y,e.name);const k=new Un({uid:b,auth:e,email:f,emailVerified:C,displayName:h,isAnonymous:D,photoURL:T,phoneNumber:m,tenantId:w,stsTokenManager:S,createdAt:_,lastLoginAt:y});return L&&Array.isArray(L)&&(k.providerData=L.map(P=>Object.assign({},P))),E&&(k._redirectEventId=E),k}static async _fromIdTokenResponse(e,n,r=!1){const s=new ta;s.updateFromServerResponse(n);const i=new Un({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Sh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];te(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?$C(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ta;a.updateFromIdToken(r);const l=new Un({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new jg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=new Map;function Lr(t){Kr(t instanceof Function,"Expected a class definition");let e=kE.get(t);return e?(Kr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BC.type="NONE";const PE=BC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(t,e,n){return`firebase:${t}:${e}:${n}`}class na{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Ld(this.userKey,s.apiKey,i),this.fullPersistenceKey=Ld("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xh(this.auth,{idToken:e}).catch(()=>{});return n?Un._fromGetAccountInfoResponse(this.auth,n,e):null}return Un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new na(Lr(PE),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Lr(PE);const o=Ld(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const f=await xh(e,{idToken:d}).catch(()=>{});if(!f)break;h=await Un._fromGetAccountInfoResponse(e,f,d)}else h=Un._fromJSON(e,d);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new na(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new na(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KC(e))return"Blackberry";if(QC(e))return"Webos";if(HC(e))return"Safari";if((e.includes("chrome/")||WC(e))&&!e.includes("edge/"))return"Chrome";if(GC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zC(t=Lt()){return/firefox\//i.test(t)}function HC(t=Lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WC(t=Lt()){return/crios\//i.test(t)}function qC(t=Lt()){return/iemobile/i.test(t)}function GC(t=Lt()){return/android/i.test(t)}function KC(t=Lt()){return/blackberry/i.test(t)}function QC(t=Lt()){return/webos/i.test(t)}function Dv(t=Lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sF(t=Lt()){var e;return Dv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iF(){return vV()&&document.documentMode===10}function YC(t=Lt()){return Dv(t)||GC(t)||QC(t)||KC(t)||/windows phone/i.test(t)||qC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t,e=[]){let n;switch(t){case"Browser":n=RE(Lt());break;case"Worker":n=`${RE(Lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${za}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aF(t,e={}){return es(t,"GET","/v2/passwordPolicy",Zr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=6;class cF{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:lF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NE(this),this.idTokenSubscription=new NE(this),this.beforeStateQueue=new oF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Lr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await na.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xh(this,{idToken:e}),r=await Un._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(bn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=B4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(Vr(this));const n=e?ot(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(Vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(Vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aF(this),n=new cF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await rF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Lr(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=await na.create(this,[Lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&F4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function hi(t){return ot(t)}class NE{constructor(e){this.auth=e,this.observer=null,this.addObserver=IV(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dF(t){bf=t}function XC(t){return bf.loadJS(t)}function hF(){return bf.recaptchaEnterpriseScript}function fF(){return bf.gapiScript}function pF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class mF{constructor(){this.enterprise=new gF}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gF{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yF="recaptcha-enterprise",ZC="NO_RECAPTCHA";class vF{constructor(e){this.type=yF,this.auth=hi(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{Q4(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new K4(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;CE(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(ZC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mF().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&CE(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=hF();l.length!==0&&(l+=a),XC(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function OE(t,e,n,r=!1,s=!1){const i=new vF(t);let o;if(s)o=ZC;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ih(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await OE(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await OE(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(t,e){const n=Pv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Xi(i,e??{}))return s;Qn(s,"already-initialized")}return n.initialize({options:e})}function _F(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Lr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function EF(t,e,n){const r=hi(t);te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=e1(e),{host:o,port:a}=bF(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),te(Xi(u,r.config.emulator)&&Xi(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Ba(o)?(CC(`${i}//${o}${l}`),AC("Auth",!0)):TF()}function e1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bF(t){const e=e1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:DE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:DE(o)}}}function DE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function TF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Dr("not implemented")}_getIdTokenResponse(e){return Dr("not implemented")}_linkToIdToken(e,n){return Dr("not implemented")}_getReauthenticationResolver(e){return Dr("not implemented")}}async function xF(t,e){return es(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SF(t,e){return ru(t,"POST","/v1/accounts:signInWithPassword",Zr(t,e))}async function IF(t,e){return es(t,"POST","/v1/accounts:sendOobCode",Zr(t,e))}async function CF(t,e){return IF(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AF(t,e){return ru(t,"POST","/v1/accounts:signInWithEmailLink",Zr(t,e))}async function kF(t,e){return ru(t,"POST","/v1/accounts:signInWithEmailLink",Zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends Lv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Pc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Pc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ih(e,n,"signInWithPassword",SF);case"emailLink":return AF(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ih(e,r,"signUpPassword",xF);case"emailLink":return kF(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(t,e){return ru(t,"POST","/v1/accounts:signInWithIdp",Zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF="http://localhost";class eo extends Lv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=tu(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new eo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ra(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ra(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ra(e,n)}buildRequest(){const e={requestUri:PF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=eu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NF(t){const e=Pl(Rl(t)).link,n=e?Pl(Rl(e)).deep_link_id:null,r=Pl(Rl(t)).deep_link_id;return(r?Pl(Rl(r)).link:null)||r||n||e||t}class Mv{constructor(e){var n,r,s,i,o,a;const l=Pl(Rl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=RF((s=l.mode)!==null&&s!==void 0?s:null);te(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=NF(e);try{return new Mv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.providerId=Ha.PROVIDER_ID}static credential(e,n){return Pc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Mv.parseLink(n);return te(r,"argument-error"),Pc._fromEmailAndCode(e,r.code,r.tenantId)}}Ha.PROVIDER_ID="password";Ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends t1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends su{constructor(){super("facebook.com")}static credential(e){return eo._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.FACEBOOK_SIGN_IN_METHOD="facebook.com";Es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return eo._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return bs.credential(n,r)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends su{constructor(){super("github.com")}static credential(e){return eo._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.GITHUB_SIGN_IN_METHOD="github.com";Ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends su{constructor(){super("twitter.com")}static credential(e,n){return eo._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return xs.credential(n,r)}catch{return null}}}xs.TWITTER_SIGN_IN_METHOD="twitter.com";xs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OF(t,e){return ru(t,"POST","/v1/accounts:signUp",Zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Un._fromIdTokenResponse(e,r,s),o=LE(r);return new to({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=LE(r);return new to({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function LE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends Xr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ch(e,n,r,s)}}function n1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(t,i,e,r):i})}async function DF(t,e,n=!1){const r=await kc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return to._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LF(t,e,n=!1){const{auth:r}=t;if(bn(r.app))return Promise.reject(Vr(r));const s="reauthenticate";try{const i=await kc(t,n1(r,s,e,t),n);te(i.idToken,r,"internal-error");const o=Ov(i.idToken);te(o,r,"internal-error");const{sub:a}=o;return te(t.uid===a,r,"user-mismatch"),to._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Qn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1(t,e,n=!1){if(bn(t.app))return Promise.reject(Vr(t));const r="signIn",s=await n1(t,r,e),i=await to._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function MF(t,e){return r1(hi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1(t){const e=hi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function jF(t,e,n){const r=hi(t);await Ih(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",CF)}async function VF(t,e,n){if(bn(t.app))return Promise.reject(Vr(t));const r=hi(t),o=await Ih(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OF).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&s1(t),l}),a=await to._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function FF(t,e,n){return bn(t.app)?Promise.reject(Vr(t)):MF(ot(t),Ha.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&s1(t),r})}function UF(t,e,n,r){return ot(t).onIdTokenChanged(e,n,r)}function $F(t,e,n){return ot(t).beforeAuthStateChanged(e,n)}function BF(t,e,n,r){return ot(t).onAuthStateChanged(e,n,r)}function zF(t){return ot(t).signOut()}const Ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=1e3,WF=10;class o1 extends i1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);iF()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,WF):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},HF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}o1.type="LOCAL";const qF=o1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1 extends i1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}a1.type="SESSION";const l1=a1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Tf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await GF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=jv("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function QF(t){pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function YF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function XF(){return c1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="firebaseLocalStorageDb",ZF=1,kh="firebaseLocalStorage",d1="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xf(t,e){return t.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function eU(){const t=indexedDB.deleteDatabase(u1);return new iu(t).toPromise()}function Vg(){const t=indexedDB.open(u1,ZF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kh,{keyPath:d1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kh)?e(r):(r.close(),await eU(),e(await Vg()))})})}async function ME(t,e,n){const r=xf(t,!0).put({[d1]:e,value:n});return new iu(r).toPromise()}async function tU(t,e){const n=xf(t,!1).get(e),r=await new iu(n).toPromise();return r===void 0?null:r.value}function jE(t,e){const n=xf(t,!0).delete(e);return new iu(n).toPromise()}const nU=800,rU=3;class h1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>rU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return c1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tf._getInstance(XF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await YF(),!this.activeServiceWorker)return;this.sender=new KF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vg();return await ME(e,Ah,"1"),await jE(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ME(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>tU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=xf(s,!1).getAll();return new iu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}h1.type="LOCAL";const sU=h1;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(t,e){return e?Lr(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv extends Lv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ra(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ra(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oU(t){return r1(t.auth,new Vv(t),t.bypassAuthState)}function aU(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),LF(n,new Vv(t),t.bypassAuthState)}async function lU(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),DF(n,new Vv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oU;case"linkViaPopup":case"linkViaRedirect":return lU;case"reauthViaPopup":case"reauthViaRedirect":return aU;default:Qn(this.auth,"internal-error")}}resolve(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=new nu(2e3,1e4);class qo extends f1{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,qo.currentPopupAction&&qo.currentPopupAction.cancel(),qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return te(e,this.auth,"internal-error"),e}async onExecution(){Kr(this.filter.length===1,"Popup operations only handle one event");const e=jv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cU.get())};e()}}qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU="pendingRedirect",Md=new Map;class dU extends f1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Md.get(this.auth._key());if(!e){try{const r=await hU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Md.set(this.auth._key(),e)}return this.bypassAuthState||Md.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hU(t,e){const n=mU(e),r=pU(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function fU(t,e){Md.set(t._key(),e)}function pU(t){return Lr(t._redirectPersistence)}function mU(t){return Ld(uU,t.config.apiKey,t.name)}async function gU(t,e,n=!1){if(bn(t.app))return Promise.reject(Vr(t));const r=hi(t),s=iU(r,e),o=await new dU(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=10*60*1e3;class vU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!p1(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(fr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yU&&this.cachedEventUids.clear(),this.cachedEventUids.has(VE(e))}saveEventToCache(e){this.cachedEventUids.add(VE(e)),this.lastProcessedEventTime=Date.now()}}function VE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function p1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _U(t,e={}){return es(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bU=/^https?/;async function TU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _U(t);for(const n of e)try{if(xU(n))return}catch{}Qn(t,"unauthorized-domain")}function xU(t){const e=Mg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!bU.test(n))return!1;if(EU.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=new nu(3e4,6e4);function FE(){const t=pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function IU(t){return new Promise((e,n)=>{var r,s,i;function o(){FE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{FE(),n(fr(t,"network-request-failed"))},timeout:SU.get()})}if(!((s=(r=pr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=pr().gapi)===null||i===void 0)&&i.load)o();else{const a=pF("iframefcb");return pr()[a]=()=>{gapi.load?o():n(fr(t,"network-request-failed"))},XC(`${fF()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw jd=null,e})}let jd=null;function CU(t){return jd=jd||IU(t),jd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=new nu(5e3,15e3),kU="__/auth/iframe",PU="emulator/auth/iframe",RU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OU(t){const e=t.config;te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Nv(e,PU):`https://${t.config.authDomain}/${kU}`,r={apiKey:e.apiKey,appName:t.name,v:za},s=NU.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${eu(r).slice(1)}`}async function DU(t){const e=await CU(t),n=pr().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:OU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RU,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=fr(t,"network-request-failed"),a=pr().setTimeout(()=>{i(o)},AU.get());function l(){pr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MU=500,jU=600,VU="_blank",FU="http://localhost";class UE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UU(t,e,n,r=MU,s=jU){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},LU),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Lt().toLowerCase();n&&(a=WC(u)?VU:n),zC(u)&&(e=e||FU,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,T])=>`${f}${m}=${T},`,"");if(sF(u)&&a!=="_self")return $U(e||"",a),new UE(null);const h=window.open(e||"",a,d);te(h,t,"popup-blocked");try{h.focus()}catch{}return new UE(h)}function $U(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU="__/auth/handler",zU="emulator/auth/handler",HU=encodeURIComponent("fac");async function $E(t,e,n,r,s,i){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:za,eventId:s};if(e instanceof t1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",SV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof su){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${HU}=${encodeURIComponent(l)}`:"";return`${WU(t)}?${eu(a).slice(1)}${u}`}function WU({config:t}){return t.emulator?Nv(t,zU):`https://${t.authDomain}/${BU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="webStorageSupport";class qU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l1,this._completeRedirectFn=gU,this._overrideRedirectResult=fU}async _openPopup(e,n,r,s){var i;Kr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await $E(e,n,r,Mg(),s);return UU(e,o,jv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await $E(e,n,r,Mg(),s);return QF(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Kr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await DU(e),r=new vU(e);return n.register("authEvent",s=>(te(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(im,{type:im},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[im];o!==void 0&&n(!!o),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YC()||HC()||Dv()}}const GU=qU;var BE="@firebase/auth",zE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YU(t){Sa(new Zi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JC(t)},u=new uF(r,s,i,l);return _F(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sa(new Zi("auth-internal",e=>{const n=hi(e.getProvider("auth").getImmediate());return(r=>new KU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(BE,zE,QU(t)),Ws(BE,zE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU=5*60,XU=IC("authIdTokenMaxAge")||JU;let HE=null;const ZU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>XU)return;const s=n==null?void 0:n.token;HE!==s&&(HE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function e$(t=NC()){const e=Pv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=wF(t,{popupRedirectResolver:GU,persistence:[sU,qF,l1]}),r=IC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=ZU(i.toString());$F(n,o,()=>o(n.currentUser)),UF(n,a=>o(a))}}const s=xC("auth");return s&&EF(n,`http://${s}`),n}function t$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}dF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=fr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",t$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YU("Browser");var WE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qs,m1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function k(){}k.prototype=S.prototype,I.D=S.prototype,I.prototype=new k,I.prototype.constructor=I,I.C=function(P,N,O){for(var R=Array(arguments.length-2),W=2;W<arguments.length;W++)R[W-2]=arguments[W];return S.prototype[N].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,S,k){k||(k=0);var P=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)P[N]=S.charCodeAt(k++)|S.charCodeAt(k++)<<8|S.charCodeAt(k++)<<16|S.charCodeAt(k++)<<24;else for(N=0;16>N;++N)P[N]=S[k++]|S[k++]<<8|S[k++]<<16|S[k++]<<24;S=I.g[0],k=I.g[1],N=I.g[2];var O=I.g[3],R=S+(O^k&(N^O))+P[0]+3614090360&4294967295;S=k+(R<<7&4294967295|R>>>25),R=O+(N^S&(k^N))+P[1]+3905402710&4294967295,O=S+(R<<12&4294967295|R>>>20),R=N+(k^O&(S^k))+P[2]+606105819&4294967295,N=O+(R<<17&4294967295|R>>>15),R=k+(S^N&(O^S))+P[3]+3250441966&4294967295,k=N+(R<<22&4294967295|R>>>10),R=S+(O^k&(N^O))+P[4]+4118548399&4294967295,S=k+(R<<7&4294967295|R>>>25),R=O+(N^S&(k^N))+P[5]+1200080426&4294967295,O=S+(R<<12&4294967295|R>>>20),R=N+(k^O&(S^k))+P[6]+2821735955&4294967295,N=O+(R<<17&4294967295|R>>>15),R=k+(S^N&(O^S))+P[7]+4249261313&4294967295,k=N+(R<<22&4294967295|R>>>10),R=S+(O^k&(N^O))+P[8]+1770035416&4294967295,S=k+(R<<7&4294967295|R>>>25),R=O+(N^S&(k^N))+P[9]+2336552879&4294967295,O=S+(R<<12&4294967295|R>>>20),R=N+(k^O&(S^k))+P[10]+4294925233&4294967295,N=O+(R<<17&4294967295|R>>>15),R=k+(S^N&(O^S))+P[11]+2304563134&4294967295,k=N+(R<<22&4294967295|R>>>10),R=S+(O^k&(N^O))+P[12]+1804603682&4294967295,S=k+(R<<7&4294967295|R>>>25),R=O+(N^S&(k^N))+P[13]+4254626195&4294967295,O=S+(R<<12&4294967295|R>>>20),R=N+(k^O&(S^k))+P[14]+2792965006&4294967295,N=O+(R<<17&4294967295|R>>>15),R=k+(S^N&(O^S))+P[15]+1236535329&4294967295,k=N+(R<<22&4294967295|R>>>10),R=S+(N^O&(k^N))+P[1]+4129170786&4294967295,S=k+(R<<5&4294967295|R>>>27),R=O+(k^N&(S^k))+P[6]+3225465664&4294967295,O=S+(R<<9&4294967295|R>>>23),R=N+(S^k&(O^S))+P[11]+643717713&4294967295,N=O+(R<<14&4294967295|R>>>18),R=k+(O^S&(N^O))+P[0]+3921069994&4294967295,k=N+(R<<20&4294967295|R>>>12),R=S+(N^O&(k^N))+P[5]+3593408605&4294967295,S=k+(R<<5&4294967295|R>>>27),R=O+(k^N&(S^k))+P[10]+38016083&4294967295,O=S+(R<<9&4294967295|R>>>23),R=N+(S^k&(O^S))+P[15]+3634488961&4294967295,N=O+(R<<14&4294967295|R>>>18),R=k+(O^S&(N^O))+P[4]+3889429448&4294967295,k=N+(R<<20&4294967295|R>>>12),R=S+(N^O&(k^N))+P[9]+568446438&4294967295,S=k+(R<<5&4294967295|R>>>27),R=O+(k^N&(S^k))+P[14]+3275163606&4294967295,O=S+(R<<9&4294967295|R>>>23),R=N+(S^k&(O^S))+P[3]+4107603335&4294967295,N=O+(R<<14&4294967295|R>>>18),R=k+(O^S&(N^O))+P[8]+1163531501&4294967295,k=N+(R<<20&4294967295|R>>>12),R=S+(N^O&(k^N))+P[13]+2850285829&4294967295,S=k+(R<<5&4294967295|R>>>27),R=O+(k^N&(S^k))+P[2]+4243563512&4294967295,O=S+(R<<9&4294967295|R>>>23),R=N+(S^k&(O^S))+P[7]+1735328473&4294967295,N=O+(R<<14&4294967295|R>>>18),R=k+(O^S&(N^O))+P[12]+2368359562&4294967295,k=N+(R<<20&4294967295|R>>>12),R=S+(k^N^O)+P[5]+4294588738&4294967295,S=k+(R<<4&4294967295|R>>>28),R=O+(S^k^N)+P[8]+2272392833&4294967295,O=S+(R<<11&4294967295|R>>>21),R=N+(O^S^k)+P[11]+1839030562&4294967295,N=O+(R<<16&4294967295|R>>>16),R=k+(N^O^S)+P[14]+4259657740&4294967295,k=N+(R<<23&4294967295|R>>>9),R=S+(k^N^O)+P[1]+2763975236&4294967295,S=k+(R<<4&4294967295|R>>>28),R=O+(S^k^N)+P[4]+1272893353&4294967295,O=S+(R<<11&4294967295|R>>>21),R=N+(O^S^k)+P[7]+4139469664&4294967295,N=O+(R<<16&4294967295|R>>>16),R=k+(N^O^S)+P[10]+3200236656&4294967295,k=N+(R<<23&4294967295|R>>>9),R=S+(k^N^O)+P[13]+681279174&4294967295,S=k+(R<<4&4294967295|R>>>28),R=O+(S^k^N)+P[0]+3936430074&4294967295,O=S+(R<<11&4294967295|R>>>21),R=N+(O^S^k)+P[3]+3572445317&4294967295,N=O+(R<<16&4294967295|R>>>16),R=k+(N^O^S)+P[6]+76029189&4294967295,k=N+(R<<23&4294967295|R>>>9),R=S+(k^N^O)+P[9]+3654602809&4294967295,S=k+(R<<4&4294967295|R>>>28),R=O+(S^k^N)+P[12]+3873151461&4294967295,O=S+(R<<11&4294967295|R>>>21),R=N+(O^S^k)+P[15]+530742520&4294967295,N=O+(R<<16&4294967295|R>>>16),R=k+(N^O^S)+P[2]+3299628645&4294967295,k=N+(R<<23&4294967295|R>>>9),R=S+(N^(k|~O))+P[0]+4096336452&4294967295,S=k+(R<<6&4294967295|R>>>26),R=O+(k^(S|~N))+P[7]+1126891415&4294967295,O=S+(R<<10&4294967295|R>>>22),R=N+(S^(O|~k))+P[14]+2878612391&4294967295,N=O+(R<<15&4294967295|R>>>17),R=k+(O^(N|~S))+P[5]+4237533241&4294967295,k=N+(R<<21&4294967295|R>>>11),R=S+(N^(k|~O))+P[12]+1700485571&4294967295,S=k+(R<<6&4294967295|R>>>26),R=O+(k^(S|~N))+P[3]+2399980690&4294967295,O=S+(R<<10&4294967295|R>>>22),R=N+(S^(O|~k))+P[10]+4293915773&4294967295,N=O+(R<<15&4294967295|R>>>17),R=k+(O^(N|~S))+P[1]+2240044497&4294967295,k=N+(R<<21&4294967295|R>>>11),R=S+(N^(k|~O))+P[8]+1873313359&4294967295,S=k+(R<<6&4294967295|R>>>26),R=O+(k^(S|~N))+P[15]+4264355552&4294967295,O=S+(R<<10&4294967295|R>>>22),R=N+(S^(O|~k))+P[6]+2734768916&4294967295,N=O+(R<<15&4294967295|R>>>17),R=k+(O^(N|~S))+P[13]+1309151649&4294967295,k=N+(R<<21&4294967295|R>>>11),R=S+(N^(k|~O))+P[4]+4149444226&4294967295,S=k+(R<<6&4294967295|R>>>26),R=O+(k^(S|~N))+P[11]+3174756917&4294967295,O=S+(R<<10&4294967295|R>>>22),R=N+(S^(O|~k))+P[2]+718787259&4294967295,N=O+(R<<15&4294967295|R>>>17),R=k+(O^(N|~S))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+O&4294967295}r.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var k=S-this.blockSize,P=this.B,N=this.h,O=0;O<S;){if(N==0)for(;O<=k;)s(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<S;)if(P[N++]=I.charCodeAt(O++),N==this.blockSize){s(this,P),N=0;break}}else for(;O<S;)if(P[N++]=I[O++],N==this.blockSize){s(this,P),N=0;break}}this.h=N,this.o+=S},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var k=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=k&255,k/=256;for(this.u(I),I=Array(16),S=k=0;4>S;++S)for(var P=0;32>P;P+=8)I[k++]=this.g[S]>>>P&255;return I};function i(I,S){var k=a;return Object.prototype.hasOwnProperty.call(k,I)?k[I]:k[I]=S(I)}function o(I,S){this.h=S;for(var k=[],P=!0,N=I.length-1;0<=N;N--){var O=I[N]|0;P&&O==S||(k[N]=O,P=!1)}this.g=k}var a={};function l(I){return-128<=I&&128>I?i(I,function(S){return new o([S|0],0>S?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return E(u(-I));for(var S=[],k=1,P=0;I>=k;P++)S[P]=I/k|0,k*=4294967296;return new o(S,0)}function d(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return E(d(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=u(Math.pow(S,8)),P=h,N=0;N<I.length;N+=8){var O=Math.min(8,I.length-N),R=parseInt(I.substring(N,N+O),S);8>O?(O=u(Math.pow(S,O)),P=P.j(O).add(u(R))):(P=P.j(k),P=P.add(u(R)))}return P}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-E(this).m();for(var I=0,S=1,k=0;k<this.g.length;k++){var P=this.i(k);I+=(0<=P?P:4294967296+P)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(w(this))return"-"+E(this).toString(I);for(var S=u(Math.pow(I,6)),k=this,P="";;){var N=C(k,S).g;k=_(k,N.j(S));var O=((0<k.g.length?k.g[0]:k.h)>>>0).toString(I);if(k=N,T(k))return O+P;for(;6>O.length;)O="0"+O;P=O+P}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function w(I){return I.h==-1}t.l=function(I){return I=_(this,I),w(I)?-1:T(I)?0:1};function E(I){for(var S=I.g.length,k=[],P=0;P<S;P++)k[P]=~I.g[P];return new o(k,~I.h).add(f)}t.abs=function(){return w(this)?E(this):this},t.add=function(I){for(var S=Math.max(this.g.length,I.g.length),k=[],P=0,N=0;N<=S;N++){var O=P+(this.i(N)&65535)+(I.i(N)&65535),R=(O>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);P=R>>>16,O&=65535,R&=65535,k[N]=R<<16|O}return new o(k,k[k.length-1]&-2147483648?-1:0)};function _(I,S){return I.add(E(S))}t.j=function(I){if(T(this)||T(I))return h;if(w(this))return w(I)?E(this).j(E(I)):E(E(this).j(I));if(w(I))return E(this.j(E(I)));if(0>this.l(m)&&0>I.l(m))return u(this.m()*I.m());for(var S=this.g.length+I.g.length,k=[],P=0;P<2*S;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<I.g.length;N++){var O=this.i(P)>>>16,R=this.i(P)&65535,W=I.i(N)>>>16,oe=I.i(N)&65535;k[2*P+2*N]+=R*oe,y(k,2*P+2*N),k[2*P+2*N+1]+=O*oe,y(k,2*P+2*N+1),k[2*P+2*N+1]+=R*W,y(k,2*P+2*N+1),k[2*P+2*N+2]+=O*W,y(k,2*P+2*N+2)}for(P=0;P<S;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=S;P<2*S;P++)k[P]=0;return new o(k,0)};function y(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function b(I,S){this.g=I,this.h=S}function C(I,S){if(T(S))throw Error("division by zero");if(T(I))return new b(h,h);if(w(I))return S=C(E(I),S),new b(E(S.g),E(S.h));if(w(S))return S=C(I,E(S)),new b(E(S.g),S.h);if(30<I.g.length){if(w(I)||w(S))throw Error("slowDivide_ only works with positive integers.");for(var k=f,P=S;0>=P.l(I);)k=D(k),P=D(P);var N=L(k,1),O=L(P,1);for(P=L(P,2),k=L(k,2);!T(P);){var R=O.add(P);0>=R.l(I)&&(N=N.add(k),O=R),P=L(P,1),k=L(k,1)}return S=_(I,N.j(S)),new b(N,S)}for(N=h;0<=I.l(S);){for(k=Math.max(1,Math.floor(I.m()/S.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),O=u(k),R=O.j(S);w(R)||0<R.l(I);)k-=P,O=u(k),R=O.j(S);T(O)&&(O=f),N=N.add(O),I=_(I,R)}return new b(N,I)}t.A=function(I){return C(this,I).h},t.and=function(I){for(var S=Math.max(this.g.length,I.g.length),k=[],P=0;P<S;P++)k[P]=this.i(P)&I.i(P);return new o(k,this.h&I.h)},t.or=function(I){for(var S=Math.max(this.g.length,I.g.length),k=[],P=0;P<S;P++)k[P]=this.i(P)|I.i(P);return new o(k,this.h|I.h)},t.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),k=[],P=0;P<S;P++)k[P]=this.i(P)^I.i(P);return new o(k,this.h^I.h)};function D(I){for(var S=I.g.length+1,k=[],P=0;P<S;P++)k[P]=I.i(P)<<1|I.i(P-1)>>>31;return new o(k,I.h)}function L(I,S){var k=S>>5;S%=32;for(var P=I.g.length-k,N=[],O=0;O<P;O++)N[O]=0<S?I.i(O+k)>>>S|I.i(O+k+1)<<32-S:I.i(O+k);return new o(N,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,m1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,qs=o}).apply(typeof WE<"u"?WE:typeof self<"u"?self:typeof window<"u"?window:{});var id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var g1,Nl,y1,Vd,Fg,v1,w1,_1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof id=="object"&&id];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function s(c,p){if(p)e:{var v=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var M=c[A];if(!(M in v))break e;v=v[M]}c=c[c.length-1],A=v[c],p=p(A),p!=A&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}function i(c,p){c instanceof String&&(c+="");var v=0,A=!1,M={next:function(){if(!A&&v<c.length){var j=v++;return{value:p(j,c[j]),done:!1}}return A=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(c){return c||function(){return i(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,v){return c.call.apply(c.bind,arguments)}function h(c,p,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,A),c.apply(p,M)}}return function(){return c.apply(p,arguments)}}function f(c,p,v){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,M,j){for(var q=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)q[Re-2]=arguments[Re];return p.prototype[M].apply(A,q)}}function w(c){const p=c.length;if(0<p){const v=Array(p);for(let A=0;A<p;A++)v[A]=c[A];return v}return[]}function E(c,p){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(l(A)){const M=c.length||0,j=A.length||0;c.length=M+j;for(let q=0;q<j;q++)c[M+q]=A[q]}else c.push(A)}}class _{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function y(c){return/^[\s\xa0]*$/.test(c)}function b(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function C(c){return C[" "](c),c}C[" "]=function(){};var D=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function L(c,p,v){for(const A in c)p.call(v,c[A],A,c)}function I(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function S(c){const p={};for(const v in c)p[v]=c[v];return p}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,p){let v,A;for(let M=1;M<arguments.length;M++){A=arguments[M];for(v in A)c[v]=A[v];for(let j=0;j<k.length;j++)v=k[j],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function N(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function O(c){a.setTimeout(()=>{throw c},0)}function R(){var c=B;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class W{constructor(){this.h=this.g=null}add(p,v){const A=oe.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var oe=new _(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let re,V=!1,B=new W,G=()=>{const c=a.Promise.resolve(void 0);re=()=>{c.then(ae)}};var ae=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(v){O(v)}var p=oe;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}V=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};a.addEventListener("test",v,p),a.removeEventListener("test",v,p)}catch{}return c}();function Ne(c,p){if(Z.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(D){e:{try{C(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:at[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}T(Ne,Z);var at={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),ts=0;function Xn(c,p,v,A,M){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=M,this.key=++ts,this.da=this.fa=!1}function gn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function nn(c){this.src=c,this.g={},this.h=0}nn.prototype.add=function(c,p,v,A,M){var j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);var q=yn(c,p,A,M);return-1<q?(p=c[q],v||(p.fa=!1)):(p=new Xn(p,this.src,j,!!A,M),p.fa=v,c.push(p)),p};function Zn(c,p){var v=p.type;if(v in c.g){var A=c.g[v],M=Array.prototype.indexOf.call(A,p,void 0),j;(j=0<=M)&&Array.prototype.splice.call(A,M,1),j&&(gn(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function yn(c,p,v,A){for(var M=0;M<c.length;++M){var j=c[M];if(!j.da&&j.listener==p&&j.capture==!!v&&j.ha==A)return M}return-1}var ns="closure_lm_"+(1e6*Math.random()|0),yi={};function vi(c,p,v,A,M){if(Array.isArray(p)){for(var j=0;j<p.length;j++)vi(c,p[j],v,A,M);return null}return v=vu(v),c&&c[ve]?c.K(p,v,u(A)?!!A.capture:!1,M):tl(c,p,v,!1,A,M)}function tl(c,p,v,A,M,j){if(!p)throw Error("Invalid event type");var q=u(M)?!!M.capture:!!M,Re=An(c);if(Re||(c[ns]=Re=new nn(c)),v=Re.add(p,v,A,q,j),v.proxy)return v;if(A=wi(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)fe||(M=q),M===void 0&&(M=!1),c.addEventListener(p.toString(),A,M);else if(c.attachEvent)c.attachEvent(rs(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function wi(){function c(v){return p.call(c.src,c.listener,v)}const p=yu;return c}function _r(c,p,v,A,M){if(Array.isArray(p))for(var j=0;j<p.length;j++)_r(c,p[j],v,A,M);else A=u(A)?!!A.capture:!!A,v=vu(v),c&&c[ve]?(c=c.i,p=String(p).toString(),p in c.g&&(j=c.g[p],v=yn(j,v,A,M),-1<v&&(gn(j[v]),Array.prototype.splice.call(j,v,1),j.length==0&&(delete c.g[p],c.h--)))):c&&(c=An(c))&&(p=c.g[p.toString()],c=-1,p&&(c=yn(p,v,A,M)),(v=-1<c?p[c]:null)&&ho(v))}function ho(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ve])Zn(p.i,c);else{var v=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(v,A,c.capture):p.detachEvent?p.detachEvent(rs(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=An(p))?(Zn(v,c),v.h==0&&(v.src=null,p[ns]=null)):gn(c)}}}function rs(c){return c in yi?yi[c]:yi[c]="on"+c}function yu(c,p){if(c.da)c=!0;else{p=new Ne(p,this);var v=c.listener,A=c.ha||c.src;c.fa&&ho(c),c=v.call(A,p)}return c}function An(c){return c=c[ns],c instanceof nn?c:null}var nl="__closure_events_fn_"+(1e9*Math.random()>>>0);function vu(c){return typeof c=="function"?c:(c[nl]||(c[nl]=function(p){return c.handleEvent(p)}),c[nl])}function Ce(){J.call(this),this.i=new nn(this),this.M=this,this.F=null}T(Ce,J),Ce.prototype[ve]=!0,Ce.prototype.removeEventListener=function(c,p,v,A){_r(this,c,p,v,A)};function qe(c,p){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new Z(p,c);else if(p instanceof Z)p.target=p.target||c;else{var M=p;p=new Z(A,c),P(p,M)}if(M=!0,v)for(var j=v.length-1;0<=j;j--){var q=p.g=v[j];M=fo(q,A,!0,p)&&M}if(q=p.g=c,M=fo(q,A,!0,p)&&M,M=fo(q,A,!1,p)&&M,v)for(j=0;j<v.length;j++)q=p.g=v[j],M=fo(q,A,!1,p)&&M}Ce.prototype.N=function(){if(Ce.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],A=0;A<v.length;A++)gn(v[A]);delete c.g[p],c.h--}}this.F=null},Ce.prototype.K=function(c,p,v,A){return this.i.add(String(c),p,!1,v,A)},Ce.prototype.L=function(c,p,v,A){return this.i.add(String(c),p,!0,v,A)};function fo(c,p,v,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,j=0;j<p.length;++j){var q=p[j];if(q&&!q.da&&q.capture==v){var Re=q.listener,gt=q.ha||q.src;q.fa&&Zn(c.i,q),M=Re.call(gt,A)!==!1&&M}}return M&&!A.defaultPrevented}function wu(c,p,v){if(typeof c=="function")v&&(c=f(c,v));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function _i(c){c.g=wu(()=>{c.g=null,c.i&&(c.i=!1,_i(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class sp extends J{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:_i(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ss(c){J.call(this),this.h=c,this.g={}}T(ss,J);var po=[];function Er(c){L(c.g,function(p,v){this.g.hasOwnProperty(v)&&ho(p)},c),c.g={}}ss.prototype.N=function(){ss.aa.N.call(this),Er(this)},ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mo=a.JSON.stringify,is=a.JSON.parse,ip=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function rl(){}rl.prototype.h=null;function sl(c){return c.h||(c.h=c.i())}function il(){}var Ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bi(){Z.call(this,"d")}T(bi,Z);function vn(){Z.call(this,"c")}T(vn,Z);var br={},se=null;function Ee(){return se=se||new Ce}br.La="serverreachability";function Pe(c){Z.call(this,br.La,c)}T(Pe,Z);function pt(c){const p=Ee();qe(p,new Pe(p))}br.STAT_EVENT="statevent";function Ht(c,p){Z.call(this,br.STAT_EVENT,c),this.stat=p}T(Ht,Z);function Ue(c){const p=Ee();qe(p,new Ht(p,c))}br.Ma="timingevent";function er(c,p){Z.call(this,br.Ma,c),this.size=p}T(er,Z);function mt(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function Wt(){this.g=!0}Wt.prototype.xa=function(){this.g=!1};function OP(c,p,v,A,M,j){c.info(function(){if(c.g)if(j)for(var q="",Re=j.split("&"),gt=0;gt<Re.length;gt++){var Te=Re[gt].split("=");if(1<Te.length){var Tt=Te[0];Te=Te[1];var xt=Tt.split("_");q=2<=xt.length&&xt[1]=="type"?q+(Tt+"="+Te+"&"):q+(Tt+"=redacted&")}}else q=null;else q=j;return"XMLHTTP REQ ("+A+") [attempt "+M+"]: "+p+`
`+v+`
`+q})}function DP(c,p,v,A,M,j,q){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+M+"]: "+p+`
`+v+`
`+j+" "+q})}function go(c,p,v,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+MP(c,v)+(A?" "+A:"")})}function LP(c,p){c.info(function(){return"TIMEOUT: "+p})}Wt.prototype.info=function(){};function MP(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var M=A[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var q=1;q<M.length;q++)M[q]=""}}}}return mo(v)}catch{return p}}var _u={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},F0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},op;function Eu(){}T(Eu,rl),Eu.prototype.g=function(){return new XMLHttpRequest},Eu.prototype.i=function(){return{}},op=new Eu;function os(c,p,v,A){this.j=c,this.i=p,this.l=v,this.R=A||1,this.U=new ss(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new U0}function U0(){this.i=null,this.g="",this.h=!1}var $0={},ap={};function lp(c,p,v){c.L=1,c.v=Su(Tr(p)),c.m=v,c.P=!0,B0(c,null)}function B0(c,p){c.F=Date.now(),bu(c),c.A=Tr(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),nw(v.i,"t",A),c.C=0,v=c.j.J,c.h=new U0,c.g=_w(c.j,v?p:null,!c.m),0<c.O&&(c.M=new sp(f(c.Y,c,c.g),c.O)),p=c.U,v=c.g,A=c.ca;var M="readystatechange";Array.isArray(M)||(M&&(po[0]=M.toString()),M=po);for(var j=0;j<M.length;j++){var q=vi(v,M[j],A||p.handleEvent,!1,p.h||p);if(!q)break;p.g[q.key]=q}p=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),pt(),OP(c.i,c.u,c.A,c.l,c.R,c.m)}os.prototype.ca=function(c){c=c.target;const p=this.M;p&&xr(c)==3?p.j():this.Y(c)},os.prototype.Y=function(c){try{if(c==this.g)e:{const xt=xr(this.g);var p=this.g.Ba();const wo=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||cw(this.g)))){this.J||xt!=4||p==7||(p==8||0>=wo?pt(3):pt(2)),cp(this);var v=this.g.Z();this.X=v;t:if(z0(this)){var A=cw(this.g);c="";var M=A.length,j=xr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ti(this),ol(this);var q="";break t}this.h.i=new a.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,c+=this.h.i.decode(A[p],{stream:!(j&&p==M-1)});A.length=0,this.h.g+=c,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=v==200,DP(this.i,this.u,this.A,this.l,this.R,xt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,gt=this.g;if((Re=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Re)){var Te=Re;break t}}Te=null}if(v=Te)go(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,up(this,v);else{this.o=!1,this.s=3,Ue(12),Ti(this),ol(this);break e}}if(this.P){v=!0;let kn;for(;!this.J&&this.C<q.length;)if(kn=jP(this,q),kn==ap){xt==4&&(this.s=4,Ue(14),v=!1),go(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==$0){this.s=4,Ue(15),go(this.i,this.l,q,"[Invalid Chunk]"),v=!1;break}else go(this.i,this.l,kn,null),up(this,kn);if(z0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||q.length!=0||this.h.h||(this.s=1,Ue(16),v=!1),this.o=this.o&&v,!v)go(this.i,this.l,q,"[Invalid Chunked Response]"),Ti(this),ol(this);else if(0<q.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),gp(Tt),Tt.M=!0,Ue(11))}}else go(this.i,this.l,q,null),up(this,q);xt==4&&Ti(this),this.o&&!this.J&&(xt==4?gw(this.j,this):(this.o=!1,bu(this)))}else eR(this.g),v==400&&0<q.indexOf("Unknown SID")?(this.s=3,Ue(12)):(this.s=0,Ue(13)),Ti(this),ol(this)}}}catch{}finally{}};function z0(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function jP(c,p){var v=c.C,A=p.indexOf(`
`,v);return A==-1?ap:(v=Number(p.substring(v,A)),isNaN(v)?$0:(A+=1,A+v>p.length?ap:(p=p.slice(A,A+v),c.C=A+v,p)))}os.prototype.cancel=function(){this.J=!0,Ti(this)};function bu(c){c.S=Date.now()+c.I,H0(c,c.I)}function H0(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mt(f(c.ba,c),p)}function cp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}os.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(LP(this.i,this.A),this.L!=2&&(pt(),Ue(17)),Ti(this),this.s=2,ol(this)):H0(this,this.S-c)};function ol(c){c.j.G==0||c.J||gw(c.j,c)}function Ti(c){cp(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Er(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function up(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||dp(v.h,c))){if(!c.K&&dp(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var M=A;if(M[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ru(v),ku(v);else break e;mp(v),Ue(18)}}else v.za=M[1],0<v.za-v.T&&37500>M[2]&&v.F&&v.v==0&&!v.C&&(v.C=mt(f(v.Za,v),6e3));if(1>=G0(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Si(v,11)}else if((c.K||v.g==c)&&Ru(v),!y(p))for(M=v.Da.g.parse(p),p=0;p<M.length;p++){let Te=M[p];if(v.T=Te[0],Te=Te[1],v.G==2)if(Te[0]=="c"){v.K=Te[1],v.ia=Te[2];const Tt=Te[3];Tt!=null&&(v.la=Tt,v.j.info("VER="+v.la));const xt=Te[4];xt!=null&&(v.Aa=xt,v.j.info("SVER="+v.Aa));const wo=Te[5];wo!=null&&typeof wo=="number"&&0<wo&&(A=1.5*wo,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const kn=c.g;if(kn){const Ou=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ou){var j=A.h;j.g||Ou.indexOf("spdy")==-1&&Ou.indexOf("quic")==-1&&Ou.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(hp(j,j.h),j.h=null))}if(A.D){const yp=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;yp&&(A.ya=yp,Le(A.I,A.D,yp))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var q=c;if(A.qa=ww(A,A.J?A.ia:null,A.W),q.K){K0(A.h,q);var Re=q,gt=A.L;gt&&(Re.I=gt),Re.B&&(cp(Re),bu(Re)),A.g=q}else pw(A);0<v.i.length&&Pu(v)}else Te[0]!="stop"&&Te[0]!="close"||Si(v,7);else v.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?Si(v,7):pp(v):Te[0]!="noop"&&v.l&&v.l.ta(Te),v.v=0)}}pt(4)}catch{}}var VP=class{constructor(c,p){this.g=c,this.map=p}};function W0(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function q0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function G0(c){return c.h?1:c.g?c.g.size:0}function dp(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function hp(c,p){c.g?c.g.add(p):c.h=p}function K0(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}W0.prototype.cancel=function(){if(this.i=Q0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Q0(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return w(c.i)}function FP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],v=c.length,A=0;A<v;A++)p.push(c[A]);return p}p=[],v=0;for(A in c)p[v++]=c[A];return p}function UP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const A in c)p[v++]=A;return p}}}function Y0(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=UP(c),A=FP(c),M=A.length,j=0;j<M;j++)p.call(void 0,A[j],v&&v[j],c)}var J0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $P(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),M=null;if(0<=A){var j=c[v].substring(0,A);M=c[v].substring(A+1)}else j=c[v];p(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function xi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xi){this.h=c.h,Tu(this,c.j),this.o=c.o,this.g=c.g,xu(this,c.s),this.l=c.l;var p=c.i,v=new cl;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),X0(this,v),this.m=c.m}else c&&(p=String(c).match(J0))?(this.h=!1,Tu(this,p[1]||"",!0),this.o=al(p[2]||""),this.g=al(p[3]||"",!0),xu(this,p[4]),this.l=al(p[5]||"",!0),X0(this,p[6]||"",!0),this.m=al(p[7]||"")):(this.h=!1,this.i=new cl(null,this.h))}xi.prototype.toString=function(){var c=[],p=this.j;p&&c.push(ll(p,Z0,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ll(p,Z0,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ll(v,v.charAt(0)=="/"?HP:zP,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ll(v,qP)),c.join("")};function Tr(c){return new xi(c)}function Tu(c,p,v){c.j=v?al(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function xu(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function X0(c,p,v){p instanceof cl?(c.i=p,GP(c.i,c.h)):(v||(p=ll(p,WP)),c.i=new cl(p,c.h))}function Le(c,p,v){c.i.set(p,v)}function Su(c){return Le(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function al(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ll(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,BP),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function BP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Z0=/[#\/\?@]/g,zP=/[#\?:]/g,HP=/[#\?]/g,WP=/[#\?@]/g,qP=/#/g;function cl(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function as(c){c.g||(c.g=new Map,c.h=0,c.i&&$P(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=cl.prototype,t.add=function(c,p){as(this),this.i=null,c=yo(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function ew(c,p){as(c),p=yo(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function tw(c,p){return as(c),p=yo(c,p),c.g.has(p)}t.forEach=function(c,p){as(this),this.g.forEach(function(v,A){v.forEach(function(M){c.call(p,M,A,this)},this)},this)},t.na=function(){as(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let A=0;A<p.length;A++){const M=c[A];for(let j=0;j<M.length;j++)v.push(p[A])}return v},t.V=function(c){as(this);let p=[];if(typeof c=="string")tw(this,c)&&(p=p.concat(this.g.get(yo(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},t.set=function(c,p){return as(this),this.i=null,c=yo(this,c),tw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function nw(c,p,v){ew(c,p),0<v.length&&(c.i=null,c.g.set(yo(c,p),w(v)),c.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var A=p[v];const j=encodeURIComponent(String(A)),q=this.V(A);for(A=0;A<q.length;A++){var M=j;q[A]!==""&&(M+="="+encodeURIComponent(String(q[A]))),c.push(M)}}return this.i=c.join("&")};function yo(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function GP(c,p){p&&!c.j&&(as(c),c.i=null,c.g.forEach(function(v,A){var M=A.toLowerCase();A!=M&&(ew(this,A),nw(this,M,v))},c)),c.j=p}function KP(c,p){const v=new Wt;if(a.Image){const A=new Image;A.onload=m(ls,v,"TestLoadImage: loaded",!0,p,A),A.onerror=m(ls,v,"TestLoadImage: error",!1,p,A),A.onabort=m(ls,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=m(ls,v,"TestLoadImage: timeout",!1,p,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function QP(c,p){const v=new Wt,A=new AbortController,M=setTimeout(()=>{A.abort(),ls(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(j=>{clearTimeout(M),j.ok?ls(v,"TestPingServer: ok",!0,p):ls(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),ls(v,"TestPingServer: error",!1,p)})}function ls(c,p,v,A,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),A(v)}catch{}}function YP(){this.g=new ip}function JP(c,p,v){const A=v||"";try{Y0(c,function(M,j){let q=M;u(M)&&(q=mo(M)),p.push(A+j+"="+encodeURIComponent(q))})}catch(M){throw p.push(A+"type="+encodeURIComponent("_badmap")),M}}function Iu(c){this.l=c.Ub||null,this.j=c.eb||!1}T(Iu,rl),Iu.prototype.g=function(){return new Cu(this.l,this.j)},Iu.prototype.i=function(c){return function(){return c}}({});function Cu(c,p){Ce.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Cu,Ce),t=Cu.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,dl(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ul(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,dl(this)),this.g&&(this.readyState=3,dl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function rw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ul(this):dl(this),this.readyState==3&&rw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ul(this))},t.Qa=function(c){this.g&&(this.response=c,ul(this))},t.ga=function(){this.g&&ul(this)};function ul(c){c.readyState=4,c.l=null,c.j=null,c.v=null,dl(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function dl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function sw(c){let p="";return L(c,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function fp(c,p,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=sw(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Le(c,p,v))}function Ge(c){Ce.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ge,Ce);var XP=/^https?$/i,ZP=["POST","PUT"];t=Ge.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():op.g(),this.v=this.o?sl(this.o):sl(op),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(j){iw(this,j);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var M in A)v.set(M,A[M]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())v.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ZP,p,void 0))||A||M||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,q]of v)this.g.setRequestHeader(j,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lw(this),this.u=!0,this.g.send(c),this.u=!1}catch(j){iw(this,j)}};function iw(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,ow(c),Au(c)}function ow(c){c.A||(c.A=!0,qe(c,"complete"),qe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,qe(this,"complete"),qe(this,"abort"),Au(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Au(this,!0)),Ge.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?aw(this):this.bb())},t.bb=function(){aw(this)};function aw(c){if(c.h&&typeof o<"u"&&(!c.v[1]||xr(c)!=4||c.Z()!=2)){if(c.u&&xr(c)==4)wu(c.Ea,0,c);else if(qe(c,"readystatechange"),xr(c)==4){c.h=!1;try{const q=c.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var A;if(A=q===0){var M=String(c.D).match(J0)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),A=!XP.test(M?M.toLowerCase():"")}v=A}if(v)qe(c,"complete"),qe(c,"success");else{c.m=6;try{var j=2<xr(c)?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.Z()+"]",ow(c)}}finally{Au(c)}}}}function Au(c,p){if(c.g){lw(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||qe(c,"ready");try{v.onreadystatechange=A}catch{}}}function lw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function xr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<xr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),is(p)}};function cw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function eR(c){const p={};c=(c.g&&2<=xr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(y(c[A]))continue;var v=N(c[A]);const M=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=p[M]||[];p[M]=j,j.push(v)}I(p,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hl(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function uw(c){this.Aa=0,this.i=[],this.j=new Wt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hl("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hl("baseRetryDelayMs",5e3,c),this.cb=hl("retryDelaySeedMs",1e4,c),this.Wa=hl("forwardChannelMaxRetries",2,c),this.wa=hl("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new W0(c&&c.concurrentRequestLimit),this.Da=new YP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=uw.prototype,t.la=8,t.G=1,t.connect=function(c,p,v,A){Ue(0),this.W=c,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=ww(this,null,this.W),Pu(this)};function pp(c){if(dw(c),c.G==3){var p=c.U++,v=Tr(c.I);if(Le(v,"SID",c.K),Le(v,"RID",p),Le(v,"TYPE","terminate"),fl(c,v),p=new os(c,c.j,p),p.L=2,p.v=Su(Tr(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=p.v,v=!0),v||(p.g=_w(p.j,null),p.g.ea(p.v)),p.F=Date.now(),bu(p)}vw(c)}function ku(c){c.g&&(gp(c),c.g.cancel(),c.g=null)}function dw(c){ku(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ru(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Pu(c){if(!q0(c.h)&&!c.s){c.s=!0;var p=c.Ga;re||G(),V||(re(),V=!0),B.add(p,c),c.B=0}}function tR(c,p){return G0(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mt(f(c.Ga,c,p),yw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const M=new os(this,this.j,c);let j=this.o;if(this.S&&(j?(j=S(j),P(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=fw(this,M,p),v=Tr(this.I),Le(v,"RID",c),Le(v,"CVER",22),this.D&&Le(v,"X-HTTP-Session-Id",this.D),fl(this,v),j&&(this.O?p="headers="+encodeURIComponent(String(sw(j)))+"&"+p:this.m&&fp(v,this.m,j)),hp(this.h,M),this.Ua&&Le(v,"TYPE","init"),this.P?(Le(v,"$req",p),Le(v,"SID","null"),M.T=!0,lp(M,v,null)):lp(M,v,p),this.G=2}}else this.G==3&&(c?hw(this,c):this.i.length==0||q0(this.h)||hw(this))};function hw(c,p){var v;p?v=p.l:v=c.U++;const A=Tr(c.I);Le(A,"SID",c.K),Le(A,"RID",v),Le(A,"AID",c.T),fl(c,A),c.m&&c.o&&fp(A,c.m,c.o),v=new os(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=fw(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),hp(c.h,v),lp(v,A,p)}function fl(c,p){c.H&&L(c.H,function(v,A){Le(p,A,v)}),c.l&&Y0({},function(v,A){Le(p,A,v)})}function fw(c,p,v){v=Math.min(c.i.length,v);var A=c.l?f(c.l.Na,c.l,c):null;e:{var M=c.i;let j=-1;for(;;){const q=["count="+v];j==-1?0<v?(j=M[0].g,q.push("ofs="+j)):j=0:q.push("ofs="+j);let Re=!0;for(let gt=0;gt<v;gt++){let Te=M[gt].g;const Tt=M[gt].map;if(Te-=j,0>Te)j=Math.max(0,M[gt].g-100),Re=!1;else try{JP(Tt,q,"req"+Te+"_")}catch{A&&A(Tt)}}if(Re){A=q.join("&");break e}}}return c=c.i.splice(0,v),p.D=c,A}function pw(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;re||G(),V||(re(),V=!0),B.add(p,c),c.v=0}}function mp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mt(f(c.Fa,c),yw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,mw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mt(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ue(10),ku(this),mw(this))};function gp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function mw(c){c.g=new os(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Tr(c.qa);Le(p,"RID","rpc"),Le(p,"SID",c.K),Le(p,"AID",c.T),Le(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Le(p,"TO",c.ja),Le(p,"TYPE","xmlhttp"),fl(c,p),c.m&&c.o&&fp(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Su(Tr(p)),v.m=null,v.P=!0,B0(v,c)}t.Za=function(){this.C!=null&&(this.C=null,ku(this),mp(this),Ue(19))};function Ru(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function gw(c,p){var v=null;if(c.g==p){Ru(c),gp(c),c.g=null;var A=2}else if(dp(c.h,p))v=p.D,K0(c.h,p),A=1;else return;if(c.G!=0){if(p.o)if(A==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var M=c.B;A=Ee(),qe(A,new er(A,v)),Pu(c)}else pw(c);else if(M=p.s,M==3||M==0&&0<p.X||!(A==1&&tR(c,p)||A==2&&mp(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),M){case 1:Si(c,5);break;case 4:Si(c,10);break;case 3:Si(c,6);break;default:Si(c,2)}}}function yw(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function Si(c,p){if(c.j.info("Error code "+p),p==2){var v=f(c.fb,c),A=c.Xa;const M=!A;A=new xi(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Tu(A,"https"),Su(A),M?KP(A.toString(),v):QP(A.toString(),v)}else Ue(2);c.G=0,c.l&&c.l.sa(p),vw(c),dw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function vw(c){if(c.G=0,c.ka=[],c.l){const p=Q0(c.h);(p.length!=0||c.i.length!=0)&&(E(c.ka,p),E(c.ka,c.i),c.h.i.length=0,w(c.i),c.i.length=0),c.l.ra()}}function ww(c,p,v){var A=v instanceof xi?Tr(v):new xi(v);if(A.g!="")p&&(A.g=p+"."+A.g),xu(A,A.s);else{var M=a.location;A=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var j=new xi(null);A&&Tu(j,A),p&&(j.g=p),M&&xu(j,M),v&&(j.l=v),A=j}return v=c.D,p=c.ya,v&&p&&Le(A,v,p),Le(A,"VER",c.la),fl(c,A),A}function _w(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Ge(new Iu({eb:v})):new Ge(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ew(){}t=Ew.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Nu(){}Nu.prototype.g=function(c,p){return new rn(c,p)};function rn(c,p){Ce.call(this),this.g=new uw(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!y(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!y(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new vo(this)}T(rn,Ce),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){pp(this.g)},rn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=mo(c),c=v);p.i.push(new VP(p.Ya++,c)),p.G==3&&Pu(p)},rn.prototype.N=function(){this.g.l=null,delete this.j,pp(this.g),delete this.g,rn.aa.N.call(this)};function bw(c){bi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}T(bw,bi);function Tw(){vn.call(this),this.status=1}T(Tw,vn);function vo(c){this.g=c}T(vo,Ew),vo.prototype.ua=function(){qe(this.g,"a")},vo.prototype.ta=function(c){qe(this.g,new bw(c))},vo.prototype.sa=function(c){qe(this.g,new Tw)},vo.prototype.ra=function(){qe(this.g,"b")},Nu.prototype.createWebChannel=Nu.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,_1=function(){return new Nu},w1=function(){return Ee()},v1=br,Fg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_u.NO_ERROR=0,_u.TIMEOUT=8,_u.HTTP_ERROR=6,Vd=_u,F0.COMPLETE="complete",y1=F0,il.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",Ce.prototype.listen=Ce.prototype.K,Nl=il,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,g1=Ge}).apply(typeof id<"u"?id:typeof self<"u"?self:typeof window<"u"?window:{});const qE="@firebase/firestore",GE="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wa="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new Av("@firebase/firestore");function ko(){return no.logLevel}function K(t,...e){if(no.logLevel<=ge.DEBUG){const n=e.map(Fv);no.debug(`Firestore (${Wa}): ${t}`,...n)}}function Qr(t,...e){if(no.logLevel<=ge.ERROR){const n=e.map(Fv);no.error(`Firestore (${Wa}): ${t}`,...n)}}function Ia(t,...e){if(no.logLevel<=ge.WARN){const n=e.map(Fv);no.warn(`Firestore (${Wa}): ${t}`,...n)}}function Fv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,E1(t,r,n)}function E1(t,e,n){let r=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Qr(r),new Error(r)}function Se(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||E1(e,s,r)}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Xr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}}class r${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class s${constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Se(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Fr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Fr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string",31837,{l:r}),new b1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string",2055,{h:e}),new Pt(e)}}class i${constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class o${constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new i$(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a${constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Se(this.o===void 0,3512);const r=i=>{i.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new KE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new KE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=l$(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function Ug(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return he(r,s);{const i=T1(),o=c$(i.encode(QE(t,n)),i.encode(QE(e,n)));return o!==0?o:he(r,s)}}n+=r>65535?2:1}return he(t.length,e.length)}function QE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function c$(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return he(t[n],e[n]);return he(t.length,e.length)}function Ca(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=-62135596800,JE=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*JE);return new st(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<YE)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/JE}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-YE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{static fromTimestamp(e){return new ie(e)}static min(){return new ie(new st(0,0))}static max(){return new ie(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="__name__";class rr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=rr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return he(e.length,n.length)}static compareSegments(e,n){const r=rr.isNumericId(e),s=rr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?rr.extractNumericId(e).compare(rr.extractNumericId(n)):Ug(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qs.fromString(e.substring(4,e.length-2))}}class Ve extends rr{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const u$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends rr{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return u$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===XE}static keyField(){return new wt([XE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Ve.fromString(e))}static fromName(e){return new ee(Ve.fromString(e).popFirst(5))}static empty(){return new ee(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Ve(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=-1;function d$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ie.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new Zs(s,ee.empty(),e)}function h$(t){return new Zs(t.readTime,t.key,Rc)}class Zs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zs(ie.min(),ee.empty(),Rc)}static max(){return new Zs(ie.max(),ee.empty(),Rc)}}function f$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==p$)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function g$(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ga(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Sf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=-1;function If(t){return t==null}function Ph(t){return t===0&&1/t==-1/0}function y$(t){return typeof t=="number"&&Number.isInteger(t)&&!Ph(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="";function v$(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ZE(e)),e=w$(t.get(n),e);return ZE(e)}function w$(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case S1:n+="";break;default:n+=i}}return n}function ZE(t){return t+S1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function I1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.comparator=e,this.root=n||vt.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vt.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new od(this.root,e,this.comparator,!1)}getReverseIterator(){return new od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new od(this.root,e,this.comparator,!0)}}class od{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??vt.RED,this.left=s??vt.EMPTY,this.right=i??vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new vt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return vt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ne(27949);return e+(this.isRed()?0:1)}}vt.EMPTY=null,vt.RED=!0,vt.BLACK=!1;vt.EMPTY=new class{constructor(){this.size=0}get key(){throw ne(57766)}get value(){throw ne(16141)}get color(){throw ne(16727)}get left(){throw ne(29726)}get right(){throw ne(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tb(this.data.getIterator())}getIteratorFrom(e){return new tb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class tb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new cn([])}unionWith(e){let n=new it(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ca(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new C1("Invalid base64 string: "+i):i}}(e);return new bt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const _$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ei(t){if(Se(!!t,39018),typeof t=="string"){let e=0;const n=_$.exec(t);if(Se(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ti(t){return typeof t=="string"?bt.fromBase64String(t):bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="server_timestamp",k1="__type__",P1="__previous_value__",R1="__local_write_time__";function $v(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[k1])===null||n===void 0?void 0:n.stringValue)===A1}function Cf(t){const e=t.mapValue.fields[P1];return $v(e)?Cf(e):e}function Nc(t){const e=ei(t.mapValue.fields[R1].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(e,n,r,s,i,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const Rh="(default)";class Oc{constructor(e,n){this.projectId=e,this.database=n||Rh}static empty(){return new Oc("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(e){return e instanceof Oc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="__type__",b$="__max__",ad={mapValue:{}},O1="__vector__",Nh="value";function ni(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$v(t)?4:x$(t)?9007199254740991:T$(t)?10:11:ne(28295,{value:t})}function vr(t,e){if(t===e)return!0;const n=ni(t);if(n!==ni(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nc(t).isEqual(Nc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ei(s.timestampValue),a=ei(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ti(s.bytesValue).isEqual(ti(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ye(s.geoPointValue.latitude)===Ye(i.geoPointValue.latitude)&&Ye(s.geoPointValue.longitude)===Ye(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ye(s.integerValue)===Ye(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ye(s.doubleValue),a=Ye(i.doubleValue);return o===a?Ph(o)===Ph(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ca(t.arrayValue.values||[],e.arrayValue.values||[],vr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(eb(o)!==eb(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!vr(o[l],a[l])))return!1;return!0}(t,e);default:return ne(52216,{left:t})}}function Dc(t,e){return(t.values||[]).find(n=>vr(n,e))!==void 0}function Aa(t,e){if(t===e)return 0;const n=ni(t),r=ni(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ye(i.integerValue||i.doubleValue),l=Ye(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return nb(t.timestampValue,e.timestampValue);case 4:return nb(Nc(t),Nc(e));case 5:return Ug(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ti(i),l=ti(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=he(a[u],l[u]);if(d!==0)return d}return he(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=he(Ye(i.latitude),Ye(o.latitude));return a!==0?a:he(Ye(i.longitude),Ye(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return rb(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,d;const h=i.fields||{},f=o.fields||{},m=(a=h[Nh])===null||a===void 0?void 0:a.arrayValue,T=(l=f[Nh])===null||l===void 0?void 0:l.arrayValue,w=he(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=T==null?void 0:T.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:rb(m,T)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===ad.mapValue&&o===ad.mapValue)return 0;if(i===ad.mapValue)return 1;if(o===ad.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Ug(l[h],d[h]);if(f!==0)return f;const m=Aa(a[l[h]],u[d[h]]);if(m!==0)return m}return he(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ne(23264,{Pe:n})}}function nb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=ei(t),r=ei(e),s=he(n.seconds,r.seconds);return s!==0?s:he(n.nanos,r.nanos)}function rb(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Aa(n[s],r[s]);if(i)return i}return he(n.length,r.length)}function ka(t){return $g(t)}function $g(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ei(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ti(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=$g(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${$g(n.fields[o])}`;return s+"}"}(t.mapValue):ne(61005,{value:t})}function Fd(t){switch(ni(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cf(t);return e?16+Fd(e):16;case 5:return 2*t.stringValue.length;case 6:return ti(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Fd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return fi(r.fields,(i,o)=>{s+=i.length+Fd(o)}),s}(t.mapValue);default:throw ne(13486,{value:t})}}function sb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bg(t){return!!t&&"integerValue"in t}function Bv(t){return!!t&&"arrayValue"in t}function ib(t){return!!t&&"nullValue"in t}function ob(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ud(t){return!!t&&"mapValue"in t}function T$(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[N1])===null||n===void 0?void 0:n.stringValue)===O1}function Yl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Yl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function x$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===b$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ud(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=wt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Yl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Ud(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ud(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){fi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Jt(Yl(this.value))}}function D1(t){const e=[];return fi(t.fields,(n,r)=>{const s=new wt([n]);if(Ud(r)){const i=D1(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Nt(e,0,ie.min(),ie.min(),ie.min(),Jt.empty(),0)}static newFoundDocument(e,n,r,s){return new Nt(e,1,n,ie.min(),r,s,0)}static newNoDocument(e,n){return new Nt(e,2,n,ie.min(),ie.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new Nt(e,3,n,ie.min(),ie.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n){this.position=e,this.inclusive=n}}function ab(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=Aa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function lb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n="asc"){this.field=e,this.dir=n}}function S$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{}class et extends L1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new C$(e,n,r):n==="array-contains"?new P$(e,r):n==="in"?new R$(e,r):n==="not-in"?new N$(e,r):n==="array-contains-any"?new O$(e,r):new et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new A$(e,r):new k$(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Aa(n,this.value)):n!==null&&ni(this.value)===ni(n)&&this.matchesComparison(Aa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends L1{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Yn(e,n)}matches(e){return M1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function M1(t){return t.op==="and"}function j1(t){return I$(t)&&M1(t)}function I$(t){for(const e of t.filters)if(e instanceof Yn)return!1;return!0}function zg(t){if(t instanceof et)return t.field.canonicalString()+t.op.toString()+ka(t.value);if(j1(t))return t.filters.map(e=>zg(e)).join(",");{const e=t.filters.map(n=>zg(n)).join(",");return`${t.op}(${e})`}}function V1(t,e){return t instanceof et?function(r,s){return s instanceof et&&r.op===s.op&&r.field.isEqual(s.field)&&vr(r.value,s.value)}(t,e):t instanceof Yn?function(r,s){return s instanceof Yn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&V1(o,s.filters[a]),!0):!1}(t,e):void ne(19439)}function F1(t){return t instanceof et?function(n){return`${n.field.canonicalString()} ${n.op} ${ka(n.value)}`}(t):t instanceof Yn?function(n){return n.op.toString()+" {"+n.getFilters().map(F1).join(" ,")+"}"}(t):"Filter"}class C$ extends et{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class A$ extends et{constructor(e,n){super(e,"in",n),this.keys=U1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class k$ extends et{constructor(e,n){super(e,"not-in",n),this.keys=U1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function U1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class P$ extends et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bv(n)&&Dc(n.arrayValue,this.value)}}class R$ extends et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dc(this.value.arrayValue,n)}}class N$ extends et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Dc(this.value.arrayValue,n)}}class O$ extends et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Dc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function cb(t,e=null,n=[],r=[],s=null,i=null,o=null){return new D$(t,e,n,r,s,i,o)}function zv(t){const e=le(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),If(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ka(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ka(r)).join(",")),e.Ie=n}return e.Ie}function Hv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!S$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!V1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lb(t.startAt,e.startAt)&&lb(t.endAt,e.endAt)}function Hg(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function L$(t,e,n,r,s,i,o,a){return new Ka(t,e,n,r,s,i,o,a)}function Af(t){return new Ka(t)}function ub(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $1(t){return t.collectionGroup!==null}function Jl(t){const e=le(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new it(wt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Lc(i,r))}),n.has(wt.keyField().canonicalString())||e.Ee.push(new Lc(wt.keyField(),r))}return e.Ee}function mr(t){const e=le(t);return e.de||(e.de=M$(e,Jl(t))),e.de}function M$(t,e){if(t.limitType==="F")return cb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Lc(s.field,i)});const n=t.endAt?new Oh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Oh(t.startAt.position,t.startAt.inclusive):null;return cb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Wg(t,e){const n=t.filters.concat([e]);return new Ka(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qg(t,e,n){return new Ka(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kf(t,e){return Hv(mr(t),mr(e))&&t.limitType===e.limitType}function B1(t){return`${zv(mr(t))}|lt:${t.limitType}`}function Po(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>F1(s)).join(", ")}]`),If(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ka(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ka(s)).join(",")),`Target(${r})`}(mr(t))}; limitType=${t.limitType})`}function Pf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ee.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Jl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=ab(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Jl(r),s)||r.endAt&&!function(o,a,l){const u=ab(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Jl(r),s))}(t,e)}function j$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function z1(t){return(e,n)=>{let r=!1;for(const s of Jl(t)){const i=V$(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function V$(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Aa(l,u):ne(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){fi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return I1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$=new We(ee.comparator);function Yr(){return F$}const H1=new We(ee.comparator);function Ol(...t){let e=H1;for(const n of t)e=e.insert(n.key,n);return e}function W1(t){let e=H1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ji(){return Xl()}function q1(){return Xl()}function Xl(){return new lo(t=>t.toString(),(t,e)=>t.isEqual(e))}const U$=new We(ee.comparator),$$=new it(ee.comparator);function ye(...t){let e=$$;for(const n of t)e=e.add(n);return e}const B$=new it(he);function z$(){return B$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(e)?"-0":e}}function G1(t){return{integerValue:""+t}}function H$(t,e){return y$(e)?G1(e):Wv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(){this._=void 0}}function W$(t,e,n){return t instanceof Mc?function(s,i){const o={fields:{[k1]:{stringValue:A1},[R1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&$v(i)&&(i=Cf(i)),i&&(o.fields[P1]=i),{mapValue:o}}(n,e):t instanceof jc?Q1(t,e):t instanceof Vc?Y1(t,e):function(s,i){const o=K1(s,i),a=db(o)+db(s.Re);return Bg(o)&&Bg(s.Re)?G1(a):Wv(s.serializer,a)}(t,e)}function q$(t,e,n){return t instanceof jc?Q1(t,e):t instanceof Vc?Y1(t,e):n}function K1(t,e){return t instanceof Dh?function(r){return Bg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Mc extends Rf{}class jc extends Rf{constructor(e){super(),this.elements=e}}function Q1(t,e){const n=J1(e);for(const r of t.elements)n.some(s=>vr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Vc extends Rf{constructor(e){super(),this.elements=e}}function Y1(t,e){let n=J1(e);for(const r of t.elements)n=n.filter(s=>!vr(s,r));return{arrayValue:{values:n}}}class Dh extends Rf{constructor(e,n){super(),this.serializer=e,this.Re=n}}function db(t){return Ye(t.integerValue||t.doubleValue)}function J1(t){return Bv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e,n){this.field=e,this.transform=n}}function K$(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof jc&&s instanceof jc||r instanceof Vc&&s instanceof Vc?Ca(r.elements,s.elements,vr):r instanceof Dh&&s instanceof Dh?vr(r.Re,s.Re):r instanceof Mc&&s instanceof Mc}(t.transform,e.transform)}class Q${constructor(e,n){this.version=e,this.transformResults=n}}class zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $d(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nf{}function X1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new eA(t.key,zn.none()):new ou(t.key,t.data,zn.none());{const n=t.data,r=Jt.empty();let s=new it(wt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new pi(t.key,r,new cn(s.toArray()),zn.none())}}function Y$(t,e,n){t instanceof ou?function(s,i,o){const a=s.value.clone(),l=fb(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof pi?function(s,i,o){if(!$d(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=fb(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Z1(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Zl(t,e,n,r){return t instanceof ou?function(i,o,a,l){if(!$d(i.precondition,o))return a;const u=i.value.clone(),d=pb(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof pi?function(i,o,a,l){if(!$d(i.precondition,o))return a;const u=pb(i.fieldTransforms,l,o),d=o.data;return d.setAll(Z1(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return $d(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function J$(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=K1(r.transform,s||null);i!=null&&(n===null&&(n=Jt.empty()),n.set(r.field,i))}return n||null}function hb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ca(r,s,(i,o)=>K$(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ou extends Nf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class pi extends Nf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Z1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function fb(t,e,n){const r=new Map;Se(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,q$(o,a,n[s]))}return r}function pb(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,W$(i,o,e))}return r}class eA extends Nf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X$ extends Nf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Y$(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=q1();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=X1(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&Ca(this.mutations,e.mutations,(n,r)=>hb(n,r))&&Ca(this.baseMutations,e.baseMutations,(n,r)=>hb(n,r))}}class qv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Se(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return U$}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new qv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e3=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe,_e;function n3(t){switch(t){case U.OK:return ne(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return ne(15467,{code:t})}}function tA(t){if(t===void 0)return Qr("GRPC error has no .code"),U.UNKNOWN;switch(t){case Xe.OK:return U.OK;case Xe.CANCELLED:return U.CANCELLED;case Xe.UNKNOWN:return U.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return U.INTERNAL;case Xe.UNAVAILABLE:return U.UNAVAILABLE;case Xe.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Xe.NOT_FOUND:return U.NOT_FOUND;case Xe.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Xe.ABORTED:return U.ABORTED;case Xe.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Xe.DATA_LOSS:return U.DATA_LOSS;default:return ne(39323,{code:t})}}(_e=Xe||(Xe={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=new qs([4294967295,4294967295],0);function mb(t){const e=T1().encode(t),n=new m1;return n.update(e),new Uint8Array(n.digest())}function gb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new qs([n,r],0),new qs([s,i],0)]}class Gv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Dl(`Invalid padding: ${n}`);if(r<0)throw new Dl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=qs.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(qs.fromNumber(r)));return s.compare(r3)===1&&(s=new qs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=mb(e),[r,s]=gb(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.be(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Gv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=mb(e),[r,s]=gb(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Of(ie.min(),s,new We(he),Yr(),ye())}}class au{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new au(r,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class nA{constructor(e,n){this.targetId=e,this.Ce=n}}class rA{constructor(e,n,r=bt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class yb{constructor(){this.Fe=0,this.Me=vb(),this.xe=bt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ye(),n=ye(),r=ye();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ne(38017,{changeType:i})}}),new au(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=vb()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Se(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class s3{constructor(e){this.ze=e,this.je=new Map,this.He=Yr(),this.Je=ld(),this.Ye=ld(),this.Ze=new We(he)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:ne(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Hg(i))if(r===0){const o=new ee(i.path);this.tt(n,o,Nt.newNoDocument(o,ie.min()))}else Se(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ti(r).toUint8Array()}catch(l){if(l instanceof C1)return Ia("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Gv(o,s,i)}catch(l){return Ia(l instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&Hg(a.target)){const l=new ee(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Nt.newNoDocument(l,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=ye();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new Of(e,n,this.Ze,this.He,r);return this.He=Yr(),this.Je=ld(),this.Ye=ld(),this.Ze=new We(he),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new yb,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new it(he),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new it(he),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new yb),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function ld(){return new We(ee.comparator)}function vb(){return new We(ee.comparator)}const i3={asc:"ASCENDING",desc:"DESCENDING"},o3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},a3={and:"AND",or:"OR"};class l3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gg(t,e){return t.useProto3Json||If(e)?e:{value:e}}function Lh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function c3(t,e){return Lh(t,e.toTimestamp())}function gr(t){return Se(!!t,49232),ie.fromTimestamp(function(n){const r=ei(n);return new st(r.seconds,r.nanos)}(t))}function Kv(t,e){return Kg(t,e).canonicalString()}function Kg(t,e){const n=function(s){return new Ve(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function iA(t){const e=Ve.fromString(t);return Se(uA(e),10190,{key:e.toString()}),e}function Qg(t,e){return Kv(t.databaseId,e.path)}function om(t,e){const n=iA(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(aA(n))}function oA(t,e){return Kv(t.databaseId,e)}function u3(t){const e=iA(t);return e.length===4?Ve.emptyPath():aA(e)}function Yg(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aA(t){return Se(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function wb(t,e,n){return{name:Qg(t,e),fields:n.value.mapValue.fields}}function d3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ne(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Se(d===void 0||typeof d=="string",58123),bt.fromBase64String(d||"")):(Se(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),bt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?U.UNKNOWN:tA(u.code);return new Q(d,u.message||"")}(o);n=new rA(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=om(t,r.document.name),i=gr(r.document.updateTime),o=r.document.createTime?gr(r.document.createTime):ie.min(),a=new Jt({mapValue:{fields:r.document.fields}}),l=Nt.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Bd(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=om(t,r.document),i=r.readTime?gr(r.readTime):ie.min(),o=Nt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Bd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=om(t,r.document),i=r.removedTargetIds||[];n=new Bd([],i,s,null)}else{if(!("filter"in e))return ne(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new t3(s,i),a=r.targetId;n=new nA(a,o)}}return n}function h3(t,e){let n;if(e instanceof ou)n={update:wb(t,e.key,e.value)};else if(e instanceof eA)n={delete:Qg(t,e.key)};else if(e instanceof pi)n={update:wb(t,e.key,e.data),updateMask:E3(e.fieldMask)};else{if(!(e instanceof X$))return ne(16599,{ft:e.type});n={verify:Qg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Mc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof jc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Vc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Dh)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw ne(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:c3(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ne(27497)}(t,e.precondition)),n}function f3(t,e){return t&&t.length>0?(Se(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?gr(s.updateTime):gr(i);return o.isEqual(ie.min())&&(o=gr(i)),new Q$(o,s.transformResults||[])}(n,e))):[]}function p3(t,e){return{documents:[oA(t,e.path)]}}function m3(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=oA(t,s);const i=function(u){if(u.length!==0)return cA(Yn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Ro(f.field),direction:v3(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Gg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:s}}function g3(t){let e=u3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Se(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const f=lA(h);return f instanceof Yn&&j1(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(T){return new Lc(No(T.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,If(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new Oh(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new Oh(m,f)}(n.endAt)),L$(e,s,o,i,a,"F",l,u)}function y3(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=No(n.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=No(n.unaryFilter.field);return et.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=No(n.unaryFilter.field);return et.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=No(n.unaryFilter.field);return et.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ne(61313);default:return ne(60726)}}(t):t.fieldFilter!==void 0?function(n){return et.create(No(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ne(58110);default:return ne(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yn.create(n.compositeFilter.filters.map(r=>lA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ne(1026)}}(n.compositeFilter.op))}(t):ne(30097,{filter:t})}function v3(t){return i3[t]}function w3(t){return o3[t]}function _3(t){return a3[t]}function Ro(t){return{fieldPath:t.canonicalString()}}function No(t){return wt.fromServerFormat(t.fieldPath)}function cA(t){return t instanceof et?function(n){if(n.op==="=="){if(ob(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NAN"}};if(ib(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ob(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NAN"}};if(ib(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(n.field),op:w3(n.op),value:n.value}}}(t):t instanceof Yn?function(n){const r=n.getFilters().map(s=>cA(s));return r.length===1?r[0]:{compositeFilter:{op:_3(n.op),filters:r}}}(t):ne(54877,{filter:t})}function E3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n,r,s,i=ie.min(),o=ie.min(),a=bt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e){this.wt=e}}function T3(t){const e=g3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(){this.Cn=new S3}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Zs.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Zs.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class S3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new it(Ve.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new it(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dA=41943040;class Kt{static withCacheSize(e){return new Kt(e,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kt.DEFAULT_COLLECTION_PERCENTILE=10,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kt.DEFAULT=new Kt(dA,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kt.DISABLED=new Kt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Pa(0)}static lr(){return new Pa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="LruGarbageCollector",I3=1048576;function bb([t,e],[n,r]){const s=he(t,n);return s===0?he(e,r):s}class C3{constructor(e){this.Er=e,this.buffer=new it(bb),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class A3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){K(Eb,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ga(n)?K(Eb,"Ignoring IndexedDB error during garbage collection: ",n):await qa(n)}await this.mr(3e5)})}}class k3{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Sf.le);const r=new C3(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(_b)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_b):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),ko()<=ge.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function P3(t,e){return new k3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(){this.changes=new lo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Zl(r.mutation,s,cn.empty(),st.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ye()){const s=ji();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ol();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ji();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ye()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Yr();const o=Xl(),a=function(){return Xl()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof pi)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Zl(d.mutation,u,d.mutation.getFieldMask(),st.now())):o.set(u.key,cn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new N3(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Xl();let s=new We((o,a)=>o-a),i=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||cn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||ye()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=q1();d.forEach(f=>{if(!i.has(f)){const m=X1(n.get(f),r.get(f));m!==null&&h.set(f,m),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(ji());let a=Rc,l=i;return o.next(u=>$.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,ye())).next(d=>({batchId:a,changes:W1(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let s=Ol();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ol();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,l=>{const u=function(h,f){return new Ka(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Nt.newInvalidDocument(d)))});let a=Ol();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&Zl(d.mutation,u,cn.empty(),st.now()),Pf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return $.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:gr(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:T3(s.bundledQuery),readTime:gr(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(){this.overlays=new We(ee.comparator),this.Qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ji();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=ji(),i=n.length+1,o=new ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new We((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=ji(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=ji(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return $.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new e3(n,r));let i=this.Qr.get(n);i===void 0&&(i=ye(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(){this.$r=new it(ct.Ur),this.Kr=new it(ct.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new ct(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new ct(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new ee(new Ve([])),r=new ct(n,e),s=new ct(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ee(new Ve([])),r=new ct(n,e),s=new ct(n,e+1);let i=ye();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ct(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ee.comparator(e.key,n.key)||he(e.Zr,n.Zr)}static Wr(e,n){return he(e.Zr,n.Zr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new it(ct.Ur)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Z$(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Xr=this.Xr.add(new ct(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Uv:this.nr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),s=new ct(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const a=this.ei(o.Zr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(he);return n.forEach(s=>{const i=new ct(s,0),o=new ct(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],a=>{r=r.add(a.Zr)})}),$.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ee.isDocumentKey(i)||(i=i.child(""));const o=new ct(new ee(i),0);let a=new it(he);return this.Xr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Zr)),!0)},o),$.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Se(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return $.forEach(n.mutations,s=>{const i=new ct(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new ct(n,0),s=this.Xr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.ii=e,this.docs=function(){return new We(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Nt.newInvalidDocument(n))}getEntries(e,n){let r=Yr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Nt.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Yr();const o=n.path,a=new ee(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||f$(h$(d),r)<=0||(s.has(d.key)||Pf(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ne(9500)}si(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new F3(this)}getSize(e){return $.resolve(this.size)}}class F3 extends R3{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e){this.persistence=e,this.oi=new lo(n=>zv(n),Hv),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this._i=0,this.ai=new Qv,this.targetCount=0,this.ui=Pa.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),$.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Pa(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Tr(n),$.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n){this.ci={},this.overlays={},this.li=new Sf(0),this.hi=!1,this.hi=!0,this.Pi=new M3,this.referenceDelegate=e(this),this.Ti=new U3(this),this.indexManager=new x3,this.remoteDocumentCache=function(s){return new V3(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new b3(n),this.Ei=new D3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new L3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new j3(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const s=new $3(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return $.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class $3 extends m${constructor(e){super(),this.currentSequenceNumber=e}}class Yv{constructor(e){this.persistence=e,this.Vi=new Qv,this.mi=null}static fi(e){return new Yv(e)}get gi(){if(this.mi)return this.mi;throw ne(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.gi,r=>{const s=ee.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,ie.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return $.or([()=>$.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Mh{constructor(e,n){this.persistence=e,this.yi=new lo(r=>v$(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=P3(this,n)}static fi(e,n){return new Mh(e,n)}di(){}Ai(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return $.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ie.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),$.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fd(e.data.value)),n}Dr(e,n,r){return $.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=ye(),s=ye();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Jv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return wV()?8:g$(Lt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.bs(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new B3;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(ko()<=ge.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",Po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),$.resolve()):(ko()<=ge.DEBUG&&K("QueryEngine","Query:",Po(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(ko()<=ge.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",Po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(n))):$.resolve())}ws(e,n){if(ub(n))return $.resolve(null);let r=mr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=qg(n,null,"F"),r=mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ye(...i);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.vs(n,a);return this.Cs(n,u,o,l.readTime)?this.ws(e,qg(n,null,"F")):this.Fs(e,u,n,l)}))})))}bs(e,n,r,s){return ub(n)||s.isEqual(ie.min())?$.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?$.resolve(null):(ko()<=ge.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Po(n)),this.Fs(e,o,n,d$(s,Rc)).next(a=>a))})}vs(e,n){let r=new it(z1(e));return n.forEach((s,i)=>{Pf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return ko()<=ge.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Po(n)),this.ys.getDocumentsMatchingQuery(e,n,Zs.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="LocalStore",H3=3e8;class W3{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new We(he),this.Os=new lo(i=>zv(i),Hv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new O3(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function q3(t,e,n,r){return new W3(t,e,n,r)}async function fA(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=ye();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:a}))})})}function G3(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let m=$.resolve();return f.forEach(T=>{m=m.next(()=>d.getEntry(l,T)).next(w=>{const E=u.docVersions.get(T);Se(E!==null,48541),w.version.compareTo(E)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ye();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function pA(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function K3(t,e){const n=le(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const a=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;a.push(n.Ti.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Ti.addMatchingKeys(i,d.addedDocuments,h)));let m=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(bt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(h,m),function(w,E,_){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=H3?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,m,d)&&a.push(n.Ti.updateTargetData(i,m))});let l=Yr(),u=ye();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(Q3(i,o,e.documentUpdates).next(d=>{l=d.qs,u=d.Qs})),!r.isEqual(ie.min())){const d=n.Ti.getLastRemoteSnapshotVersion(i).next(h=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return $.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.xs=s,i))}function Q3(t,e,n){let r=ye(),s=ye();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Yr();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ie.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):K(Xv,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{qs:o,Qs:s}})}function Y3(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Uv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function J3(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new Ds(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Jg(t,e,n){const r=le(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ga(o))throw o;K(Xv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function Tb(t,e,n){const r=le(t);let s=ie.min(),i=ye();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=le(l),f=h.Os.get(d);return f!==void 0?$.resolve(h.xs.get(f)):h.Ti.getTargetData(u,d)}(r,o,mr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:ie.min(),n?i:ye())).next(a=>(X3(r,j$(e),a),{documents:a,$s:i})))}function X3(t,e,n){let r=t.Ns.get(e)||ie.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class xb{constructor(){this.activeTargetIds=z$()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Z3{constructor(){this.xo=new xb,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new xb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="ConnectivityMonitor";class Ib{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){K(Sb,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){K(Sb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd=null;function Xg(){return cd===null?cd=function(){return 268435456+Math.round(2147483648*Math.random())}():cd++,"0x"+cd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="RestConnection",t6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class n6{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Rh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=Xg(),a=this.jo(e,n.toUriEncodedString());K(am,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,s,i);const{host:u}=new URL(a),d=Ba(u);return this.Jo(e,a,l,r,d).then(h=>(K(am,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Ia(am,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=t6[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At="WebChannelConnection";class s6 extends n6{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Xg();return new Promise((a,l)=>{const u=new g1;u.setWithCredentials(!0),u.listenOnce(y1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Vd.NO_ERROR:const h=u.getResponseJson();K(At,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Vd.TIMEOUT:K(At,`RPC '${e}' ${o} timed out`),l(new Q(U.DEADLINE_EXCEEDED,"Request time out"));break;case Vd.HTTP_ERROR:const f=u.getStatus();if(K(At,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const T=m==null?void 0:m.error;if(T&&T.status&&T.message){const w=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(y)>=0?y:U.UNKNOWN}(T.status);l(new Q(w,T.message))}else l(new Q(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Q(U.UNAVAILABLE,"Connection failed."));break;default:ne(9055,{h_:e,streamId:o,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{K(At,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);K(At,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}I_(e,n,r){const s=Xg(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=_1(),a=w1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");K(At,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);this.E_(h);let f=!1,m=!1;const T=new r6({Zo:E=>{m?K(At,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(f||(K(At,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),K(At,`RPC '${e}' stream ${s} sending:`,E),h.send(E))},Xo:()=>h.close()}),w=(E,_,y)=>{E.listen(_,b=>{try{y(b)}catch(C){setTimeout(()=>{throw C},0)}})};return w(h,Nl.EventType.OPEN,()=>{m||(K(At,`RPC '${e}' stream ${s} transport opened.`),T.__())}),w(h,Nl.EventType.CLOSE,()=>{m||(m=!0,K(At,`RPC '${e}' stream ${s} transport closed`),T.u_(),this.d_(h))}),w(h,Nl.EventType.ERROR,E=>{m||(m=!0,Ia(At,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),T.u_(new Q(U.UNAVAILABLE,"The operation could not be completed")))}),w(h,Nl.EventType.MESSAGE,E=>{var _;if(!m){const y=E.data[0];Se(!!y,16349);const b=y,C=(b==null?void 0:b.error)||((_=b[0])===null||_===void 0?void 0:_.error);if(C){K(At,`RPC '${e}' stream ${s} received error:`,C);const D=C.status;let L=function(k){const P=Xe[k];if(P!==void 0)return tA(P)}(D),I=C.message;L===void 0&&(L=U.INTERNAL,I="Unknown error status: "+D+" with message "+C.message),m=!0,T.u_(new Q(L,I)),h.close()}else K(At,`RPC '${e}' stream ${s} received:`,y),T.c_(y)}}),w(a,v1.STAT_EVENT,E=>{E.stat===Fg.PROXY?K(At,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===Fg.NOPROXY&&K(At,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.a_()},0),T}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function lm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t){return new l3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&K("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="PersistentStream";class gA{constructor(e,n,r,s,i,o,a,l){this.xi=e,this.S_=r,this.D_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new mA(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Qr(n.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new Q(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return K(Cb,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(K(Cb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class i6 extends gA{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=d3(this.serializer,e),r=function(i){if(!("targetChange"in i))return ie.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?gr(o.readTime):ie.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Yg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Hg(l)?{documents:p3(i,l)}:{query:m3(i,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=sA(i,o.resumeToken);const u=Gg(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ie.min())>0){a.readTime=Lh(i,o.snapshotVersion.toTimestamp());const u=Gg(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=y3(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Yg(this.serializer),n.removeTarget=e,this.Q_(n)}}class o6 extends gA{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Se(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Se(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=f3(e.writeResults,e.commitTime),r=gr(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Yg(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>h3(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{}class l6 extends a6{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,Kg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(U.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,Kg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(U.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class c6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Qr(n),this.ua=!1):K("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="RemoteStore";class u6{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(o=>{r.enqueueAndForget(async()=>{co(this)&&(K(ro,"Restarting streams for network reachability change."),await async function(l){const u=le(l);u.da.add(4),await lu(u),u.Va.set("Unknown"),u.da.delete(4),await Lf(u)}(this))})}),this.Va=new c6(r,s)}}async function Lf(t){if(co(t))for(const e of t.Aa)await e(!0)}async function lu(t){for(const e of t.Aa)await e(!1)}function yA(t,e){const n=le(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),n0(n)?t0(n):Qa(n).N_()&&e0(n,e))}function Zv(t,e){const n=le(t),r=Qa(n);n.Ea.delete(e),r.N_()&&vA(n,e),n.Ea.size===0&&(r.N_()?r.k_():co(n)&&n.Va.set("Unknown"))}function e0(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qa(t).Z_(e)}function vA(t,e){t.ma.Ke(e),Qa(t).X_(e)}function t0(t){t.ma=new s3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Qa(t).start(),t.Va.ca()}function n0(t){return co(t)&&!Qa(t).O_()&&t.Ea.size>0}function co(t){return le(t).da.size===0}function wA(t){t.ma=void 0}async function d6(t){t.Va.set("Online")}async function h6(t){t.Ea.forEach((e,n)=>{e0(t,e)})}async function f6(t,e){wA(t),n0(t)?(t.Va.Pa(e),t0(t)):t.Va.set("Unknown")}async function p6(t,e,n){if(t.Va.set("Online"),e instanceof rA&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ea.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ea.delete(a),s.ma.removeTarget(a))}(t,e)}catch(r){K(ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jh(t,r)}else if(e instanceof Bd?t.ma.Xe(e):e instanceof nA?t.ma.ot(e):t.ma.nt(e),!n.isEqual(ie.min()))try{const r=await pA(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.ma.It(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ea.get(u);d&&i.Ea.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.Ea.get(l);if(!d)return;i.Ea.set(l,d.withResumeToken(bt.EMPTY_BYTE_STRING,d.snapshotVersion)),vA(i,l);const h=new Ds(d.target,l,u,d.sequenceNumber);e0(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K(ro,"Failed to raise snapshot:",r),await jh(t,r)}}async function jh(t,e,n){if(!Ga(e))throw e;t.da.add(1),await lu(t),t.Va.set("Offline"),n||(n=()=>pA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K(ro,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Lf(t)})}function _A(t,e){return e().catch(n=>jh(t,n,e))}async function Mf(t){const e=le(t),n=ri(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Uv;for(;m6(e);)try{const s=await Y3(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,g6(e,s)}catch(s){await jh(e,s)}EA(e)&&bA(e)}function m6(t){return co(t)&&t.Ia.length<10}function g6(t,e){t.Ia.push(e);const n=ri(t);n.N_()&&n.ea&&n.ta(e.mutations)}function EA(t){return co(t)&&!ri(t).O_()&&t.Ia.length>0}function bA(t){ri(t).start()}async function y6(t){ri(t).ia()}async function v6(t){const e=ri(t);for(const n of t.Ia)e.ta(n.mutations)}async function w6(t,e,n){const r=t.Ia.shift(),s=qv.from(r,e,n);await _A(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Mf(t)}async function _6(t,e){e&&ri(t).ea&&await async function(r,s){if(function(o){return n3(o)&&o!==U.ABORTED}(s.code)){const i=r.Ia.shift();ri(r).L_(),await _A(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Mf(r)}}(t,e),EA(t)&&bA(t)}async function Ab(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),K(ro,"RemoteStore received new credentials");const r=co(n);n.da.add(3),await lu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Lf(n)}async function E6(t,e){const n=le(t);e?(n.da.delete(2),await Lf(n)):e||(n.da.add(2),await lu(n),n.Va.set("Unknown"))}function Qa(t){return t.fa||(t.fa=function(n,r,s){const i=le(n);return i.oa(),new i6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:d6.bind(null,t),n_:h6.bind(null,t),i_:f6.bind(null,t),Y_:p6.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),n0(t)?t0(t):t.Va.set("Unknown")):(await t.fa.stop(),wA(t))})),t.fa}function ri(t){return t.ga||(t.ga=function(n,r,s){const i=le(n);return i.oa(),new o6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:y6.bind(null,t),i_:_6.bind(null,t),na:v6.bind(null,t),ra:w6.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Mf(t)):(await t.ga.stop(),t.Ia.length>0&&(K(ro,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new r0(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function s0(t,e){if(Qr("AsyncQueue",`${e}: ${t}`),Ga(t))return new Q(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{static emptySet(e){return new sa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Ol(),this.sortedSet=new We(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new sa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(){this.pa=new We(ee.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):ne(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ra{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ra(e,n,sa.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class T6{constructor(){this.queries=Pb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=le(n),i=s.queries;s.queries=Pb(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Q(U.ABORTED,"Firestore shutting down"))}}function Pb(){return new lo(t=>B1(t),kf)}async function i0(t,e){const n=le(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Da()&&e.va()&&(r=2):(i=new b6,r=e.va()?0:1);try{switch(r){case 0:i.ba=await n.onListen(s,!0);break;case 1:i.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=s0(o,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.Fa(n.onlineState),i.ba&&e.Ma(i.ba)&&a0(n)}async function o0(t,e){const n=le(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.va()?0:1:!i.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function x6(t,e){const n=le(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Ma(s)&&(r=!0);o.ba=s}}r&&a0(n)}function S6(t,e,n){const r=le(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function a0(t){t.Ca.forEach(e=>{e.next()})}var Zg,Rb;(Rb=Zg||(Zg={})).xa="default",Rb.Cache="cache";class l0{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ra(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Zg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.key=e}}class xA{constructor(e){this.key=e}}class I6{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ye(),this.mutatedKeys=ye(),this.Za=z1(e),this.Xa=new sa(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new kb,s=n?n.Xa:this.Xa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),m=Pf(this.query,h)?h:null,T=!!f&&this.mutatedKeys.has(f.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;f&&m?f.data.isEqual(m.data)?T!==w&&(r.track({type:3,doc:m}),E=!0):this.ru(f,m)||(r.track({type:2,doc:m}),E=!0,(l&&this.Za(m,l)>0||u&&this.Za(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),E=!0):f&&!m&&(r.track({type:1,doc:f}),E=!0,(l||u)&&(a=!0)),E&&(m?(o=o.add(m),i=w?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Xa:o,nu:r,Cs:a,mutatedKeys:i}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((d,h)=>function(m,T){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne(20277,{Vt:E})}};return w(m)-w(T)}(d.type,h.type)||this.Za(d.doc,h.doc)),this.iu(r),s=s!=null&&s;const a=n&&!s?this.su():[],l=this.Ya.size===0&&this.current&&!s?1:0,u=l!==this.Ja;return this.Ja=l,o.length!==0||u?{snapshot:new Ra(this.query,e.Xa,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new kb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ye(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new xA(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new TA(r))}),n}au(e){this.Ha=e.$s,this.Ya=ye();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Ra.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const c0="SyncEngine";class C6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class A6{constructor(e){this.key=e,this.cu=!1}}class k6{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new lo(a=>B1(a),kf),this.Pu=new Map,this.Tu=new Set,this.Iu=new We(ee.comparator),this.Eu=new Map,this.du=new Qv,this.Au={},this.Ru=new Map,this.Vu=Pa.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function P6(t,e,n=!0){const r=PA(t);let s;const i=r.hu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.uu()):s=await SA(r,e,n,!0),s}async function R6(t,e){const n=PA(t);await SA(n,e,!0,!1)}async function SA(t,e,n,r){const s=await J3(t.localStore,mr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await N6(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&yA(t.remoteStore,s),a}async function N6(t,e,n,r,s){t.fu=(h,f,m)=>async function(w,E,_,y){let b=E.view.tu(_);b.Cs&&(b=await Tb(w.localStore,E.query,!1).then(({documents:I})=>E.view.tu(I,b)));const C=y&&y.targetChanges.get(E.targetId),D=y&&y.targetMismatches.get(E.targetId)!=null,L=E.view.applyChanges(b,w.isPrimaryClient,C,D);return Ob(w,E.targetId,L.ou),L.snapshot}(t,h,f,m);const i=await Tb(t.localStore,e,!0),o=new I6(e,i.$s),a=o.tu(i.documents),l=au.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);Ob(t,n,u.ou);const d=new C6(e,n,o);return t.hu.set(e,d),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function O6(t,e,n){const r=le(t),s=r.hu.get(e),i=r.Pu.get(s.targetId);if(i.length>1)return r.Pu.set(s.targetId,i.filter(o=>!kf(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Jg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Zv(r.remoteStore,s.targetId),ey(r,s.targetId)}).catch(qa)):(ey(r,s.targetId),await Jg(r.localStore,s.targetId,!0))}async function D6(t,e){const n=le(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zv(n.remoteStore,r.targetId))}async function L6(t,e,n){const r=B6(t);try{const s=await function(o,a){const l=le(o),u=st.now(),d=a.reduce((m,T)=>m.add(T.key),ye());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let T=Yr(),w=ye();return l.Bs.getEntries(m,d).next(E=>{T=E,T.forEach((_,y)=>{y.isValidDocument()||(w=w.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,T)).next(E=>{h=E;const _=[];for(const y of a){const b=J$(y,h.get(y.key).overlayedDocument);b!=null&&_.push(new pi(y.key,b,D1(b.value.mapValue),zn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,_,a)}).next(E=>{f=E;const _=E.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(m,E.batchId,_)})}).then(()=>({batchId:f.batchId,changes:W1(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Au[o.currentUser.toKey()];u||(u=new We(he)),u=u.insert(a,l),o.Au[o.currentUser.toKey()]=u}(r,s.batchId,n),await cu(r,s.changes),await Mf(r.remoteStore)}catch(s){const i=s0(s,"Failed to persist write");n.reject(i)}}async function IA(t,e){const n=le(t);try{const r=await K3(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(Se(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.cu=!0:s.modifiedDocuments.size>0?Se(o.cu,14607):s.removedDocuments.size>0&&(Se(o.cu,42227),o.cu=!1))}),await cu(n,r,e)}catch(r){await qa(r)}}function Nb(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((i,o)=>{const a=o.view.Fa(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=le(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.Sa)f.Fa(a)&&(u=!0)}),u&&a0(l)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function M6(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new We(ee.comparator);o=o.insert(i,Nt.newNoDocument(i,ie.min()));const a=ye().add(i),l=new Of(ie.min(),new Map,new We(he),o,a);await IA(r,l),r.Iu=r.Iu.remove(i),r.Eu.delete(e),u0(r)}else await Jg(r.localStore,e,!1).then(()=>ey(r,e,n)).catch(qa)}async function j6(t,e){const n=le(t),r=e.batch.batchId;try{const s=await G3(n.localStore,e);AA(n,r,null),CA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cu(n,s)}catch(s){await qa(s)}}async function V6(t,e,n){const r=le(t);try{const s=await function(o,a){const l=le(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Se(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);AA(r,e,n),CA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await cu(r,s)}catch(s){await qa(s)}}function CA(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function AA(t,e,n){const r=le(t);let s=r.Au[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function ey(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||kA(t,r)})}function kA(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(Zv(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),u0(t))}function Ob(t,e,n){for(const r of n)r instanceof TA?(t.du.addReference(r.key,e),F6(t,r)):r instanceof xA?(K(c0,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||kA(t,r.key)):ne(19791,{pu:r})}function F6(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(K(c0,"New document in limbo: "+n),t.Tu.add(r),u0(t))}function u0(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new ee(Ve.fromString(e)),r=t.Vu.next();t.Eu.set(r,new A6(n)),t.Iu=t.Iu.insert(n,r),yA(t.remoteStore,new Ds(mr(Af(n.path)),r,"TargetPurposeLimboResolution",Sf.le))}}async function cu(t,e,n){const r=le(t),s=[],i=[],o=[];r.hu.isEmpty()||(r.hu.forEach((a,l)=>{o.push(r.fu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=Jv.Rs(l.targetId,u);i.push(h)}}))}),await Promise.all(o),r.lu.Y_(s),await async function(l,u){const d=le(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(u,f=>$.forEach(f.ds,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>$.forEach(f.As,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!Ga(h))throw h;K(Xv,"Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.xs.get(f),T=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(T);d.xs=d.xs.insert(f,w)}}}(r.localStore,i))}async function U6(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){K(c0,"User change. New user:",e.toKey());const r=await fA(n.localStore,e);n.currentUser=e,function(i,o){i.Ru.forEach(a=>{a.forEach(l=>{l.reject(new Q(U.CANCELLED,o))})}),i.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cu(n,r.ks)}}function $6(t,e){const n=le(t),r=n.Eu.get(e);if(r&&r.cu)return ye().add(r.key);{let s=ye();const i=n.Pu.get(e);if(!i)return s;for(const o of i){const a=n.hu.get(o);s=s.unionWith(a.view.eu)}return s}}function PA(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M6.bind(null,e),e.lu.Y_=x6.bind(null,e.eventManager),e.lu.gu=S6.bind(null,e.eventManager),e}function B6(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V6.bind(null,e),e}class Vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Df(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return q3(this.persistence,new z3,e.initialUser,this.serializer)}Su(e){return new hA(Yv.fi,this.serializer)}bu(e){return new Z3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vh.provider={build:()=>new Vh};class z6 extends Vh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Se(this.persistence.referenceDelegate instanceof Mh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new A3(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Kt.withCacheSize(this.cacheSizeBytes):Kt.DEFAULT;return new hA(r=>Mh.fi(r,n),this.serializer)}}class ty{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Nb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=U6.bind(null,this.syncEngine),await E6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new T6}()}createDatastore(e){const n=Df(e.databaseInfo.databaseId),r=function(i){return new s6(i)}(e.databaseInfo);return function(i,o,a,l){return new l6(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new u6(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Nb(this.syncEngine,n,0),function(){return Ib.C()?new Ib:new e6}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const h=new k6(s,i,o,a,l,u);return d&&(h.mu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=le(s);K(ro,"RemoteStore shutting down."),i.da.add(5),await lu(i),i.Ra.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ty.provider={build:()=>new ty};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si="FirestoreClient";class H6{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Pt.UNAUTHENTICATED,this.clientId=x1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{K(si,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K(si,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=s0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cm(t,e){t.asyncQueue.verifyOperationInProgress(),K(si,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await fA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Db(t,e){t.asyncQueue.verifyOperationInProgress();const n=await W6(t);K(si,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ab(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Ab(e.remoteStore,s)),t._onlineComponents=e}async function W6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K(si,"Using user provided OfflineComponentProvider");try{await cm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ia("Error using user provided cache. Falling back to memory cache: "+n),await cm(t,new Vh)}}else K(si,"Using default OfflineComponentProvider"),await cm(t,new z6(void 0));return t._offlineComponents}async function RA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K(si,"Using user provided OnlineComponentProvider"),await Db(t,t._uninitializedComponentsProvider._online)):(K(si,"Using default OnlineComponentProvider"),await Db(t,new ty))),t._onlineComponents}function q6(t){return RA(t).then(e=>e.syncEngine)}async function Fh(t){const e=await RA(t),n=e.eventManager;return n.onListen=P6.bind(null,e.syncEngine),n.onUnlisten=O6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=R6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=D6.bind(null,e.syncEngine),n}function G6(t,e,n={}){const r=new Fr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new d0({next:f=>{d.xu(),o.enqueueAndForget(()=>o0(i,h));const m=f.docs.has(a);!m&&f.fromCache?u.reject(new Q(U.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?u.reject(new Q(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new l0(Af(a.path),d,{includeMetadataChanges:!0,Qa:!0});return i0(i,h)}(await Fh(t),t.asyncQueue,e,n,r)),r.promise}function K6(t,e,n={}){const r=new Fr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new d0({next:f=>{d.xu(),o.enqueueAndForget(()=>o0(i,h)),f.fromCache&&l.source==="server"?u.reject(new Q(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new l0(a,d,{includeMetadataChanges:!0,Qa:!0});return i0(i,h)}(await Fh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(t,e,n){if(!n)throw new Q(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Q6(t,e,n,r){if(e===!0&&r===!0)throw new Q(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Mb(t){if(!ee.isDocumentKey(t))throw new Q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jb(t){if(ee.isDocumentKey(t))throw new Q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne(12329,{type:typeof t})}function hn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jf(t);throw new Q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="firestore.googleapis.com",Vb=!0;class Fb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DA,this.ssl=Vb}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Vb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<I3)throw new Q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new n$;switch(r.type){case"firstParty":return new o$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Lb.get(n);r&&(K("ComponentProvider","Removing Datastore"),Lb.delete(n),r.terminate())}(this),Promise.resolve()}}function Y6(t,e,n,r={}){var s;t=hn(t,Vf);const i=Ba(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(CC(`https://${l}`),AC("Firestore",!0)),o.host!==DA&&o.host!==l&&Ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!Xi(u,a)&&(t._setSettings(u),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Pt.MOCK_USER;else{d=uV(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Pt(f)}t._authCredentials=new r$(new b1(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mi(this.firestore,e,this._query)}}class Ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}}class Gs extends mi{constructor(e,n,r){super(e,n,Af(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new ee(e))}withConverter(e){return new Gs(this.firestore,e,this._path)}}function Fc(t,e,...n){if(t=ot(t),OA("collection","path",e),t instanceof Vf){const r=Ve.fromString(e,...n);return jb(r),new Gs(t,null,r)}{if(!(t instanceof Ot||t instanceof Gs))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return jb(r),new Gs(t.firestore,null,r)}}function ec(t,e,...n){if(t=ot(t),arguments.length===1&&(e=x1.newId()),OA("doc","path",e),t instanceof Vf){const r=Ve.fromString(e,...n);return Mb(r),new Ot(t,null,new ee(r))}{if(!(t instanceof Ot||t instanceof Gs))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return Mb(r),new Ot(t.firestore,t instanceof Gs?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="AsyncQueue";class $b{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new mA(this,"async_queue_retry"),this.rc=()=>{const r=lm();r&&K(Ub,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=lm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Fr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Ga(e))throw e;K(Ub,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Qr("INTERNAL UNHANDLED ERROR: ",Bb(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=r0.createAndSchedule(this,e,n,r,i=>this.uc(i));return this.Zu.push(s),s}oc(){this.Xu&&ne(47125,{cc:Bb(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function Bb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class ii extends Vf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new $b,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $b(e),this._firestoreClient=void 0,await e}}}function J6(t,e){const n=typeof t=="object"?t:NC(),r=typeof t=="string"?t:Rh,s=Pv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=lV("firestore");i&&Y6(s,...i)}return s}function Ff(t){if(t._terminated)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||X6(t),t._firestoreClient}function X6(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,d){return new E$(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,NA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new H6(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Na(bt.fromBase64String(e))}catch(n){throw new Q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Na(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=/^__.*__$/;class e5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pi(e,this.data,this.fieldMask,n,this.fieldTransforms):new ou(e,this.data,n,this.fieldTransforms)}}class LA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function MA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne(40011,{Ic:t})}}class p0{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new p0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Uh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(MA(this.Ic)&&Z6.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class t5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Df(e)}bc(e,n,r,s=!1){return new p0({Ic:e,methodName:n,wc:r,path:wt.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bf(t){const e=t._freezeSettings(),n=Df(t._databaseId);return new t5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jA(t,e,n,r,s,i={}){const o=t.bc(i.merge||i.mergeFields?2:0,e,n,s);g0("Data must be an object, but it was:",o,r);const a=VA(r,o);let l,u;if(i.merge)l=new cn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=ny(e,h,n);if(!o.contains(f))throw new Q(U.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);UA(d,f)||d.push(f)}l=new cn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new e5(new Jt(a),l,u)}class zf extends $f{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zf}}class m0 extends $f{_toFieldTransform(e){return new G$(e.path,new Mc)}isEqual(e){return e instanceof m0}}function n5(t,e,n,r){const s=t.bc(1,e,n);g0("Data must be an object, but it was:",s,r);const i=[],o=Jt.empty();fi(r,(l,u)=>{const d=y0(e,l,n);u=ot(u);const h=s.mc(d);if(u instanceof zf)i.push(d);else{const f=uu(u,h);f!=null&&(i.push(d),o.set(d,f))}});const a=new cn(i);return new LA(o,a,s.fieldTransforms)}function r5(t,e,n,r,s,i){const o=t.bc(1,e,n),a=[ny(e,r,n)],l=[s];if(i.length%2!=0)throw new Q(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(ny(e,i[f])),l.push(i[f+1]);const u=[],d=Jt.empty();for(let f=a.length-1;f>=0;--f)if(!UA(u,a[f])){const m=a[f];let T=l[f];T=ot(T);const w=o.mc(m);if(T instanceof zf)u.push(m);else{const E=uu(T,w);E!=null&&(u.push(m),d.set(m,E))}}const h=new cn(u);return new LA(d,h,o.fieldTransforms)}function s5(t,e,n,r=!1){return uu(n,t.bc(r?4:3,e))}function uu(t,e){if(FA(t=ot(t)))return g0("Unsupported field value:",e,t),VA(t,e);if(t instanceof $f)return function(r,s){if(!MA(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=uu(a,s.fc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return H$(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=st.fromDate(r);return{timestampValue:Lh(s.serializer,i)}}if(r instanceof st){const i=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lh(s.serializer,i)}}if(r instanceof h0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Na)return{bytesValue:sA(s.serializer,r._byteString)};if(r instanceof Ot){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Kv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof f0)return function(o,a){return{mapValue:{fields:{[N1]:{stringValue:O1},[Nh]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.gc("VectorValues must only contain numeric values.");return Wv(a.serializer,u)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${jf(r)}`)}(t,e)}function VA(t,e){const n={};return I1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fi(t,(r,s)=>{const i=uu(s,e.Ac(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function FA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof h0||t instanceof Na||t instanceof Ot||t instanceof $f||t instanceof f0)}function g0(t,e,n){if(!FA(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=jf(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function ny(t,e,n){if((e=ot(e))instanceof Uf)return e._internalPath;if(typeof e=="string")return y0(t,e);throw Uh("Field path arguments must be of type string or ",t,!1,void 0,n)}const i5=new RegExp("[~\\*/\\[\\]]");function y0(t,e,n){if(e.search(i5)>=0)throw Uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Uf(...e.split("."))._internalPath}catch{throw Uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Uh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Q(U.INVALID_ARGUMENT,a+t+l)}function UA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new o5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class o5 extends $A{data(){return super.data()}}function Hf(t,e){return typeof e=="string"?y0(t,e):e instanceof Uf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class v0{}class zA extends v0{}function HA(t,e,...n){let r=[];e instanceof v0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof w0).length,a=i.filter(l=>l instanceof Wf).length;if(o>1||o>0&&a>0)throw new Q(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Wf extends zA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Wf(e,n,r)}_apply(e){const n=this._parse(e);return qA(e._query,n),new mi(e.firestore,e.converter,Wg(e._query,n))}_parse(e){const n=Bf(e.firestore);return function(i,o,a,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Q(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Wb(h,d);const T=[];for(const w of h)T.push(Hb(l,i,w));f={arrayValue:{values:T}}}else f=Hb(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Wb(h,d),f=s5(a,o,h,d==="in"||d==="not-in");return et.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function a5(t,e,n){const r=e,s=Hf("where",t);return Wf._create(s,r,n)}class w0 extends v0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new w0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)qA(o,l),o=Wg(o,l)}(e._query,n),new mi(e.firestore,e.converter,Wg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _0 extends zA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new _0(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Q(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Q(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lc(i,o)}(e._query,this._field,this._direction);return new mi(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ka(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function WA(t,e="asc"){const n=e,r=Hf("orderBy",t);return _0._create(r,n)}function Hb(t,e,n){if(typeof(n=ot(n))=="string"){if(n==="")throw new Q(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$1(e)&&n.indexOf("/")!==-1)throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ve.fromString(n));if(!ee.isDocumentKey(r))throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sb(t,new ee(r))}if(n instanceof Ot)return sb(t,n._key);throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jf(n)}.`)}function Wb(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qA(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class l5{convertValue(e,n="none"){switch(ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Nh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Ye(o.doubleValue));return new f0(i)}convertGeoPoint(e){return new h0(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Nc(e));default:return null}}convertTimestamp(e){const n=ei(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);Se(uA(r),9688,{name:e});const s=new Oc(r.get(1),r.get(3)),i=new ee(r.popFirst(5));return s.isEqual(n)||Qr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KA extends $A{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class zd extends KA{data(e={}){return super.data(e)}}class QA{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ll(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zd(this._firestore,this._userDataWriter,r.key,r,new Ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new zd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ll(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new zd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ll(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:c5(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function c5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t){t=hn(t,Ot);const e=hn(t.firestore,ii);return G6(Ff(e),t._key).then(n=>YA(e,t,n))}class b0 extends l5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Na(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function u5(t){t=hn(t,mi);const e=hn(t.firestore,ii),n=Ff(e),r=new b0(e);return BA(t._query),K6(n,t._query).then(s=>new QA(e,r,t,s))}function d5(t,e,n){t=hn(t,Ot);const r=hn(t.firestore,ii),s=GA(t.converter,e);return x0(r,[jA(Bf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,zn.none())])}function h5(t,e,n,...r){t=hn(t,Ot);const s=hn(t.firestore,ii),i=Bf(s);let o;return o=typeof(e=ot(e))=="string"||e instanceof Uf?r5(i,"updateDoc",t._key,e,n,r):n5(i,"updateDoc",t._key,e),x0(s,[o.toMutation(t._key,zn.exists(!0))])}function T0(t,e){const n=hn(t.firestore,ii),r=ec(t),s=GA(t.converter,e);return x0(n,[jA(Bf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,zn.exists(!1))]).then(()=>r)}function f5(t,...e){var n,r,s;t=ot(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||zb(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(zb(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,u,d;if(t instanceof Ot)u=hn(t.firestore,ii),d=Af(t._key.path),l={next:h=>{e[o]&&e[o](YA(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=hn(t,mi);u=hn(h.firestore,ii),d=h._query;const f=new b0(u);l={next:m=>{e[o]&&e[o](new QA(u,f,h,m))},error:e[o+1],complete:e[o+2]},BA(t._query)}return function(f,m,T,w){const E=new d0(w),_=new l0(m,E,T);return f.asyncQueue.enqueueAndForget(async()=>i0(await Fh(f),_)),()=>{E.xu(),f.asyncQueue.enqueueAndForget(async()=>o0(await Fh(f),_))}}(Ff(u),d,a,l)}function x0(t,e){return function(r,s){const i=new Fr;return r.asyncQueue.enqueueAndForget(async()=>L6(await q6(r),s,i)),i.promise}(Ff(t),e)}function YA(t,e,n){const r=n.docs.get(e._key),s=new b0(t);return new KA(t,s,e._key,r,new Ll(n.hasPendingWrites,n.fromCache),e.converter)}function p5(){return new m0("serverTimestamp")}(function(e,n=!0){(function(s){Wa=s})(za),Sa(new Zi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ii(new s$(r.getProvider("auth-internal")),new a$(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oc(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ws(qE,GE,e),Ws(qE,GE,"esm2017")})();var m5="firebase",g5="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ws(m5,g5,"app");const y5={apiKey:"AIzaSyCq0lRANngAqAYp3FK3Eg9PLoc3NW1nP1U",authDomain:"connectpeople-f6f11.firebaseapp.com",projectId:"connectpeople-f6f11",storageBucket:"connectpeople-f6f11.appspot.com",messagingSenderId:"179587634729",appId:"1:179587634729:web:b7aca9725941e00105ae38",measurementId:"G-2ZERPVN5VM"},JA=RC(y5),xl=e$(JA),Mr=J6(JA),XA=x.createContext(void 0),du=()=>{const t=x.useContext(XA);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},ZA=({children:t})=>{const[e,n]=x.useState(null),[r,s]=x.useState(null),[i,o]=x.useState(!0),a=async E=>{try{const _=ec(Mr,"profiles",E),y=await E0(_);return y.exists()?y.data():null}catch(_){return console.error("Error fetching profile:",_),null}},l=async(E,_,y)=>{try{const b={id:E,username:_,interests:y,communities:[],joined_at:new Date().toISOString()};return await d5(ec(Mr,"profiles",E),b),b}catch(b){return console.error("Error creating profile:",b),null}},u=async(E,_)=>{if(e)try{const y=Fc(Mr,"user_activities");await T0(y,{user_id:e.uid,action:E,details:_||null,timestamp:new Date})}catch(y){console.error("Error logging activity:",y)}};x.useEffect(()=>{const E=BF(xl,async _=>{var y;if(n(_),_){let b=await a(_.uid);if(!b){const C=((y=_.email)==null?void 0:y.split("@")[0])||"User";b=await l(_.uid,C,[])}s(b),await u("login",{email:_.email}),o(!1)}else s(null),o(!1)});return()=>E()},[]);const w={user:e,profile:r,signUp:async(E,_,y,b)=>{try{const D=(await VF(xl,E,_)).user;if(D){const L=await l(D.uid,y,b);s(L),await u("signup",{email:E,username:y,interests:b})}return{error:null}}catch(C){return{error:C}}},signIn:async(E,_)=>{try{return await FF(xl,E,_),{error:null}}catch(y){return{error:y}}},signOut:async()=>{try{return e&&await u("logout",{email:e.email}),await zF(xl),s(null),{error:null}}catch(E){return{error:E}}},resetPassword:async E=>{try{return await jF(xl,E),{error:null}}catch(_){return{error:_}}},updateProfile:async E=>{if(!e)return{error:{message:"No user logged in"}};try{const _=ec(Mr,"profiles",e.uid);await h5(_,E);const y=await a(e.uid);return s(y),await u("profile_update",{updates:E}),{error:null}}catch(_){return{error:_}}},loading:i,logActivity:u};return g.jsx(XA.Provider,{value:w,children:t})},v5=uf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),dt=x.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?MO:"button";return g.jsx(o,{className:ke(v5({variant:e,size:n,className:t})),ref:i,...s})});dt.displayName="Button";const Hn=x.forwardRef(({className:t,type:e,...n},r)=>g.jsx("input",{type:e,className:ke("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Hn.displayName="Input";var w5="Label",ek=x.forwardRef((t,e)=>g.jsx(Ie.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));ek.displayName=w5;var tk=ek;const _5=uf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),an=x.forwardRef(({className:t,...e},n)=>g.jsx(tk,{ref:n,className:ke(_5(),t),...e}));an.displayName=tk.displayName;var um="focusScope.autoFocusOnMount",dm="focusScope.autoFocusOnUnmount",qb={bubbles:!1,cancelable:!0},E5="FocusScope",nk=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=x.useState(null),u=qn(s),d=qn(i),h=x.useRef(null),f=ft(e,w=>l(w)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let w=function(b){if(m.paused||!a)return;const C=b.target;a.contains(C)?h.current=C:ps(h.current,{select:!0})},E=function(b){if(m.paused||!a)return;const C=b.relatedTarget;C!==null&&(a.contains(C)||ps(h.current,{select:!0}))},_=function(b){if(document.activeElement===document.body)for(const D of b)D.removedNodes.length>0&&ps(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",E);const y=new MutationObserver(_);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",E),y.disconnect()}}},[r,a,m.paused]),x.useEffect(()=>{if(a){Kb.add(m);const w=document.activeElement;if(!a.contains(w)){const _=new CustomEvent(um,qb);a.addEventListener(um,u),a.dispatchEvent(_),_.defaultPrevented||(b5(C5(rk(a)),{select:!0}),document.activeElement===w&&ps(a))}return()=>{a.removeEventListener(um,u),setTimeout(()=>{const _=new CustomEvent(dm,qb);a.addEventListener(dm,d),a.dispatchEvent(_),_.defaultPrevented||ps(w??document.body,{select:!0}),a.removeEventListener(dm,d),Kb.remove(m)},0)}}},[a,u,d,m]);const T=x.useCallback(w=>{if(!n&&!r||m.paused)return;const E=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,_=document.activeElement;if(E&&_){const y=w.currentTarget,[b,C]=T5(y);b&&C?!w.shiftKey&&_===C?(w.preventDefault(),n&&ps(b,{select:!0})):w.shiftKey&&_===b&&(w.preventDefault(),n&&ps(C,{select:!0})):_===y&&w.preventDefault()}},[n,r,m.paused]);return g.jsx(Ie.div,{tabIndex:-1,...o,ref:f,onKeyDown:T})});nk.displayName=E5;function b5(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ps(r,{select:e}),document.activeElement!==n)return}function T5(t){const e=rk(t),n=Gb(e,t),r=Gb(e.reverse(),t);return[n,r]}function rk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Gb(t,e){for(const n of t)if(!x5(n,{upTo:e}))return n}function x5(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function S5(t){return t instanceof HTMLInputElement&&"select"in t}function ps(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&S5(t)&&e&&t.select()}}var Kb=I5();function I5(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Qb(t,e),t.unshift(e)},remove(e){var n;t=Qb(t,e),(n=t[0])==null||n.resume()}}}function Qb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function C5(t){return t.filter(e=>e.tagName!=="A")}var hm=0;function A5(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Yb()),document.body.insertAdjacentElement("beforeend",t[1]??Yb()),hm++,()=>{hm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),hm--}},[])}function Yb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Hd="right-scroll-bar-position",Wd="width-before-scroll-bar",k5="with-scroll-bars-hidden",P5="--removed-body-scroll-bar-size";function fm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function R5(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var N5=typeof window<"u"?x.useLayoutEffect:x.useEffect,Jb=new WeakMap;function O5(t,e){var n=R5(null,function(r){return t.forEach(function(s){return fm(s,r)})});return N5(function(){var r=Jb.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||fm(a,null)}),i.forEach(function(a){s.has(a)||fm(a,o)})}Jb.set(n,t)},[t]),n}function D5(t){return t}function L5(t,e){e===void 0&&(e=D5);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function M5(t){t===void 0&&(t={});var e=L5(null);return e.options=lr({async:!0,ssr:!1},t),e}var sk=function(t){var e=t.sideCar,n=tu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,lr({},n))};sk.isSideCarExport=!0;function j5(t,e){return t.useMedium(e),sk}var ik=M5(),pm=function(){},qf=x.forwardRef(function(t,e){var n=x.useRef(null),r=x.useState({onScrollCapture:pm,onWheelCapture:pm,onTouchMoveCapture:pm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,m=t.noRelative,T=t.noIsolation,w=t.inert,E=t.allowPinchZoom,_=t.as,y=_===void 0?"div":_,b=t.gapMode,C=tu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=f,L=O5([n,e]),I=lr(lr({},C),s);return x.createElement(x.Fragment,null,d&&x.createElement(D,{sideCar:ik,removeScrollBar:u,shards:h,noRelative:m,noIsolation:T,inert:w,setCallbacks:i,allowPinchZoom:!!E,lockRef:n,gapMode:b}),o?x.cloneElement(x.Children.only(a),lr(lr({},I),{ref:L})):x.createElement(y,lr({},I,{className:l,ref:L}),a))});qf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qf.classNames={fullWidth:Wd,zeroRight:Hd};var V5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function F5(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=V5();return e&&t.setAttribute("nonce",e),t}function U5(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function $5(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var B5=function(){var t=0,e=null;return{add:function(n){t==0&&(e=F5())&&(U5(e,n),$5(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},z5=function(){var t=B5();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},ok=function(){var t=z5(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},H5={left:0,top:0,right:0,gap:0},mm=function(t){return parseInt(t||"",10)||0},W5=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[mm(n),mm(r),mm(s)]},q5=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return H5;var e=W5(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},G5=ok(),ia="data-scroll-locked",K5=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(k5,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ia,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Wd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Hd," .").concat(Hd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Wd," .").concat(Wd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ia,`] {
    `).concat(P5,": ").concat(a,`px;
  }
`)},Xb=function(){var t=parseInt(document.body.getAttribute(ia)||"0",10);return isFinite(t)?t:0},Q5=function(){x.useEffect(function(){return document.body.setAttribute(ia,(Xb()+1).toString()),function(){var t=Xb()-1;t<=0?document.body.removeAttribute(ia):document.body.setAttribute(ia,t.toString())}},[])},Y5=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Q5();var i=x.useMemo(function(){return q5(s)},[s]);return x.createElement(G5,{styles:K5(i,!e,s,n?"":"!important")})},ry=!1;if(typeof window<"u")try{var ud=Object.defineProperty({},"passive",{get:function(){return ry=!0,!0}});window.addEventListener("test",ud,ud),window.removeEventListener("test",ud,ud)}catch{ry=!1}var Eo=ry?{passive:!1}:!1,J5=function(t){return t.tagName==="TEXTAREA"},ak=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!J5(t)&&n[e]==="visible")},X5=function(t){return ak(t,"overflowY")},Z5=function(t){return ak(t,"overflowX")},Zb=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=lk(t,r);if(s){var i=ck(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},e9=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},t9=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},lk=function(t,e){return t==="v"?X5(e):Z5(e)},ck=function(t,e){return t==="v"?e9(e):t9(e)},n9=function(t,e){return t==="h"&&e==="rtl"?-1:1},r9=function(t,e,n,r,s){var i=n9(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,d=o>0,h=0,f=0;do{if(!a)break;var m=ck(t,a),T=m[0],w=m[1],E=m[2],_=w-E-i*T;(T||_)&&lk(t,a)&&(h+=_,f+=T);var y=a.parentNode;a=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},dd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},eT=function(t){return[t.deltaX,t.deltaY]},tT=function(t){return t&&"current"in t?t.current:t},s9=function(t,e){return t[0]===e[0]&&t[1]===e[1]},i9=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},o9=0,bo=[];function a9(t){var e=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),s=x.useState(o9++)[0],i=x.useState(ok)[0],o=x.useRef(t);x.useEffect(function(){o.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var w=j4([t.lockRef.current],(t.shards||[]).map(tT),!0).filter(Boolean);return w.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=x.useCallback(function(w,E){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var _=dd(w),y=n.current,b="deltaX"in w?w.deltaX:y[0]-_[0],C="deltaY"in w?w.deltaY:y[1]-_[1],D,L=w.target,I=Math.abs(b)>Math.abs(C)?"h":"v";if("touches"in w&&I==="h"&&L.type==="range")return!1;var S=Zb(I,L);if(!S)return!0;if(S?D=I:(D=I==="v"?"h":"v",S=Zb(I,L)),!S)return!1;if(!r.current&&"changedTouches"in w&&(b||C)&&(r.current=D),!D)return!0;var k=r.current||D;return r9(k,E,w,k==="h"?b:C)},[]),l=x.useCallback(function(w){var E=w;if(!(!bo.length||bo[bo.length-1]!==i)){var _="deltaY"in E?eT(E):dd(E),y=e.current.filter(function(D){return D.name===E.type&&(D.target===E.target||E.target===D.shadowParent)&&s9(D.delta,_)})[0];if(y&&y.should){E.cancelable&&E.preventDefault();return}if(!y){var b=(o.current.shards||[]).map(tT).filter(Boolean).filter(function(D){return D.contains(E.target)}),C=b.length>0?a(E,b[0]):!o.current.noIsolation;C&&E.cancelable&&E.preventDefault()}}},[]),u=x.useCallback(function(w,E,_,y){var b={name:w,delta:E,target:_,should:y,shadowParent:l9(_)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(C){return C!==b})},1)},[]),d=x.useCallback(function(w){n.current=dd(w),r.current=void 0},[]),h=x.useCallback(function(w){u(w.type,eT(w),w.target,a(w,t.lockRef.current))},[]),f=x.useCallback(function(w){u(w.type,dd(w),w.target,a(w,t.lockRef.current))},[]);x.useEffect(function(){return bo.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Eo),document.addEventListener("touchmove",l,Eo),document.addEventListener("touchstart",d,Eo),function(){bo=bo.filter(function(w){return w!==i}),document.removeEventListener("wheel",l,Eo),document.removeEventListener("touchmove",l,Eo),document.removeEventListener("touchstart",d,Eo)}},[]);var m=t.removeScrollBar,T=t.inert;return x.createElement(x.Fragment,null,T?x.createElement(i,{styles:i9(s)}):null,m?x.createElement(Y5,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function l9(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const c9=j5(ik,a9);var uk=x.forwardRef(function(t,e){return x.createElement(qf,lr({},t,{ref:e,sideCar:c9}))});uk.classNames=qf.classNames;var u9=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},To=new WeakMap,hd=new WeakMap,fd={},gm=0,dk=function(t){return t&&(t.host||dk(t.parentNode))},d9=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=dk(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},h9=function(t,e,n,r){var s=d9(e,Array.isArray(t)?t:[t]);fd[n]||(fd[n]=new WeakMap);var i=fd[n],o=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var m=f.getAttribute(r),T=m!==null&&m!=="false",w=(To.get(f)||0)+1,E=(i.get(f)||0)+1;To.set(f,w),i.set(f,E),o.push(f),w===1&&T&&hd.set(f,!0),E===1&&f.setAttribute(n,"true"),T||f.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",f,_)}})};return d(e),a.clear(),gm++,function(){o.forEach(function(h){var f=To.get(h)-1,m=i.get(h)-1;To.set(h,f),i.set(h,m),f||(hd.has(h)||h.removeAttribute(r),hd.delete(h)),m||h.removeAttribute(n)}),gm--,gm||(To=new WeakMap,To=new WeakMap,hd=new WeakMap,fd={})}},f9=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=u9(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),h9(r,s,n,"aria-hidden")):function(){return null}},Gf="Dialog",[hk,W8]=ui(Gf),[p9,Jn]=hk(Gf),fk=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=x.useRef(null),l=x.useRef(null),[u,d]=Qc({prop:r,defaultProp:s??!1,onChange:i,caller:Gf});return g.jsx(p9,{scope:e,triggerRef:a,contentRef:l,contentId:Gl(),titleId:Gl(),descriptionId:Gl(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};fk.displayName=Gf;var pk="DialogTrigger",m9=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Jn(pk,n),i=ft(e,s.triggerRef);return g.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":C0(s.open),...r,ref:i,onClick:we(t.onClick,s.onOpenToggle)})});m9.displayName=pk;var S0="DialogPortal",[g9,mk]=hk(S0,{forceMount:void 0}),gk=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Jn(S0,e);return g.jsx(g9,{scope:e,forceMount:n,children:x.Children.map(r,o=>g.jsx(di,{present:n||i.open,children:g.jsx(cv,{asChild:!0,container:s,children:o})}))})};gk.displayName=S0;var $h="DialogOverlay",yk=x.forwardRef((t,e)=>{const n=mk($h,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Jn($h,t.__scopeDialog);return i.modal?g.jsx(di,{present:r||i.open,children:g.jsx(v9,{...s,ref:e})}):null});yk.displayName=$h;var y9=Ec("DialogOverlay.RemoveScroll"),v9=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Jn($h,n);return g.jsx(uk,{as:y9,allowPinchZoom:!0,shards:[s.contentRef],children:g.jsx(Ie.div,{"data-state":C0(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),so="DialogContent",vk=x.forwardRef((t,e)=>{const n=mk(so,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Jn(so,t.__scopeDialog);return g.jsx(di,{present:r||i.open,children:i.modal?g.jsx(w9,{...s,ref:e}):g.jsx(_9,{...s,ref:e})})});vk.displayName=so;var w9=x.forwardRef((t,e)=>{const n=Jn(so,t.__scopeDialog),r=x.useRef(null),s=ft(e,n.contentRef,r);return x.useEffect(()=>{const i=r.current;if(i)return f9(i)},[]),g.jsx(wk,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:we(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:we(t.onFocusOutside,i=>i.preventDefault())})}),_9=x.forwardRef((t,e)=>{const n=Jn(so,t.__scopeDialog),r=x.useRef(!1),s=x.useRef(!1);return g.jsx(wk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),wk=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Jn(so,n),l=x.useRef(null),u=ft(e,l);return A5(),g.jsxs(g.Fragment,{children:[g.jsx(nk,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:g.jsx(af,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":C0(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(E9,{titleId:a.titleId}),g.jsx(T9,{contentRef:l,descriptionId:a.descriptionId})]})]})}),I0="DialogTitle",_k=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Jn(I0,n);return g.jsx(Ie.h2,{id:s.titleId,...r,ref:e})});_k.displayName=I0;var Ek="DialogDescription",bk=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Jn(Ek,n);return g.jsx(Ie.p,{id:s.descriptionId,...r,ref:e})});bk.displayName=Ek;var Tk="DialogClose",xk=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Jn(Tk,n);return g.jsx(Ie.button,{type:"button",...r,ref:e,onClick:we(t.onClick,()=>s.onOpenChange(!1))})});xk.displayName=Tk;function C0(t){return t?"open":"closed"}var Sk="DialogTitleWarning",[q8,Ik]=DO(Sk,{contentName:so,titleName:I0,docsSlug:"dialog"}),E9=({titleId:t})=>{const e=Ik(Sk),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},b9="DialogDescriptionWarning",T9=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ik(b9).contentName}}.`;return x.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},x9=fk,S9=gk,Ck=yk,Ak=vk,kk=_k,Pk=bk,I9=xk;const hu=x9,C9=S9,Rk=x.forwardRef(({className:t,...e},n)=>g.jsx(Ck,{ref:n,className:ke("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Rk.displayName=Ck.displayName;const Ya=x.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(C9,{children:[g.jsx(Rk,{}),g.jsxs(Ak,{ref:r,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,g.jsxs(I9,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[g.jsx(pv,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ya.displayName=Ak.displayName;const Ja=({className:t,...e})=>g.jsx("div",{className:ke("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ja.displayName="DialogHeader";const Xa=x.forwardRef(({className:t,...e},n)=>g.jsx(kk,{ref:n,className:ke("text-lg font-semibold leading-none tracking-tight",t),...e}));Xa.displayName=kk.displayName;const A9=x.forwardRef(({className:t,...e},n)=>g.jsx(Pk,{ref:n,className:ke("text-sm text-muted-foreground",t),...e}));A9.displayName=Pk.displayName;const k9=({isOpen:t,onClose:e,onSwitchToSignup:n,onForgotPassword:r})=>{const[s,i]=x.useState(""),[o,a]=x.useState(""),[l,u]=x.useState(!1),d=$a(),{toast:h}=ci(),{signIn:f}=du(),m=async T=>{T.preventDefault(),u(!0);const{error:w}=await f(s,o);w?h({title:"Login failed",description:w.message||"Please check your credentials and try again.",variant:"destructive"}):(h({title:"Login successful!",description:"Welcome back to Interstia"}),e(),d("/communities")),u(!1)};return g.jsx(hu,{open:t,onOpenChange:e,children:g.jsxs(Ya,{className:"bg-gray-900 border-gray-700 text-white max-w-md",children:[g.jsx(Ja,{children:g.jsx(Xa,{className:"text-2xl font-bold text-center",children:"Welcome Back"})}),g.jsxs("form",{onSubmit:m,className:"space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(an,{htmlFor:"email",children:"Email"}),g.jsx(Hn,{id:"email",type:"email",value:s,onChange:T=>i(T.target.value),className:"bg-gray-800 border-gray-600 text-white",required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(an,{htmlFor:"password",children:"Password"}),g.jsx(Hn,{id:"password",type:"password",value:o,onChange:T=>a(T.target.value),className:"bg-gray-800 border-gray-600 text-white",required:!0})]}),g.jsx(dt,{type:"submit",className:"w-full bg-orange-500 hover:bg-orange-600",disabled:l,children:l?"Logging in...":"Log In"})]}),g.jsxs("div",{className:"text-center space-y-2",children:[g.jsx("button",{onClick:r,className:"text-orange-500 hover:text-orange-400 underline text-sm",children:"Forgot your password?"}),g.jsxs("p",{className:"text-gray-400",children:["Don't have an account?"," ",g.jsx("button",{onClick:n,className:"text-orange-500 hover:text-orange-400 underline",children:"Sign up"})]})]})]})})};function P9(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Kf="Checkbox",[R9,G8]=ui(Kf),[N9,A0]=R9(Kf);function O9(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:a,onCheckedChange:l,required:u,value:d="on",internal_do_not_use_render:h}=t,[f,m]=Qc({prop:n,defaultProp:s??!1,onChange:l,caller:Kf}),[T,w]=x.useState(null),[E,_]=x.useState(null),y=x.useRef(!1),b=T?!!o||!!T.closest("form"):!0,C={checked:f,disabled:i,setChecked:m,control:T,setControl:w,name:a,form:o,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:Ks(s)?!1:s,isFormControl:b,bubbleInput:E,setBubbleInput:_};return g.jsx(N9,{scope:e,...C,children:D9(h)?h(C):r})}var Nk="CheckboxTrigger",Ok=x.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:o,disabled:a,checked:l,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:T}=A0(Nk,t),w=ft(s,d),E=x.useRef(l);return x.useEffect(()=>{const _=i==null?void 0:i.form;if(_){const y=()=>h(E.current);return _.addEventListener("reset",y),()=>_.removeEventListener("reset",y)}},[i,h]),g.jsx(Ie.button,{type:"button",role:"checkbox","aria-checked":Ks(l)?"mixed":l,"aria-required":u,"data-state":Vk(l),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:w,onKeyDown:we(e,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:we(n,_=>{h(y=>Ks(y)?!0:!y),T&&m&&(f.current=_.isPropagationStopped(),f.current||_.stopPropagation())})})});Ok.displayName=Nk;var k0=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l,onCheckedChange:u,form:d,...h}=t;return g.jsx(O9,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:a,required:o,onCheckedChange:u,name:r,form:d,value:l,internal_do_not_use_render:({isFormControl:f})=>g.jsxs(g.Fragment,{children:[g.jsx(Ok,{...h,ref:e,__scopeCheckbox:n}),f&&g.jsx(jk,{__scopeCheckbox:n})]})})});k0.displayName=Kf;var Dk="CheckboxIndicator",Lk=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=A0(Dk,n);return g.jsx(di,{present:r||Ks(i.checked)||i.checked===!0,children:g.jsx(Ie.span,{"data-state":Vk(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});Lk.displayName=Dk;var Mk="CheckboxBubbleInput",jk=x.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:a,disabled:l,name:u,value:d,form:h,bubbleInput:f,setBubbleInput:m}=A0(Mk,t),T=ft(n,m),w=P9(i),E=VI(r);x.useEffect(()=>{const y=f;if(!y)return;const b=window.HTMLInputElement.prototype,D=Object.getOwnPropertyDescriptor(b,"checked").set,L=!s.current;if(w!==i&&D){const I=new Event("click",{bubbles:L});y.indeterminate=Ks(i),D.call(y,Ks(i)?!1:i),y.dispatchEvent(I)}},[f,w,i,s]);const _=x.useRef(Ks(i)?!1:i);return g.jsx(Ie.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??_.current,required:a,disabled:l,name:u,value:d,form:h,...e,tabIndex:-1,ref:T,style:{...e.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});jk.displayName=Mk;function D9(t){return typeof t=="function"}function Ks(t){return t==="indeterminate"}function Vk(t){return Ks(t)?"indeterminate":t?"checked":"unchecked"}const Fk=x.forwardRef(({className:t,...e},n)=>g.jsx(k0,{ref:n,className:ke("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:g.jsx(Lk,{className:ke("flex items-center justify-center text-current"),children:g.jsx(N2,{className:"h-4 w-4"})})}));Fk.displayName=k0.displayName;const L9=({isOpen:t,onClose:e,onSwitchToLogin:n})=>{const[r,s]=x.useState({email:"",username:"",password:"",interests:[]}),[i,o]=x.useState(!1),{toast:a}=ci(),{signUp:l}=du(),u=["React","AI/ML","Web3","DevOps","Design","Startup","Gaming","Tech News"],d=(f,m)=>{s(T=>({...T,interests:m?[...T.interests,f]:T.interests.filter(w=>w!==f)}))},h=async f=>{if(f.preventDefault(),o(!0),r.interests.length===0){a({title:"Please select at least one interest",variant:"destructive"}),o(!1);return}if(!r.username.trim()||r.username.trim().length<3){a({title:"Please enter a valid username (at least 3 characters)",variant:"destructive"}),o(!1);return}if(r.password.length<6){a({title:"Password must be at least 6 characters long",variant:"destructive"}),o(!1);return}const{error:m}=await l(r.email,r.password,r.username.trim(),r.interests);m?a({title:"Signup failed",description:m.message||"An error occurred during signup",variant:"destructive"}):(a({title:"Account created successfully!",description:"Please check your email to verify your account. You can then log in."}),s({email:"",username:"",password:"",interests:[]}),e()),o(!1)};return g.jsx(hu,{open:t,onOpenChange:e,children:g.jsxs(Ya,{className:"bg-gray-900 border-gray-700 text-white max-w-md max-h-[90vh] overflow-y-auto",children:[g.jsx(Ja,{children:g.jsx(Xa,{className:"text-2xl font-bold text-center",children:"Join Interstia"})}),g.jsxs("form",{onSubmit:h,className:"space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(an,{htmlFor:"email",children:"Email"}),g.jsx(Hn,{id:"email",type:"email",value:r.email,onChange:f=>s(m=>({...m,email:f.target.value})),className:"bg-gray-800 border-gray-600 text-white",required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(an,{htmlFor:"username",children:"Username"}),g.jsx(Hn,{id:"username",type:"text",value:r.username,onChange:f=>s(m=>({...m,username:f.target.value})),className:"bg-gray-800 border-gray-600 text-white",required:!0,minLength:3,maxLength:20,placeholder:"Enter a unique username"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(an,{htmlFor:"password",children:"Password"}),g.jsx(Hn,{id:"password",type:"password",value:r.password,onChange:f=>s(m=>({...m,password:f.target.value})),className:"bg-gray-800 border-gray-600 text-white",required:!0,minLength:6,placeholder:"At least 6 characters"})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx(an,{children:"Interests (select at least one)"}),g.jsx("div",{className:"grid grid-cols-2 gap-3",children:u.map(f=>g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(Fk,{id:f,checked:r.interests.includes(f),onCheckedChange:m=>d(f,m)}),g.jsx(an,{htmlFor:f,className:"text-sm",children:f})]},f))})]}),g.jsx(dt,{type:"submit",className:"w-full bg-orange-500 hover:bg-orange-600",disabled:i,children:i?"Creating account...":"Sign Up"})]}),g.jsx("div",{className:"text-center",children:g.jsxs("p",{className:"text-gray-400",children:["Already have an account?"," ",g.jsx("button",{onClick:n,className:"text-orange-500 hover:text-orange-400 underline",children:"Log in"})]})})]})})},M9=({isOpen:t,onClose:e,onBackToLogin:n})=>{const[r,s]=x.useState(""),[i,o]=x.useState(!1),[a,l]=x.useState(!1),{toast:u}=ci(),{resetPassword:d}=du(),h=async m=>{m.preventDefault(),o(!0);const{error:T}=await d(r);T?u({title:"Error",description:T.message||"Failed to send reset email",variant:"destructive"}):(l(!0),u({title:"Reset email sent!",description:"Check your email for password reset instructions"})),o(!1)},f=()=>{l(!1),s(""),e()};return g.jsx(hu,{open:t,onOpenChange:f,children:g.jsxs(Ya,{className:"bg-gray-900 border-gray-700 text-white max-w-md",children:[g.jsx(Ja,{children:g.jsx(Xa,{className:"text-2xl font-bold text-center",children:a?"Check Your Email":"Reset Password"})}),a?g.jsxs("div",{className:"space-y-6 text-center",children:[g.jsxs("p",{className:"text-gray-300",children:["We've sent a password reset link to ",g.jsx("strong",{children:r})]}),g.jsx("p",{className:"text-sm text-gray-400",children:"Click the link in the email to reset your password. You can close this window."}),g.jsx(dt,{onClick:n,variant:"outline",className:"w-full border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"Back to Login"})]}):g.jsxs("form",{onSubmit:h,className:"space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(an,{htmlFor:"reset-email",children:"Email Address"}),g.jsx(Hn,{id:"reset-email",type:"email",value:r,onChange:m=>s(m.target.value),className:"bg-gray-800 border-gray-600 text-white",placeholder:"Enter your email address",required:!0})]}),g.jsx(dt,{type:"submit",className:"w-full bg-orange-500 hover:bg-orange-600",disabled:i,children:i?"Sending...":"Send Reset Link"}),g.jsx("div",{className:"text-center",children:g.jsx("button",{type:"button",onClick:n,className:"text-orange-500 hover:text-orange-400 underline text-sm",children:"Back to Login"})})]})]})})};var j9=x.createContext(void 0);function Uk(t){const e=x.useContext(j9);return t||e||"ltr"}var ym="rovingFocusGroup.onEntryFocus",V9={bubbles:!1,cancelable:!0},fu="RovingFocusGroup",[sy,$k,F9]=zS(fu),[U9,Bk]=ui(fu,[F9]),[$9,B9]=U9(fu),zk=x.forwardRef((t,e)=>g.jsx(sy.Provider,{scope:t.__scopeRovingFocusGroup,children:g.jsx(sy.Slot,{scope:t.__scopeRovingFocusGroup,children:g.jsx(z9,{...t,ref:e})})}));zk.displayName=fu;var z9=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,f=x.useRef(null),m=ft(e,f),T=Uk(i),[w,E]=Qc({prop:o,defaultProp:a??null,onChange:l,caller:fu}),[_,y]=x.useState(!1),b=qn(u),C=$k(n),D=x.useRef(!1),[L,I]=x.useState(0);return x.useEffect(()=>{const S=f.current;if(S)return S.addEventListener(ym,b),()=>S.removeEventListener(ym,b)},[b]),g.jsx($9,{scope:n,orientation:r,dir:T,loop:s,currentTabStopId:w,onItemFocus:x.useCallback(S=>E(S),[E]),onItemShiftTab:x.useCallback(()=>y(!0),[]),onFocusableItemAdd:x.useCallback(()=>I(S=>S+1),[]),onFocusableItemRemove:x.useCallback(()=>I(S=>S-1),[]),children:g.jsx(Ie.div,{tabIndex:_||L===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:we(t.onMouseDown,()=>{D.current=!0}),onFocus:we(t.onFocus,S=>{const k=!D.current;if(S.target===S.currentTarget&&k&&!_){const P=new CustomEvent(ym,V9);if(S.currentTarget.dispatchEvent(P),!P.defaultPrevented){const N=C().filter(X=>X.focusable),O=N.find(X=>X.active),R=N.find(X=>X.id===w),oe=[O,R,...N].filter(Boolean).map(X=>X.ref.current);qk(oe,d)}}D.current=!1}),onBlur:we(t.onBlur,()=>y(!1))})})}),Hk="RovingFocusGroupItem",Wk=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=Gl(),u=i||l,d=B9(Hk,n),h=d.currentTabStopId===u,f=$k(n),{onFocusableItemAdd:m,onFocusableItemRemove:T,currentTabStopId:w}=d;return x.useEffect(()=>{if(r)return m(),()=>T()},[r,m,T]),g.jsx(sy.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:g.jsx(Ie.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:we(t.onMouseDown,E=>{r?d.onItemFocus(u):E.preventDefault()}),onFocus:we(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:we(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){d.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const _=q9(E,d.orientation,d.dir);if(_!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let b=f().filter(C=>C.focusable).map(C=>C.ref.current);if(_==="last")b.reverse();else if(_==="prev"||_==="next"){_==="prev"&&b.reverse();const C=b.indexOf(E.currentTarget);b=d.loop?G9(b,C+1):b.slice(C+1)}setTimeout(()=>qk(b))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:w!=null}):o})})});Wk.displayName=Hk;var H9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function W9(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function q9(t,e,n){const r=W9(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return H9[r]}function qk(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function G9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var K9=zk,Q9=Wk,Qf="Tabs",[Y9,K8]=ui(Qf,[Bk]),Gk=Bk(),[J9,P0]=Y9(Qf),Kk=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,d=Uk(a),[h,f]=Qc({prop:r,onChange:s,defaultProp:i??"",caller:Qf});return g.jsx(J9,{scope:n,baseId:Gl(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:l,children:g.jsx(Ie.div,{dir:d,"data-orientation":o,...u,ref:e})})});Kk.displayName=Qf;var Qk="TabsList",Yk=x.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=P0(Qk,n),o=Gk(n);return g.jsx(K9,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:g.jsx(Ie.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});Yk.displayName=Qk;var Jk="TabsTrigger",Xk=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=P0(Jk,n),a=Gk(n),l=tP(o.baseId,r),u=nP(o.baseId,r),d=r===o.value;return g.jsx(Q9,{asChild:!0,...a,focusable:!s,active:d,children:g.jsx(Ie.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:we(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:we(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:we(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});Xk.displayName=Jk;var Zk="TabsContent",eP=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=P0(Zk,n),l=tP(a.baseId,r),u=nP(a.baseId,r),d=r===a.value,h=x.useRef(d);return x.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),g.jsx(di,{present:s||d,children:({present:f})=>g.jsx(Ie.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});eP.displayName=Zk;function tP(t,e){return`${t}-trigger-${e}`}function nP(t,e){return`${t}-content-${e}`}var X9=Kk,rP=Yk,sP=Xk,iP=eP;const Z9=X9,oP=x.forwardRef(({className:t,...e},n)=>g.jsx(rP,{ref:n,className:ke("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));oP.displayName=rP.displayName;const Pi=x.forwardRef(({className:t,...e},n)=>g.jsx(sP,{ref:n,className:ke("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Pi.displayName=sP.displayName;const Ri=x.forwardRef(({className:t,...e},n)=>g.jsx(iP,{ref:n,className:ke("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ri.displayName=iP.displayName;const eB={React:{description:"A JavaScript library for building user interfaces, particularly single-page applications where you need a fast, interactive user experience. React allows developers to create reusable UI components and manage application state efficiently.",currentTrends:["React 18.3 brings automatic batching and improved concurrent features","Server Components are revolutionizing React architecture","React DevTools now supports time-travel debugging","Remix and Next.js 13+ driving React adoption in enterprise","React Native 0.72 introduces new architecture improvements"],news:[{title:"React 18.3 Performance Optimizations Released",content:"Latest update includes significant performance improvements with automatic batching and enhanced concurrent rendering capabilities.",date:"Dec 2024",importance:"high"},{title:"Meta Announces React Compiler",content:"Revolutionary compiler that automatically optimizes React applications, reducing the need for manual memoization.",date:"Nov 2024",importance:"high"},{title:"React DevTools 5.0 with Enhanced Profiler",content:"New profiler features include component flamegraphs and improved performance monitoring tools.",date:"Oct 2024",importance:"medium"}],career:[{role:"Frontend React Developer",salary:"$70,000 - $120,000",experience:"1-3 years",skills:["React Hooks","JSX","State Management","CSS/Tailwind"],demand:"Very High"},{role:"Senior React Engineer",salary:"$120,000 - $180,000",experience:"4-7 years",skills:["Advanced React Patterns","Performance Optimization","Team Leadership"],demand:"High"},{role:"Full Stack React Developer",salary:"$90,000 - $150,000",experience:"2-5 years",skills:["React","Node.js","Database Design","API Development"],demand:"Very High"},{role:"React Native Developer",salary:"$85,000 - $140,000",experience:"2-5 years",skills:["React Native","Mobile Development","Native Modules"],demand:"High"}],tips:[{category:"Getting Started",items:["Master JavaScript ES6+ features before diving deep into React","Understand the Virtual DOM concept and how React optimizes rendering","Start with Create React App or Vite for quick project setup","Practice with functional components and hooks (useState, useEffect)"]},{category:"Intermediate Skills",items:["Learn state management with Context API or Redux Toolkit","Master React Router for single-page application navigation","Understand component lifecycle and optimization techniques","Practice custom hooks for reusable logic"]},{category:"Advanced Techniques",items:["Implement performance optimizations with React.memo and useMemo","Learn React testing with Jest and React Testing Library","Explore Next.js for production-ready applications","Understand Concurrent Features and Suspense for better UX"]}],usage:{industries:["E-commerce","Social Media","Financial Services","Healthcare","Education","Entertainment"],companies:["Facebook","Netflix","Airbnb","Uber","WhatsApp","Instagram","Dropbox"],applications:["Single Page Applications (SPAs)","Progressive Web Apps (PWAs)","Mobile apps with React Native","Desktop applications with Electron","Server-side rendered websites","Component libraries and design systems"]},statistics:{githubStars:"220k+",npmDownloads:"20M+ weekly",jobPostings:"50,000+ active",stackoverflow:"350k+ questions",marketShare:"40.14%"},learningPath:["JavaScript Fundamentals","React Basics & JSX","Components & Props","State & Lifecycle","Event Handling","Forms & Controlled Components","React Hooks","Context API","React Router","Testing","Performance Optimization"]},"AI/ML":{description:"Artificial Intelligence and Machine Learning represent the cutting edge of computer science, enabling machines to learn, reason, and make decisions. This field combines mathematics, statistics, and computer science to create intelligent systems.",currentTrends:["Large Language Models (LLMs) like GPT-4 and Claude revolutionizing AI","Generative AI transforming creative industries and content creation","Edge AI bringing machine learning to mobile and IoT devices","MLOps practices becoming standard for production ML systems","Responsible AI and ethical considerations gaining prominence"],news:[{title:"GPT-4 Turbo with Vision Capabilities",content:"OpenAI releases enhanced model with improved reasoning, vision understanding, and reduced costs for API usage.",date:"Dec 2024",importance:"high"},{title:"Google's Gemini Pro Surpasses GPT-4",content:"Google's latest multimodal AI model demonstrates superior performance across text, code, audio, image, and video understanding.",date:"Dec 2024",importance:"high"},{title:"Meta's Code Llama 2 Open Source Release",content:"Advanced code generation model available for commercial use, supporting 16 programming languages.",date:"Nov 2024",importance:"medium"}],career:[{role:"Machine Learning Engineer",salary:"$100,000 - $160,000",experience:"2-5 years",skills:["Python","TensorFlow/PyTorch","MLOps","Statistics"],demand:"Very High"},{role:"Data Scientist",salary:"$95,000 - $150,000",experience:"1-4 years",skills:["Python/R","Statistical Analysis","Data Visualization","SQL"],demand:"High"},{role:"AI Research Scientist",salary:"$140,000 - $250,000",experience:"PhD + 2-5 years",skills:["Deep Learning","Research","Mathematics","Publications"],demand:"High"},{role:"MLOps Engineer",salary:"$110,000 - $170,000",experience:"3-6 years",skills:["DevOps","Cloud Platforms","ML Pipelines","Monitoring"],demand:"Very High"}],tips:[{category:"Mathematics Foundation",items:["Master linear algebra, calculus, and statistics fundamentals","Understand probability theory and Bayesian thinking","Learn optimization techniques and gradient descent","Practice with mathematical notation and proofs"]},{category:"Programming Skills",items:["Master Python with NumPy, Pandas, and Scikit-learn","Learn TensorFlow or PyTorch for deep learning","Understand data preprocessing and feature engineering","Practice with Jupyter notebooks and data visualization"]},{category:"Practical Experience",items:["Work on end-to-end projects from data to deployment","Participate in Kaggle competitions for real-world experience","Build a portfolio showcasing different ML techniques","Contribute to open-source ML projects and communities"]}],usage:{industries:["Healthcare","Finance","Autonomous Vehicles","Retail","Manufacturing","Entertainment"],companies:["Google","Tesla","OpenAI","NVIDIA","Microsoft","Amazon","DeepMind"],applications:["Natural Language Processing (ChatGPT, translation)","Computer Vision (image recognition, medical imaging)","Recommendation Systems (Netflix, Amazon, Spotify)","Autonomous Systems (self-driving cars, drones)","Fraud Detection and Risk Assessment","Drug Discovery and Medical Diagnosis"]},statistics:{marketSize:"$136B by 2025",jobGrowth:"31% (2019-2029)",salaryGrowth:"15% year-over-year",researchPapers:"50,000+ annually",ventureInvestment:"$13.8B in 2023"},learningPath:["Python Programming","Statistics & Mathematics","Data Analysis with Pandas","Machine Learning Algorithms","Deep Learning Basics","Neural Networks","Computer Vision/NLP","MLOps & Deployment","Advanced Research Topics"]},Web3:{description:"Web3 represents the next evolution of the internet, built on blockchain technology to create a decentralized web where users own their data, digital assets, and participate in governance of protocols.",currentTrends:["Layer 2 solutions like Arbitrum and Optimism scaling Ethereum","Real World Assets (RWA) tokenization gaining institutional adoption","Account Abstraction making crypto more user-friendly","DeFi 2.0 protocols focusing on sustainability and real yield","Web3 social platforms challenging traditional social media"],news:[{title:"Ethereum's Dencun Upgrade Reduces L2 Costs",content:"Major upgrade introduces blob transactions, significantly reducing costs for Layer 2 solutions like Arbitrum and Polygon.",date:"Dec 2024",importance:"high"},{title:"Bitcoin ETFs Reach $50B in Assets",content:"Institutional adoption accelerates as Bitcoin ETFs see unprecedented inflows from traditional finance.",date:"Nov 2024",importance:"high"},{title:"Solana Mobile Saga 2 Pre-orders Exceed 100k",content:"Second generation Web3 phone shows growing demand for crypto-native mobile experiences.",date:"Oct 2024",importance:"medium"}],career:[{role:"Blockchain Developer",salary:"$90,000 - $150,000",experience:"1-4 years",skills:["Solidity","Web3.js","Smart Contracts","DApp Development"],demand:"Very High"},{role:"Smart Contract Auditor",salary:"$120,000 - $200,000",experience:"3-6 years",skills:["Security Auditing","Solidity","DeFi Protocols","Testing"],demand:"Extremely High"},{role:"DeFi Protocol Engineer",salary:"$130,000 - $220,000",experience:"2-5 years",skills:["DeFi Mechanics","Tokenomics","Smart Contracts","Mathematics"],demand:"Very High"},{role:"Web3 Product Manager",salary:"$110,000 - $180,000",experience:"3-7 years",skills:["Product Strategy","Tokenomics","Community Building","DeFi"],demand:"High"}],tips:[{category:"Blockchain Fundamentals",items:["Understand how blockchain works: blocks, mining, consensus mechanisms","Learn about different blockchain networks (Ethereum, Solana, Polygon)","Grasp concepts of decentralization, immutability, and trustlessness","Study tokenomics and different token standards (ERC-20, ERC-721, ERC-1155)"]},{category:"Development Skills",items:["Master Solidity for Ethereum smart contract development","Learn Hardhat or Foundry for smart contract testing and deployment","Understand Web3.js or Ethers.js for frontend integration","Practice with testnets before deploying to mainnet"]},{category:"DeFi & Security",items:["Study major DeFi protocols: Uniswap, Aave, Compound, MakerDAO","Learn about common smart contract vulnerabilities and security best practices","Understand gas optimization techniques for cost-effective contracts","Follow security audits and learn from past exploits"]}],usage:{industries:["Finance","Gaming","Real Estate","Supply Chain","Identity","Entertainment"],companies:["Coinbase","Binance","Uniswap","OpenSea","Chainlink","Polygon","ConsenSys"],applications:["Decentralized Finance (DeFi) - lending, borrowing, trading","Non-Fungible Tokens (NFTs) - digital art, collectibles, gaming","Decentralized Autonomous Organizations (DAOs)","Decentralized Identity and Authentication","Supply Chain Transparency and Tracking","Play-to-Earn Gaming and Virtual Worlds"]},statistics:{totalValueLocked:"$50B+ in DeFi",dailyTransactions:"1.2M+ on Ethereum",developers:"18,000+ active monthly",ventureCapital:"$9.2B invested in 2023",walletUsers:"120M+ unique addresses"},learningPath:["Blockchain Basics","Cryptocurrency Fundamentals","Ethereum & Smart Contracts","Solidity Programming","DApp Development","DeFi Protocols","Security & Auditing","Advanced Topics (L2s, DAOs)","Real-world Projects"]},DevOps:{description:"A set of practices that combines software development and IT operations to shorten development lifecycle and provide continuous delivery with high software quality.",currentTrends:["Kubernetes 1.28 introduces new security features and enhanced scalability","GitOps practices becoming standard in enterprise DevOps workflows","AI-powered monitoring tools gaining traction for predictive analytics"],news:[{title:"Kubernetes 1.28 Security Enhancements",content:"New features include enhanced security features, improved resource management, and support for multi-cluster deployments.",date:"Dec 2024",importance:"high"},{title:"GitOps Adoption in Large Enterprises",content:"More organizations are adopting GitOps practices to streamline CI/CD pipelines and improve collaboration.",date:"Nov 2024",importance:"high"},{title:"AI Monitoring Tools for DevOps",content:"AI-powered monitoring tools are becoming more prevalent in DevOps environments to automate and optimize monitoring processes.",date:"Oct 2024",importance:"medium"}],career:[{role:"DevOps Engineer",salary:"$85,000 - $140,000",experience:"1-3 years",skills:["Containerization","CI/CD Pipelines","Cloud Platforms","Infrastructure as Code"],demand:"Very High"},{role:"Site Reliability Engineer",salary:"$100,000 - $160,000",experience:"2-5 years",skills:["Monitoring","Logging","Automated Testing","Performance Optimization"],demand:"High"},{role:"Cloud Architect",salary:"$120,000 - $180,000",experience:"3-7 years",skills:["Cloud Infrastructure Design","Cloud Security","Multi-cloud Strategy"],demand:"Very High"},{role:"Platform Engineer",salary:"$110,000 - $170,000",experience:"2-5 years",skills:["Infrastructure as Code","Monitoring","Automation","Platform Design"],demand:"High"}],tips:[{category:"Containerization",items:["Master Docker and Kubernetes concepts for container orchestration","Learn container orchestration tools like Helm and Kustomize","Understand container lifecycle management and best practices","Practice with container security and optimization techniques"]},{category:"CI/CD Pipelines",items:["Learn CI/CD tools like Jenkins, GitLab CI, GitHub Actions","Understand best practices for automated testing and deployment","Practice with containerized applications and microservices","Implement proper branching strategies and release management"]},{category:"Cloud Platforms & Infrastructure",items:["Master major cloud platforms: AWS, Azure, and GCP services","Learn Infrastructure as Code with Terraform or CloudFormation","Understand cloud security best practices and compliance","Practice with multi-cloud and hybrid cloud architectures"]}],usage:{industries:["Technology","Finance","Healthcare","E-commerce","Gaming","Telecommunications"],companies:["Google","Amazon","Microsoft","Netflix","Spotify","Uber","Slack"],applications:["Continuous Integration and Deployment","Infrastructure Automation and Management","Monitoring and Logging Systems","Container Orchestration and Microservices","Cloud Infrastructure and Migration","Security and Compliance Automation"]},statistics:{marketGrowth:"24.2% CAGR (2021-2028)",jobPostings:"45,000+ active",averageSalary:"$115,000 annually",toolsAdoption:"85% enterprises use CI/CD",cloudMigration:"78% workloads in cloud"},learningPath:["Linux & Command Line","Version Control (Git)","Containerization (Docker)","Container Orchestration (Kubernetes)","Cloud Platforms (AWS/Azure/GCP)","Infrastructure as Code","CI/CD Pipelines","Monitoring & Logging","Security & Compliance"]},Design:{description:"User Experience and User Interface design focused on creating intuitive, accessible, and visually appealing digital products that solve real user problems.",currentTrends:["Design systems becoming crucial for large organizations and consistency","AI tools like Midjourney and Figma AI revolutionizing design workflows","Accessibility standards getting stricter globally with WCAG 2.2"],news:[{title:"Design Systems Adoption in Large Enterprises",content:"More organizations are adopting design systems to streamline design processes and improve consistency across projects.",date:"Dec 2024",importance:"high"},{title:"AI Tools for Design Automation",content:"AI tools like Midjourney and Figma AI are becoming more prevalent in design workflows to automate repetitive tasks.",date:"Nov 2024",importance:"high"},{title:"WCAG 2.2 Accessibility Standards Update",content:"New accessibility guidelines are being developed globally to ensure digital products are accessible to all users.",date:"Oct 2024",importance:"medium"}],career:[{role:"UX Designer",salary:"$70,000 - $120,000",experience:"1-3 years",skills:["User Research","Usability Testing","Design Tools","Information Architecture"],demand:"Very High"},{role:"UI Designer",salary:"$65,000 - $110,000",experience:"1-2 years",skills:["UI Design Principles","Color Theory","Typography","Prototyping"],demand:"High"},{role:"Product Designer",salary:"$90,000 - $140,000",experience:"2-5 years",skills:["Product Strategy","User Experience","Design Systems","Cross-functional Collaboration"],demand:"Very High"},{role:"Design Systems Lead",salary:"$110,000 - $160,000",experience:"3-7 years",skills:["Design Systems Architecture","Team Leadership","Documentation","Component Libraries"],demand:"High"}],tips:[{category:"User Research & Testing",items:["Master user research methods like interviews, surveys, and usability testing","Understand user personas, journey mapping, and user flows","Practice with user testing tools like UserTesting, Hotjar, and Maze","Learn to analyze and synthesize user feedback into actionable insights"]},{category:"Design Tools & Skills",items:["Master design tools like Figma, Sketch, Adobe Creative Suite","Understand design principles: hierarchy, contrast, alignment, repetition","Practice with design prototyping and animation tools","Learn the fundamentals of color theory, typography, and grid systems"]},{category:"Accessibility & Standards",items:["Understand accessibility guidelines (WCAG) and inclusive design","Practice with accessibility testing tools like Axe and Lighthouse","Build accessible design systems and component libraries","Learn about assistive technologies and diverse user needs"]}],usage:{industries:["Technology","E-commerce","Healthcare","Finance","Education","Entertainment"],companies:["Apple","Google","Airbnb","Spotify","Adobe","Figma","Dribbble"],applications:["Web and Mobile App Design","Design Systems and Component Libraries","User Experience Research and Testing","Brand Identity and Visual Design","Product Strategy and Information Architecture","Accessibility and Inclusive Design"]},statistics:{jobGrowth:"13% (2020-2030)",averageSalary:"$95,000 annually",designToolsMarket:"$15.6B by 2028",companiesWithDesignSystems:"73% of enterprises",roiOfDesign:"228% ROI per dollar invested"},learningPath:["Design Fundamentals","User Research Methods","Design Tools (Figma/Sketch)","UI Design Principles","UX Design Process","Prototyping & Testing","Accessibility & Inclusive Design","Design Systems","Advanced Product Design"]},Startup:{description:"Early-stage companies focused on developing scalable business models and innovative solutions to market problems with high growth potential.",currentTrends:["Venture capital funding reaching record levels in AI and deep tech","Remote-first startups showing higher productivity and global talent access","AI startups attracting major investment rounds and enterprise adoption"],news:[{title:"Venture Capital Funding Reaches New Heights",content:"Venture capital funding in tech reaches record levels, supporting a growing number of AI and deep tech startups.",date:"Dec 2024",importance:"high"},{title:"Remote-First Startup Success Stories",content:"Remote-first startups are showing higher productivity and efficiency compared to traditional office-based teams.",date:"Nov 2024",importance:"high"},{title:"AI Startups Dominate Investment Landscape",content:"AI startups are attracting major investment rounds, demonstrating the potential for AI-driven innovation and disruption.",date:"Oct 2024",importance:"medium"}],career:[{role:"Startup Founder",salary:"Variable equity-based compensation",experience:"1-5 years",skills:["Business Strategy","Product Development","Fundraising","Team Building"],demand:"Very High"},{role:"Product Manager",salary:"$80,000 - $130,000 + equity",experience:"2-5 years",skills:["Product Management","Market Research","Agile Methodologies","Data Analysis"],demand:"High"},{role:"Growth Hacker",salary:"$70,000 - $120,000 + equity",experience:"1-3 years",skills:["Digital Marketing","SEO/SEM","Analytics","A/B Testing"],demand:"Very High"},{role:"Venture Capital Analyst",salary:"$90,000 - $140,000",experience:"2-5 years",skills:["Investment Analysis","Market Research","Financial Modeling","Due Diligence"],demand:"High"}],tips:[{category:"Business Strategy & Validation",items:["Validate your idea before building the product through customer interviews","Focus on solving real problems for real customers with strong pain points","Build an MVP to test market assumptions quickly and iterate based on feedback","Understand your target market and competition thoroughly"]},{category:"Product Development & Growth",items:["Master lean startup methodology and agile development practices","Focus on product-market fit before scaling marketing and sales","Build a strong product roadmap and prioritize features based on user value","Implement data-driven decision making and user analytics"]},{category:"Fundraising & Networking",items:["Build a strong network of industry professionals, mentors, and advisors","Understand different funding stages and investor expectations","Create compelling pitch decks and financial projections","Participate in startup communities, accelerators, and industry events"]}],usage:{industries:["Technology","FinTech","HealthTech","EdTech","CleanTech","E-commerce"],companies:["Y Combinator","Techstars","500 Startups","Andreessen Horowitz","Sequoia Capital","First Round"],applications:["Disruptive Technology Innovation","New Business Model Development","Market Gap Solutions","Scalable Product Development","Venture Capital and Investment","Entrepreneurial Ecosystem Building"]},statistics:{globalStartups:"305M+ startups worldwide",successRate:"10% reach Series A",averageExit:"$242M acquisition value",vcInvestment:"$344B globally in 2023",jobCreation:"3M+ jobs annually"},learningPath:["Business Fundamentals","Market Research & Validation","Lean Startup Methodology","Product Development","Financial Planning & Modeling","Marketing & Growth Hacking","Fundraising & Investment","Team Building & Leadership","Scaling & Operations"]},Gaming:{description:"Interactive entertainment industry encompassing video game development, esports, mobile gaming, and emerging technologies like VR/AR gaming.",currentTrends:["Cloud gaming services expanding globally with 5G infrastructure","VR/AR gaming showing promising growth with new hardware releases","Indie games gaining mainstream recognition and commercial success"],news:[{title:"Cloud Gaming Market Expansion",content:"Cloud gaming services are expanding globally, offering more accessible and convenient ways to play high-quality games.",date:"Dec 2024",importance:"high"},{title:"VR/AR Gaming Hardware Breakthrough",content:"New VR/AR hardware releases are showing promising growth in immersive gaming experiences and user adoption.",date:"Nov 2024",importance:"high"},{title:"Indie Games Commercial Success",content:"Independent games are gaining mainstream recognition with several indie titles achieving major commercial success.",date:"Oct 2024",importance:"medium"}],career:[{role:"Game Developer",salary:"$70,000 - $120,000",experience:"1-3 years",skills:["Game Programming","Unity/Unreal Engine","Game Design","Version Control"],demand:"Very High"},{role:"Game Designer",salary:"$65,000 - $110,000",experience:"1-2 years",skills:["Game Design Principles","Player Psychology","Storytelling","Prototyping"],demand:"High"},{role:"3D Artist",salary:"$60,000 - $100,000",experience:"2-5 years",skills:["3D Modeling","Texturing","Animation","Maya/Blender"],demand:"Very High"},{role:"Esports Manager",salary:"$50,000 - $90,000",experience:"1-3 years",skills:["Esports Strategy","Event Management","Team Coordination","Marketing"],demand:"High"}],tips:[{category:"Game Development Fundamentals",items:["Learn game engines like Unity or Unreal Engine for different project types","Understand game design principles, mechanics, and player psychology","Practice with small projects before tackling larger, complex games","Study successful games to understand what makes them engaging"]},{category:"Art & Technical Skills",items:["Master 3D modeling and texturing techniques using industry-standard tools","Learn game sound design and audio implementation","Understand game optimization for different platforms and devices","Practice with game art pipelines and asset creation workflows"]},{category:"Industry & Business",items:["Build a strong portfolio with playable game demos and projects","Understand game monetization models and business strategies","Network within the gaming community and attend industry events","Stay updated with gaming trends, platforms, and emerging technologies"]}],usage:{industries:["Entertainment","Education","Healthcare","Military Training","Marketing","Simulation"],companies:["Epic Games","Unity","Electronic Arts","Activision Blizzard","Ubisoft","Nintendo","Valve"],applications:["Console and PC Gaming","Mobile Gaming Applications","Virtual and Augmented Reality Games","Educational and Training Simulations","Esports and Competitive Gaming","Serious Games for Healthcare and Therapy"]},statistics:{marketSize:"$321B global revenue (2023)",playerBase:"3.38B+ gamers worldwide",jobGrowth:"11% (2021-2031)",mobileGaming:"50% of total gaming revenue",esportsRevenue:"$1.72B annually"},learningPath:["Programming Fundamentals","Game Engine Basics (Unity/Unreal)","Game Design Principles","3D Modeling & Animation","Game Physics & Mathematics","Audio & Visual Effects","Platform-Specific Development","Game Testing & Optimization","Publishing & Marketing"]},"Tech News":{description:"Latest developments, trends, and innovations in the technology industry covering emerging technologies, market analysis, and digital transformation.",currentTrends:["Quantum computing breakthroughs in error correction and practical applications","5G rollout accelerating globally with new use cases in IoT and edge computing","Cybersecurity threats evolving with AI-powered attacks and defense systems"],news:[{title:"Quantum Computing Error Correction Milestone",content:"Major breakthrough in quantum error correction enables more stable quantum computers for practical applications.",date:"Dec 2024",importance:"high"},{title:"Global 5G Infrastructure Expansion",content:"5G networks expanding globally with new applications in autonomous vehicles, smart cities, and industrial IoT.",date:"Nov 2024",importance:"high"},{title:"AI-Powered Cybersecurity Evolution",content:"Cybersecurity landscape evolving with AI-powered threats requiring advanced AI-driven defense systems.",date:"Oct 2024",importance:"medium"}],career:[{role:"Tech Journalist",salary:"$45,000 - $80,000",experience:"1-3 years",skills:["Technical Writing","Research","Communication","Industry Knowledge"],demand:"Very High"},{role:"Technology Analyst",salary:"$70,000 - $120,000",experience:"2-5 years",skills:["Market Research","Data Analysis","Technology Trends","Report Writing"],demand:"High"},{role:"Tech Content Creator",salary:"$40,000 - $100,000",experience:"1-3 years",skills:["Content Creation","SEO","Social Media","Video Production"],demand:"Very High"},{role:"Industry Research Specialist",salary:"$80,000 - $130,000",experience:"3-7 years",skills:["Research Methodology","Market Analysis","Competitive Intelligence","Strategic Planning"],demand:"High"}],tips:[{category:"Writing & Research Skills",items:["Develop strong technical writing skills for complex technology topics","Master research methodologies and fact-checking for accurate reporting","Stay updated with multiple tech news sources and industry publications","Learn to translate technical concepts for different audience levels"]},{category:"Industry Knowledge & Networking",items:["Build expertise in specific technology domains like AI, blockchain, or cybersecurity","Develop a strong network of industry professionals and sources","Attend technology conferences, events, and product launches","Follow key technology leaders and companies on social media"]},{category:"Content Creation & Distribution",items:["Master different content formats: articles, videos, podcasts, newsletters","Understand SEO and content optimization for digital platforms","Build a personal brand and thought leadership in technology topics","Learn analytics and measurement tools for content performance"]}],usage:{industries:["Media & Publishing","Technology","Finance","Consulting","Marketing","Education"],companies:["TechCrunch","The Verge","Wired","Ars Technica","Gartner","Forrester","Bloomberg"],applications:["Technology News Reporting and Analysis","Market Research and Industry Reports","Technology Investment Analysis","Digital Transformation Consulting","Technology Education and Training","Product Launch and Marketing Support"]},statistics:{newsConsumption:"78% read tech news daily",influencerReach:"45M+ tech news followers",reportingSpeed:"News cycles under 4 hours",marketImpact:"25% stock movement on major tech news",globalReach:"195+ countries tech news coverage"},learningPath:["Journalism & Writing Fundamentals","Technology Industry Overview","Research & Fact-Checking Methods","Digital Content Creation","SEO & Content Marketing","Data Analysis & Visualization","Social Media & Community Building","Industry Networking & Source Development","Specialized Technology Domains"]}},tB=({isOpen:t,onClose:e,topic:n})=>{const[r,s]=x.useState("overview"),i=eB[n];return i?g.jsx(hu,{open:t,onOpenChange:e,children:g.jsxs(Ya,{className:"bg-gray-900 border-gray-700 text-white max-w-6xl max-h-[90vh] overflow-y-auto",children:[g.jsxs(Ja,{children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl flex items-center justify-center",children:g.jsx(D2,{className:"h-6 w-6 text-white"})}),g.jsxs("div",{children:[g.jsx(Xa,{className:"text-4xl font-bold text-orange-500",children:n}),g.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-400",children:[g.jsxs("div",{className:"flex items-center space-x-1",children:[g.jsx(U2,{className:"h-4 w-4"}),g.jsx("span",{children:Object.values(i.statistics)[0]})]}),g.jsxs("div",{className:"flex items-center space-x-1",children:[g.jsx(ed,{className:"h-4 w-4"}),g.jsx("span",{children:"Trending"})]}),g.jsxs("div",{className:"flex items-center space-x-1",children:[g.jsx(O2,{className:"h-4 w-4"}),g.jsx("span",{children:"Updated Dec 2024"})]})]})]})]}),g.jsx(dt,{variant:"ghost",size:"icon",onClick:e,className:"text-gray-400 hover:text-white",children:g.jsx(pv,{className:"h-6 w-6"})})]}),g.jsx("p",{className:"text-gray-300 text-lg mt-4 leading-relaxed",children:i.description})]}),g.jsxs(Z9,{value:r,onValueChange:s,className:"mt-6",children:[g.jsxs(oP,{className:"grid w-full grid-cols-6 bg-gray-800",children:[g.jsxs(Pi,{value:"overview",className:"flex items-center gap-2",children:[g.jsx(L2,{className:"h-4 w-4"}),"Overview"]}),g.jsxs(Pi,{value:"news",className:"flex items-center gap-2",children:[g.jsx(P2,{className:"h-4 w-4"}),"News"]}),g.jsxs(Pi,{value:"career",className:"flex items-center gap-2",children:[g.jsx(R2,{className:"h-4 w-4"}),"Career"]}),g.jsxs(Pi,{value:"tips",className:"flex items-center gap-2",children:[g.jsx(M2,{className:"h-4 w-4"}),"Learning"]}),g.jsxs(Pi,{value:"usage",children:[g.jsx(fv,{className:"h-4 w-4 mr-1"}),"Usage"]}),g.jsxs(Pi,{value:"trends",children:[g.jsx(ed,{className:"h-4 w-4 mr-1"}),"Trends"]})]}),g.jsx(Ri,{value:"overview",className:"mt-6",children:g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl",children:[g.jsx("h3",{className:"text-xl font-semibold mb-4 text-orange-400",children:"Market Statistics"}),g.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(i.statistics).map(([o,a])=>g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-2xl font-bold text-green-400",children:String(a)}),g.jsx("div",{className:"text-sm text-gray-400 capitalize",children:o.replace(/([A-Z])/g," $1")})]},o))})]}),g.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl",children:[g.jsx("h3",{className:"text-xl font-semibold mb-4 text-orange-400",children:"Learning Path"}),g.jsx("div",{className:"space-y-2",children:i.learningPath.map((o,a)=>g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center text-sm font-semibold",children:a+1}),g.jsx("span",{className:"text-gray-200",children:o})]},a))})]})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl",children:[g.jsxs("h3",{className:"text-xl font-semibold mb-4 text-orange-400",children:["Top Companies Using ",n]}),g.jsx("div",{className:"grid grid-cols-2 gap-3",children:i.usage.companies.map((o,a)=>g.jsx("div",{className:"bg-gray-700 p-3 rounded-lg text-center font-medium",children:o},a))})]}),g.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl",children:[g.jsx("h3",{className:"text-xl font-semibold mb-4 text-orange-400",children:"Key Applications"}),g.jsx("div",{className:"space-y-3",children:i.usage.applications.map((o,a)=>g.jsxs("div",{className:"flex items-start space-x-3",children:[g.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2 flex-shrink-0"}),g.jsx("span",{className:"text-gray-200",children:o})]},a))})]})]})]})}),g.jsx(Ri,{value:"news",className:"mt-6",children:g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"bg-gradient-to-r from-orange-500/10 to-red-500/10 p-6 rounded-xl border border-orange-500/20",children:[g.jsx("h3",{className:"text-xl font-semibold mb-4 text-orange-400",children:"Current Trends"}),g.jsx("div",{className:"grid gap-3",children:i.currentTrends.map((o,a)=>g.jsxs("div",{className:"flex items-start space-x-3",children:[g.jsx(ed,{className:"h-5 w-5 text-orange-400 mt-0.5 flex-shrink-0"}),g.jsx("span",{className:"text-gray-200",children:o})]},a))})]}),g.jsx("div",{className:"grid gap-6",children:i.news.map((o,a)=>g.jsxs("div",{className:`bg-gray-800 p-6 rounded-xl border-l-4 ${o.importance==="high"?"border-red-500":"border-yellow-500"}`,children:[g.jsxs("div",{className:"flex items-start justify-between mb-3",children:[g.jsx("h4",{className:"text-lg font-semibold text-white",children:o.title}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${o.importance==="high"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:o.importance.toUpperCase()}),g.jsx("span",{className:"text-sm text-gray-400",children:o.date})]})]}),g.jsx("p",{className:"text-gray-300 leading-relaxed",children:o.content})]},a))})]})}),g.jsx(Ri,{value:"career",className:"mt-6",children:g.jsx("div",{className:"grid gap-6",children:i.career.map((o,a)=>g.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl",children:[g.jsxs("div",{className:"flex items-start justify-between mb-4",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"text-xl font-semibold text-white",children:o.role}),g.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-400",children:[g.jsxs("span",{children:["Experience: ",o.experience]}),g.jsxs("span",{className:`px-2 py-1 rounded-full ${o.demand==="Extremely High"?"bg-red-500/20 text-red-400":o.demand==="Very High"?"bg-orange-500/20 text-orange-400":"bg-green-500/20 text-green-400"}`,children:[o.demand," Demand"]})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("div",{className:"text-2xl font-bold text-green-400",children:o.salary}),g.jsx("div",{className:"text-sm text-gray-400",children:"Annual Salary"})]})]}),g.jsxs("div",{children:[g.jsx("h5",{className:"text-sm font-semibold text-orange-400 mb-2",children:"Required Skills:"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:o.skills.map((l,u)=>g.jsx("span",{className:"bg-gray-700 px-3 py-1 rounded-full text-sm",children:l},u))})]})]},a))})}),g.jsx(Ri,{value:"tips",className:"mt-6",children:g.jsx("div",{className:"space-y-6",children:i.tips.map((o,a)=>g.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl",children:[g.jsx("h3",{className:"text-xl font-semibold mb-4 text-orange-400",children:o.category}),g.jsx("div",{className:"space-y-3",children:o.items.map((l,u)=>g.jsxs("div",{className:"flex items-start space-x-3",children:[g.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded-full flex items-center justify-center text-sm font-semibold text-white flex-shrink-0",children:u+1}),g.jsx("p",{className:"text-gray-200 leading-relaxed",children:l})]},u))})]},a))})}),g.jsx(Ri,{value:"usage",className:"mt-6",children:g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl",children:[g.jsx("h3",{className:"text-xl font-semibold mb-4 text-orange-400",children:"Industries"}),g.jsx("div",{className:"grid grid-cols-2 gap-3",children:i.usage.industries.map((o,a)=>g.jsx("div",{className:"bg-gray-700 p-3 rounded-lg text-center",children:o},a))})]}),g.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl",children:[g.jsx("h3",{className:"text-xl font-semibold mb-4 text-orange-400",children:"Real-World Applications"}),g.jsx("div",{className:"space-y-3",children:i.usage.applications.map((o,a)=>g.jsxs("div",{className:"flex items-start space-x-3",children:[g.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2 flex-shrink-0"}),g.jsx("span",{className:"text-gray-200",children:o})]},a))})]})]})}),g.jsx(Ri,{value:"trends",className:"mt-6",children:g.jsxs("div",{className:"bg-gradient-to-br from-orange-500/10 to-purple-500/10 p-6 rounded-xl border border-orange-500/20",children:[g.jsx("h3",{className:"text-2xl font-semibold mb-6 text-orange-400",children:"Latest Trends & Developments"}),g.jsx("div",{className:"space-y-4",children:i.currentTrends.map((o,a)=>g.jsx("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-gray-700",children:g.jsxs("div",{className:"flex items-start space-x-3",children:[g.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center flex-shrink-0",children:g.jsx(ed,{className:"h-4 w-4 text-white"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-200 leading-relaxed",children:o}),g.jsx("div",{className:"mt-2 text-xs text-gray-400",children:"Impact: High • Relevance: Current"})]})]})},a))})]})})]})]})}):null},nB=()=>{const[t,e]=x.useState(!1),[n,r]=x.useState(!1),[s,i]=x.useState(!1),[o,a]=x.useState(null);$a();const l=()=>{r(!0)},u=f=>{a(f)},d=()=>{e(!1),i(!0)},h=()=>{i(!1),e(!0)};return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-gray-800 text-white relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_20%_50%,rgba(120,119,198,0.1),transparent)] opacity-50"}),g.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_80%_20%,rgba(255,107,53,0.1),transparent)] opacity-50"}),g.jsxs("nav",{className:"relative z-10 flex items-center justify-between p-6 lg:p-8",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:g.jsx("span",{className:"text-white font-bold text-lg",children:"∞"})}),g.jsx("span",{className:"text-2xl font-bold",children:"Interstia"})]}),g.jsxs("div",{className:"flex space-x-4",children:[g.jsx(dt,{variant:"outline",className:"border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white transition-all duration-300",onClick:()=>e(!0),children:"Log in"}),g.jsx(dt,{className:"bg-orange-500 hover:bg-orange-600 text-white transition-all duration-300 transform hover:scale-105",onClick:()=>r(!0),children:"Sign up"})]})]}),g.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-[80vh] px-6 text-center",children:[g.jsx("h1",{className:"text-4xl lg:text-6xl xl:text-7xl font-bold mb-6 bg-gradient-to-r from-white via-gray-200 to-orange-400 bg-clip-text text-transparent animate-fade-in",children:"Join groups based on your interests, share ideas, and connect!"}),g.jsx("p",{className:"text-xl lg:text-2xl text-gray-300 mb-12 max-w-3xl animate-fade-in",style:{animationDelay:"0.2s"},children:"Start your journey to explore new communities!"}),g.jsx(dt,{size:"lg",className:"bg-orange-500 hover:bg-orange-600 text-white text-lg px-8 py-4 rounded-xl transition-all duration-300 transform hover:scale-105 animate-fade-in shadow-2xl shadow-orange-500/25",style:{animationDelay:"0.4s"},onClick:l,children:"Get Started"})]}),g.jsx("div",{className:"relative z-10 px-6 pb-16",children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Trending Topics"}),g.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:["React","AI/ML","Web3","DevOps","Design","Startup","Gaming","Tech News"].map((f,m)=>g.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-xl p-6 text-center hover:border-orange-500 transition-all duration-300 transform hover:scale-105 animate-fade-in cursor-pointer",style:{animationDelay:`${.6+m*.1}s`},onClick:()=>u(f),children:g.jsx("span",{className:"text-lg font-semibold",children:f})},f))})]})}),g.jsx(k9,{isOpen:t,onClose:()=>e(!1),onSwitchToSignup:()=>{e(!1),r(!0)},onForgotPassword:d}),g.jsx(L9,{isOpen:n,onClose:()=>r(!1),onSwitchToLogin:()=>{r(!1),e(!0)}}),g.jsx(M9,{isOpen:s,onClose:()=>i(!1),onBackToLogin:h}),g.jsx(tB,{isOpen:!!o,onClose:()=>a(null),topic:o||""})]})},Yf=x.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:ke("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Yf.displayName="Card";const R0=x.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:ke("flex flex-col space-y-1.5 p-6",t),...e}));R0.displayName="CardHeader";const N0=x.forwardRef(({className:t,...e},n)=>g.jsx("h3",{ref:n,className:ke("text-2xl font-semibold leading-none tracking-tight",t),...e}));N0.displayName="CardTitle";const aP=x.forwardRef(({className:t,...e},n)=>g.jsx("p",{ref:n,className:ke("text-sm text-muted-foreground",t),...e}));aP.displayName="CardDescription";const O0=x.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:ke("p-6 pt-0",t),...e}));O0.displayName="CardContent";const rB=x.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:ke("flex items-center p-6 pt-0",t),...e}));rB.displayName="CardFooter";const sB=uf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function iB({className:t,variant:e,...n}){return g.jsx("div",{className:ke(sB({variant:e}),t),...n})}const lP=x.forwardRef(({className:t,...e},n)=>g.jsx("textarea",{className:ke("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));lP.displayName="Textarea";async function oB(){try{const t=Fc(Mr,"communities"),e=HA(t,WA("created_at","desc"));return{data:(await u5(e)).docs.map(s=>({...s.data(),id:s.id})),error:null}}catch(t){return{data:null,error:t}}}async function aB({name:t,description:e,creatorId:n}){try{const r=await T0(Fc(Mr,"communities"),{name:t,description:e,creator:n,created_at:new Date().toISOString()}),s=await E0(r);return{data:{...s.data(),id:s.id},error:null}}catch(r){return{data:null,error:r}}}const lB=({isOpen:t,onClose:e,onCommunityCreated:n,currentUser:r})=>{const[s,i]=x.useState({name:"",description:""}),[o,a]=x.useState(!1),{toast:l}=ci(),u=async d=>{if(d.preventDefault(),a(!0),s.name.trim().length<3){l({title:"Invalid name",description:"Community name must be at least 3 characters long",variant:"destructive"}),a(!1);return}if(!(r!=null&&r.id)){l({title:"Invalid user",description:"Please log in again.",variant:"destructive"}),a(!1);return}const{data:h,error:f}=await aB({name:s.name.trim(),description:s.description.trim(),creatorId:r.id});if(f){l({title:"Failed to create community",description:f.message,variant:"destructive"}),a(!1);return}l({title:"Community created!",description:"Your community has been created successfully"}),n(h),e(),i({name:"",description:""}),a(!1)};return g.jsx(hu,{open:t,onOpenChange:e,children:g.jsxs(Ya,{className:"bg-gray-900 border-gray-700 text-white max-w-md",children:[g.jsx(Ja,{children:g.jsx(Xa,{className:"text-2xl font-bold text-center",children:"Create Community"})}),g.jsxs("form",{onSubmit:u,className:"space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(an,{htmlFor:"name",children:"Community Name *"}),g.jsx(Hn,{id:"name",type:"text",value:s.name,onChange:d=>i(h=>({...h,name:d.target.value})),className:"bg-gray-800 border-gray-600 text-white",placeholder:"Enter a unique community name",required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(an,{htmlFor:"description",children:"Description"}),g.jsx(lP,{id:"description",value:s.description,onChange:d=>i(h=>({...h,description:d.target.value})),className:"bg-gray-800 border-gray-600 text-white",placeholder:"Describe what your community is about",rows:3})]}),g.jsxs("div",{className:"flex space-x-3",children:[g.jsx(dt,{type:"button",variant:"outline",onClick:e,className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-700",disabled:o,children:"Cancel"}),g.jsx(dt,{type:"submit",className:"flex-1 bg-orange-500 hover:bg-orange-600",disabled:o,children:o?"Creating...":"Create"})]})]})]})})},cB=()=>{const[t,e]=x.useState([]),[n,r]=x.useState(!1),[s,i]=x.useState(!0),o=$a(),{toast:a}=ci(),{user:l,profile:u,signOut:d,updateProfile:h,loading:f,logActivity:m}=du();x.useEffect(()=>{if(!f&&!l){o("/");return}l&&m("page_visit",{page:"communities"}),i(!0),oB().then(({data:y,error:b})=>{b?a({title:"Unable to fetch communities",description:b.message,variant:"destructive"}):e(y||[]),i(!1)})},[o,l,f,m,a]);const T=async()=>{const{error:y}=await d();y?a({title:"Error logging out",description:y.message,variant:"destructive"}):(a({title:"Logged out successfully",description:"See you next time!"}),o("/"))},w=async y=>{if(!u)return;const b=u.communities||[];if(!b.includes(y)){const C=[...b,y],{error:D}=await h({communities:C});D?a({title:"Error joining community",description:D.message,variant:"destructive"}):(await m("community_join",{community_id:y}),a({title:"Joined community!",description:"You can now participate in discussions"}))}},E=async y=>{await m("community_visit",{community_id:y.id,community_name:y.name}),o(`/community/${y.id}`,{state:{community:y}})},_=y=>{var b;return((b=u==null?void 0:u.communities)==null?void 0:b.includes(y))||!1};return f||s?g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-gray-800 text-white flex items-center justify-center",children:g.jsx("div",{children:"Loading..."})}):!l||!u?g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-gray-800 text-white flex items-center justify-center",children:g.jsx("div",{children:"Please log in to access communities"})}):g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-gray-800 text-white",children:[g.jsx("header",{className:"border-b border-gray-700 bg-gray-900/50 backdrop-blur-sm",children:g.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:g.jsx("span",{className:"text-white font-bold text-lg",children:"∞"})}),g.jsx("h1",{className:"text-2xl font-bold",children:"Interstia Communities"})]}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsxs("span",{className:"text-gray-300",children:["Welcome, ",(u==null?void 0:u.username)||(l==null?void 0:l.email),"!"]}),g.jsxs(dt,{variant:"outline",size:"sm",onClick:T,className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[g.jsx(j2,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}),g.jsxs("div",{className:"container mx-auto px-6 py-8",children:[g.jsxs("div",{className:"flex justify-between items-center mb-8",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Discover Communities"}),g.jsx("p",{className:"text-gray-400",children:"Join communities that match your interests"})]}),g.jsxs(dt,{onClick:()=>r(!0),className:"bg-orange-500 hover:bg-orange-600",children:[g.jsx(V2,{className:"w-4 h-4 mr-2"}),"Create Community"]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(y=>g.jsxs(Yf,{className:"bg-gray-800/50 border-gray-700 hover:border-orange-500 transition-all duration-300 transform hover:scale-105",children:[g.jsx(R0,{children:g.jsxs("div",{className:"flex items-start justify-between",children:[g.jsxs("div",{children:[g.jsx(N0,{className:"text-white text-lg",children:y.name}),g.jsx(aP,{className:"text-gray-400 mt-2",children:y.description})]}),g.jsx(iB,{variant:"secondary",className:"bg-orange-500/20 text-orange-400",children:"Community"})]})}),g.jsxs(O0,{children:[g.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400 mb-4",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx(fv,{className:"w-4 h-4 mr-1"}),_(y.id)?"1+":"?"," members"]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx(gI,{className:"w-4 h-4 mr-1"}),"?"]})]}),g.jsx("div",{className:"flex space-x-2",children:_(y.id)?g.jsx(dt,{onClick:()=>E(y),className:"flex-1 bg-green-600 hover:bg-green-700",children:"Enter"}):g.jsx(dt,{onClick:()=>w(y.id),variant:"outline",className:"flex-1 border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white",children:"Join"})})]})]},y.id))})]}),g.jsx(lB,{isOpen:n,onClose:()=>r(!1),onCommunityCreated:async y=>{e(b=>[...b,y]),await w(y.id),await m("community_create",{community_id:y.id,community_name:y.name})},currentUser:u})]})},uB=()=>{const{id:t}=Nj(),e=Xc(),n=$a(),{toast:r}=ci(),{user:s,profile:i,loading:o,logActivity:a}=du(),[l,u]=x.useState(null),[d,h]=x.useState([]),[f,m]=x.useState(""),T=x.useRef(null),[w,E]=x.useState(!0);x.useEffect(()=>{var I,S;if(!o&&!s){n("/");return}if(!i)return;const C=(I=e.state)==null?void 0:I.community;if(C?(u(C),E(!1)):(async()=>{try{const P=ec(Mr,"communities",t||""),N=await E0(P);N.exists()?u(N.data()):(r({title:"Community not found",description:"The requested community does not exist.",variant:"destructive"}),n("/communities"))}catch(P){r({title:"Error fetching community",description:P.message,variant:"destructive"}),n("/communities")}finally{E(!1)}})(),!((S=i.communities)!=null&&S.includes(t||""))){r({title:"Access denied",description:"You must join this community first",variant:"destructive"}),n("/communities");return}s&&C&&a("chat_visit",{community_id:t,community_name:C.name});const D=HA(Fc(Mr,"community_chats"),a5("communityId","==",t),WA("timestamp","asc")),L=f5(D,k=>{const P=[];k.forEach(N=>{P.push({id:N.id,...N.data()})}),h(P)},k=>{console.error("Error fetching messages:",k),r({title:"Error loading messages",description:k.message,variant:"destructive"})});return()=>L()},[t,e.state,n,r,s,i,o,a]),x.useEffect(()=>{var C;(C=T.current)==null||C.scrollIntoView({behavior:"smooth"})},[d]);const _=async C=>{if(C.preventDefault(),!f.trim()||!i)return;const D={text:f.trim(),sender:i.username||(s==null?void 0:s.email)||"Anonymous",senderId:s==null?void 0:s.uid,communityId:t,timestamp:p5()};try{await T0(Fc(Mr,"community_chats"),D),await a("message_send",{community_id:t,community_name:l==null?void 0:l.name,message_length:f.trim().length}),m("")}catch(L){console.error("Error sending message:",L),r({title:"Error sending message",description:L.message,variant:"destructive"})}},y=C=>C?(C.toDate?C.toDate():new Date(C)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",b=C=>C?(C.toDate?C.toDate():new Date(C)).toLocaleDateString():"";return o||w?g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-gray-800 text-white flex items-center justify-center",children:g.jsx("div",{children:"Loading..."})}):!s||!i||!l?g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-gray-800 text-white flex items-center justify-center",children:g.jsx("div",{children:"Loading..."})}):g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-gray-800 text-white flex flex-col",children:[g.jsx("header",{className:"border-b border-gray-700 bg-gray-900/50 backdrop-blur-sm",children:g.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsxs(dt,{variant:"ghost",size:"sm",onClick:()=>n("/communities"),className:"text-gray-300 hover:bg-gray-700",children:[g.jsx(k2,{className:"w-4 h-4 mr-2"}),"Back"]}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-xl font-bold",children:l.name}),g.jsx("p",{className:"text-sm text-gray-400",children:l.description})]})]}),g.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[g.jsx(fv,{className:"w-4 h-4 mr-1"}),l.members," members"]})]})}),g.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:g.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[d.length===0?g.jsxs("div",{className:"text-center text-gray-400 py-12",children:[g.jsx(gI,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),g.jsx("p",{children:"No messages yet. Start the conversation!"})]}):d.map((C,D)=>{const L=D===0||b(C.timestamp)!==b(d[D-1].timestamp);return g.jsxs("div",{children:[L&&g.jsx("div",{className:"text-center text-xs text-gray-500 my-6",children:b(C.timestamp)}),g.jsxs(Yf,{className:`p-4 max-w-md ${C.senderId===(s==null?void 0:s.uid)?"ml-auto bg-orange-500/20 border-orange-500/30":"bg-gray-800/50 border-gray-700"}`,children:[g.jsxs("div",{className:"flex items-start justify-between mb-2",children:[g.jsx("span",{className:"font-semibold text-sm",children:C.senderId===(s==null?void 0:s.uid)?"You":C.sender}),g.jsx("span",{className:"text-xs text-gray-400",children:y(C.timestamp)})]}),g.jsx("p",{className:"text-white",children:C.text})]})]},C.id)}),g.jsx("div",{ref:T})]})}),g.jsx("div",{className:"border-t border-gray-700 bg-gray-900/50 backdrop-blur-sm p-6",children:g.jsx("form",{onSubmit:_,className:"max-w-4xl mx-auto",children:g.jsxs("div",{className:"flex space-x-4",children:[g.jsx(Hn,{value:f,onChange:C=>m(C.target.value),placeholder:"Type your message...",className:"flex-1 bg-gray-800 border-gray-600 text-white"}),g.jsx(dt,{type:"submit",className:"bg-orange-500 hover:bg-orange-600",disabled:!f.trim(),children:g.jsx(F2,{className:"w-4 h-4"})})]})})})]})},dB="modulepreload",hB=function(t){return"/"+t},nT={},pu=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=hB(l),l in nT)return;nT[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":dB,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},fB=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>pu(async()=>{const{default:r}=await Promise.resolve().then(()=>Za);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class D0 extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class pB extends D0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class mB extends D0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class gB extends D0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var iy;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(iy||(iy={}));var yB=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class vB{constructor(e,{headers:n={},customFetch:r,region:s=iy.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=fB(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return yB(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(T=>{throw new pB(T)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new mB(d);if(!d.ok)throw new gB(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield d.json():f==="application/octet-stream"?m=yield d.blob():f==="text/event-stream"?m=d:f==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var Yt={},L0={},Jf={},mu={},Xf={},Zf={},wB=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Oa=wB();const _B=Oa.fetch,cP=Oa.fetch.bind(Oa),uP=Oa.Headers,EB=Oa.Request,bB=Oa.Response,Za=Object.freeze(Object.defineProperty({__proto__:null,Headers:uP,Request:EB,Response:bB,default:cP,fetch:_B},Symbol.toStringTag,{value:"Module"})),TB=rR(Za);var ep={};Object.defineProperty(ep,"__esModule",{value:!0});let xB=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ep.default=xB;var dP=Sn&&Sn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zf,"__esModule",{value:!0});const SB=dP(TB),IB=dP(ep);let CB=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=SB.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,d=null,h=null,f=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const _=await i.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=_:d=JSON.parse(_))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),E=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&E&&E.length>1&&(h=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,m="OK")}catch{i.status===404&&w===""?(f=204,m="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&this.shouldThrowOnError)throw new IB.default(u)}return{error:u,data:d,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Zf.default=CB;var AB=Sn&&Sn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xf,"__esModule",{value:!0});const kB=AB(Zf);let PB=class extends kB.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Xf.default=PB;var RB=Sn&&Sn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mu,"__esModule",{value:!0});const NB=RB(Xf);let OB=class extends NB.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};mu.default=OB;var DB=Sn&&Sn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jf,"__esModule",{value:!0});const Sl=DB(mu);let LB=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Sl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Sl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Sl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Sl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Sl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Jf.default=LB;var tp={},np={};Object.defineProperty(np,"__esModule",{value:!0});np.version=void 0;np.version="0.0.0-automated";Object.defineProperty(tp,"__esModule",{value:!0});tp.DEFAULT_HEADERS=void 0;const MB=np;tp.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${MB.version}`};var hP=Sn&&Sn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(L0,"__esModule",{value:!0});const jB=hP(Jf),VB=hP(mu),FB=tp;let UB=class fP{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},FB.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new jB.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new fP(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new VB.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};L0.default=UB;var el=Sn&&Sn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.PostgrestError=Yt.PostgrestBuilder=Yt.PostgrestTransformBuilder=Yt.PostgrestFilterBuilder=Yt.PostgrestQueryBuilder=Yt.PostgrestClient=void 0;const pP=el(L0);Yt.PostgrestClient=pP.default;const mP=el(Jf);Yt.PostgrestQueryBuilder=mP.default;const gP=el(mu);Yt.PostgrestFilterBuilder=gP.default;const yP=el(Xf);Yt.PostgrestTransformBuilder=yP.default;const vP=el(Zf);Yt.PostgrestBuilder=vP.default;const wP=el(ep);Yt.PostgrestError=wP.default;var $B=Yt.default={PostgrestClient:pP.default,PostgrestQueryBuilder:mP.default,PostgrestFilterBuilder:gP.default,PostgrestTransformBuilder:yP.default,PostgrestBuilder:vP.default,PostgrestError:wP.default};const{PostgrestClient:BB,PostgrestQueryBuilder:e7,PostgrestFilterBuilder:t7,PostgrestTransformBuilder:n7,PostgrestBuilder:r7,PostgrestError:s7}=$B;let oy;typeof window>"u"?oy=require("ws"):oy=window.WebSocket;const zB="2.11.10",HB={"X-Client-Info":`realtime-js/${zB}`},WB="1.0.0",_P=1e4,qB=1e3;var oa;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(oa||(oa={}));var jt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(jt||(jt={}));var Vn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Vn||(Vn={}));var ay;(function(t){t.websocket="websocket"})(ay||(ay={}));var Oi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Oi||(Oi={}));class GB{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class EP{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Oe||(Oe={}));const rT=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=KB(o,t,e,s),i),{})},KB=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?bP(i,o):ly(o)},bP=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return XB(e,n)}switch(t){case Oe.bool:return QB(e);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return YB(e);case Oe.json:case Oe.jsonb:return JB(e);case Oe.timestamp:return ZB(e);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return ly(e);default:return ly(e)}},ly=t=>t,QB=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},YB=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},JB=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},XB=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>bP(e,a))}return t},ZB=t=>typeof t=="string"?t.replace(" ","T"):t,TP=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class vm{constructor(e,n,r={},s=_P){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var sT;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(sT||(sT={}));class tc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=tc.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=tc.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=tc.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(E=>E.presence_ref),m=h.map(E=>E.presence_ref),T=d.filter(E=>m.indexOf(E.presence_ref)<0),w=h.filter(E=>f.indexOf(E.presence_ref)<0);T.length>0&&(a[u]=T),w.length>0&&(l[u]=w)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);e[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var iT;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(iT||(iT={}));var oT;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(oT||(oT={}));var kr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(kr||(kr={}));class M0{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new vm(this,Vn.join,this.params,this.timeout),this.rejoinTimer=new EP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vn.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new tc(this),this.broadcastEndpointURL=TP(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>e==null?void 0:e(kr.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(kr.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(kr.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,T=[];for(let w=0;w<m;w++){const E=f[w],{filter:{event:_,schema:y,table:b,filter:C}}=E,D=d&&d[w];if(D&&D.event===_&&D.schema===y&&D.table===b&&D.filter===C)T.push(Object.assign(Object.assign({},E),{id:D.id}));else{this.unsubscribe(),this.state=jt.errored,e==null||e(kr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(kr.SUBSCRIBED);return}}).receive("error",d=>{this.state=jt.errored,e==null||e(kr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(kr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=jt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vn.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new vm(this,Vn.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new vm(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=Vn;if(r&&[a,l,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var T,w,E;return((T=m.filter)===null||T===void 0?void 0:T.event)==="*"||((E=(w=m.filter)===null||w===void 0?void 0:w.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===o}).map(m=>m.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var T,w,E,_,y,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const C=m.id,D=(T=m.filter)===null||T===void 0?void 0:T.event;return C&&((w=n.ids)===null||w===void 0?void 0:w.includes(C))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const C=(y=(_=m==null?void 0:m.filter)===null||_===void 0?void 0:_.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return C==="*"||C===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const T=f.data,{schema:w,table:E,commit_timestamp:_,type:y,errors:b}=T;f=Object.assign(Object.assign({},{schema:w,table:E,commit_timestamp:_,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(T))}m.callback(f,r)})}_isClosed(){return this.state===jt.closed}_isJoined(){return this.state===jt.joined}_isJoining(){return this.state===jt.joining}_isLeaving(){return this.state===jt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&M0.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Vn.close,{},e)}_onError(e){this._on(Vn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=rT(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=rT(e.columns,e.old_record)),n}}const aT=()=>{},ez=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tz{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=HB,this.params={},this.timeout=_P,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=aT,this.ref=0,this.logger=aT,this.conn=null,this.sendBuffer=[],this.serializer=new GB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>pu(async()=>{const{default:l}=await Promise.resolve().then(()=>Za);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${ay.websocket}`,this.httpEndpoint=TP(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new EP(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=oy),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new nz(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:WB}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case oa.connecting:return Oi.Connecting;case oa.open:return Oi.Open;case oa.closing:return Oi.Closing;default:return Oi.Closed}}isConnected(){return this.connectionState()===Oi.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new M0(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Vn.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(qB,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Vn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([ez],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class nz{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=oa.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class j0 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function lt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class rz extends j0{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class cy extends j0{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var sz=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const xP=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>pu(async()=>{const{default:r}=await Promise.resolve().then(()=>Za);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},iz=()=>sz(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pu(()=>Promise.resolve().then(()=>Za),void 0)).Response:Response}),uy=t=>{if(Array.isArray(t))return t.map(n=>uy(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=uy(r)}),e};var uo=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const wm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),oz=(t,e,n)=>uo(void 0,void 0,void 0,function*(){const r=yield iz();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new rz(wm(s),t.status||500))}).catch(s=>{e(new cy(wm(s),s))}):e(new cy(wm(t),t))}),az=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function gu(t,e,n,r,s,i){return uo(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,az(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>oz(l,a,r))})})}function Bh(t,e,n,r){return uo(this,void 0,void 0,function*(){return gu(t,"GET",e,n,r)})}function vs(t,e,n,r,s){return uo(this,void 0,void 0,function*(){return gu(t,"POST",e,r,s,n)})}function lz(t,e,n,r,s){return uo(this,void 0,void 0,function*(){return gu(t,"PUT",e,r,s,n)})}function cz(t,e,n,r){return uo(this,void 0,void 0,function*(){return gu(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function SP(t,e,n,r,s){return uo(this,void 0,void 0,function*(){return gu(t,"DELETE",e,r,s,n)})}var qt=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const uz={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dz{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=xP(s)}uploadOrUpdate(e,n,r,s){return qt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},lT),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(lt(i))return{data:null,error:i};throw i}})}upload(e,n,r){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return qt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:lT.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(lt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return qt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield vs(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new j0("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}update(e,n,r){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return qt(this,void 0,void 0,function*(){try{return{data:yield vs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(lt(s))return{data:null,error:s};throw s}})}copy(e,n,r){return qt(this,void 0,void 0,function*(){try{return{data:{path:(yield vs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(lt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return qt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield vs(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(lt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return qt(this,void 0,void 0,function*(){try{const s=yield vs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(lt(s))return{data:null,error:s};throw s}})}download(e,n){return qt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Bh(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(lt(a))return{data:null,error:a};throw a}})}info(e){return qt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Bh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:uy(r),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}exists(e){return qt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield cz(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(lt(r)&&r instanceof cy){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return qt(this,void 0,void 0,function*(){try{return{data:yield SP(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}})}list(e,n,r){return qt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},uz),n),{prefix:e||""});return{data:yield vs(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(lt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const hz="2.7.1",fz={"X-Client-Info":`storage-js/${hz}`};var xo=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class pz{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},fz),n),this.fetch=xP(r)}listBuckets(){return xo(this,void 0,void 0,function*(){try{return{data:yield Bh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(lt(e))return{data:null,error:e};throw e}})}getBucket(e){return xo(this,void 0,void 0,function*(){try{return{data:yield Bh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return xo(this,void 0,void 0,function*(){try{return{data:yield vs(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return xo(this,void 0,void 0,function*(){try{return{data:yield lz(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return xo(this,void 0,void 0,function*(){try{return{data:yield vs(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return xo(this,void 0,void 0,function*(){try{return{data:yield SP(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}})}}class mz extends pz{constructor(e,n={},r){super(e,n,r)}from(e){return new dz(this.url,this.headers,e,this.fetch)}}const gz="2.50.0";let Ml="";typeof Deno<"u"?Ml="deno":typeof document<"u"?Ml="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ml="react-native":Ml="node";const yz={"X-Client-Info":`supabase-js-${Ml}/${gz}`},vz={headers:yz},wz={schema:"public"},_z={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ez={};var bz=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Tz=t=>{let e;return t?e=t:typeof fetch>"u"?e=cP:e=fetch,(...n)=>e(...n)},xz=()=>typeof Headers>"u"?uP:Headers,Sz=(t,e,n)=>{const r=Tz(n),s=xz();return(i,o)=>bz(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Iz=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function Cz(t){return t.endsWith("/")?t:t+"/"}function Az(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Iz(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const IP="2.70.0",Oo=30*1e3,dy=3,_m=dy*Oo,kz="http://localhost:9999",Pz="supabase.auth.token",Rz={"X-Client-Info":`gotrue-js/${IP}`},hy="X-Supabase-Api-Version",CP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Nz=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Oz=6e5;class V0 extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ue(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Dz extends V0{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Lz(t){return ue(t)&&t.name==="AuthApiError"}class AP extends V0{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class gi extends V0{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class ms extends gi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Mz(t){return ue(t)&&t.name==="AuthSessionMissingError"}class pd extends gi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class md extends gi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class gd extends gi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jz(t){return ue(t)&&t.name==="AuthImplicitGrantRedirectError"}class cT extends gi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fy extends gi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Em(t){return ue(t)&&t.name==="AuthRetryableFetchError"}class uT extends gi{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class nc extends gi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const zh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dT=` 	
\r=`.split(""),Vz=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<dT.length;e+=1)t[dT[e].charCodeAt(0)]=-2;for(let e=0;e<zh.length;e+=1)t[zh[e].charCodeAt(0)]=e;return t})();function hT(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(zh[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(zh[r]),e.queuedBits-=6}}function kP(t,e,n){const r=Vz[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function fT(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{$z(o,r,n)};for(let o=0;o<t.length;o+=1)kP(t.charCodeAt(o),s,i);return e.join("")}function Fz(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Uz(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Fz(r,e)}}function $z(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Bz(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)kP(t.charCodeAt(s),n,r);return new Uint8Array(e)}function zz(t){const e=[];return Uz(t,n=>e.push(n)),new Uint8Array(e)}function Hz(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>hT(s,n,r)),hT(null,n,r),e.join("")}function Wz(t){return Math.round(Date.now()/1e3)+t}function qz(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Nn=()=>typeof window<"u"&&typeof document<"u",Ii={tested:!1,writable:!1},rc=()=>{if(!Nn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ii.tested)return Ii.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ii.tested=!0,Ii.writable=!0}catch{Ii.tested=!0,Ii.writable=!1}return Ii.writable};function Gz(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const PP=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>pu(async()=>{const{default:r}=await Promise.resolve().then(()=>Za);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Kz=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",RP=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},yd=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},vd=async(t,e)=>{await t.removeItem(e)};class rp{constructor(){this.promise=new rp.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}rp.promiseConstructor=Promise;function bm(t){const e=t.split(".");if(e.length!==3)throw new nc("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Nz.test(e[r]))throw new nc("JWT not in base64url format");return{header:JSON.parse(fT(e[0])),payload:JSON.parse(fT(e[1])),signature:Bz(e[2]),raw:{header:e[0],payload:e[1]}}}async function Qz(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Yz(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Jz(t){return("0"+t.toString(16)).substr(-2)}function Xz(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Jz).join("")}async function Zz(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function e8(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Zz(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function So(t,e,n=!1){const r=Xz();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await RP(t,`${e}-code-verifier`,s);const i=await e8(r);return[i,r===i?"plain":"s256"]}const t8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function n8(t){const e=t.headers.get(hy);if(!e||!e.match(t8))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function r8(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function s8(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const i8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Io(t){if(!i8.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var o8=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Ni=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),a8=[502,503,504];async function pT(t){var e;if(!Kz(t))throw new fy(Ni(t),0);if(a8.includes(t.status))throw new fy(Ni(t),t.status);let n;try{n=await t.json()}catch(i){throw new AP(Ni(i),i)}let r;const s=n8(t);if(s&&s.getTime()>=CP["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new uT(Ni(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ms}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new uT(Ni(n),t.status,n.weak_password.reasons);throw new Dz(Ni(n),t.status||500,r)}const l8=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function pe(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[hy]||(i[hy]=CP["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await c8(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function c8(t,e,n,r,s,i){const o=l8(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new fy(Ni(l),0)}if(a.ok||await pT(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await pT(l)}}function Cr(t){var e;let n=null;f8(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Wz(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function mT(t){const e=Cr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ss(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function u8(t){return{data:t,error:null}}function d8(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=o8(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function h8(t){return t}function f8(t){return t.access_token&&t.refresh_token&&t.expires_in}const Tm=["global","local","others"];var p8=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class m8{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=PP(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Tm[0]){if(Tm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tm.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ss})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=p8(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:d8,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ss})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:h8});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(T=>{const w=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(T.split(";")[1].split("=")[1]);u[`${E}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ue(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Io(e);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ss})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Io(e);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ss})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Io(e);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ss})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Io(e.userId);try{const{data:n,error:r}=await pe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Io(e.userId),Io(e.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}}const g8={getItem:t=>rc()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{rc()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{rc()&&globalThis.localStorage.removeItem(t)}};function gT(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function y8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Co={debug:!!(globalThis&&rc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class NP extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class v8 extends NP{}async function w8(t,e,n){Co.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Co.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Co.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Co.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Co.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new v8(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Co.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}y8();const _8={url:kz,storageKey:Pz,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Rz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function yT(t,e,n){return await n()}class Uc{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Uc.nextInstanceID,Uc.nextInstanceID+=1,this.instanceID>0&&Nn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},_8),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new m8({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=PP(s.fetch),this.lock=s.lock||yT,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Nn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=w8:this.lock=yT,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:rc()?this.storage=g8:(this.memoryStorage={},this.storage=gT(this.memoryStorage)):(this.memoryStorage={},this.storage=gT(this.memoryStorage)),Nn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${IP}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Gz(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Nn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),jz(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ue(n)?{error:n}:{error:new AP("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Cr}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let m=null,T=null;this.flowType==="pkce"&&([m,T]=await So(this.storage,this.storageKey)),i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:T},xform:Cr})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Cr})}else throw new md("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:mT})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:mT})}else throw new md("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new pd}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,l,u,d,h,f,m;let T,w;if("message"in e)T=e.message,w=e.signature;else{const{chain:E,wallet:_,statement:y,options:b}=e;let C;if(Nn())if(typeof _=="object")C=_;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))C=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=_}const D=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const L=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),y?{statement:y}:null));let I;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")I=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)I=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)T=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),w=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${D.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(s=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const L=await C.signMessage(new TextEncoder().encode(T),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=L}}try{const{data:E,error:_}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Hz(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Cr});if(_)throw _;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new pd}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:_})}catch(E){if(ue(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(e){const n=await yd(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Cr});if(await vd(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new pd}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ue(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Cr}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new pd}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await So(this.storage,this.storageKey));const{error:h}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new md("You must provide either an email or phone number.")}catch(a){if(ue(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Cr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(ue(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await So(this.storage,this.storageKey)),await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:u8})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ms;const{error:s}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(ue(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new md("You must provide either an email or phone number and a type")}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await yd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<_m:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ss}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ms}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ss})})}catch(n){if(ue(n))return Mz(n)&&(await this._removeSession(),await vd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new ms;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await So(this.storage,this.storageKey));const{data:u,error:d}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ss});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ms;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=bm(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(ue(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ms;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Nn())throw new gd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new gd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new cT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new cT("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new gd("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const m=f-d;m*1e3<=Oo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const T=f-h;d-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,f,d):d-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,f,d);const{data:w,error:E}=await this._getUser(i);if(E)throw E;const _={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(r){if(ue(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await yd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Lz(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await vd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=qz(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await So(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Nn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ue(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Yz(async s=>(s>0&&await Qz(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Cr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Em(i)&&Date.now()+o-r<Oo})}catch(r){if(this._debug(n,"error",r),ue(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Nn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await yd(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<_m;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${_m}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Em(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ms;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new rp;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new ms;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),ue(i)){const o={session:null,error:i};return Em(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await RP(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await vd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Nn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Oo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Oo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Oo}ms, refresh threshold is ${dy} ticks`),s<=dy&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof NP)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await So(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await pe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(ue(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ue(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=bm(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Oz>Date.now()))return r;const{data:s,error:i}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new nc("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===e),!r)throw new nc("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:m,error:T}=await this.getSession();if(T||!m.session)return{data:null,error:T};r=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=bm(r);if(r8(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const u=s8(s.alg),d=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,zz(`${a}.${l}`)))throw new nc("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}}Uc.nextInstanceID=0;const E8=Uc;class b8 extends E8{constructor(e){super(e)}}var T8=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class x8{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Cz(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:wz,realtime:Ez,auth:Object.assign(Object.assign({},_z),{storageKey:u}),global:vz},h=Az(r??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Sz(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new BB(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new vB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new mz(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return T8(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new b8({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new tz(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const S8=(t,e,n)=>new x8(t,e,n),I8="https://bcyrsygxvubmkksqzwzu.supabase.co",C8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjeXJzeWd4dnVibWtrc3F6d3p1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4MzMzNDksImV4cCI6MjA2NTQwOTM0OX0.WsHBmBj06gS4u4myrjbz2d7f4FYH0FUAAc_rZNO93HE",A8=S8(I8,C8),k8=()=>{const[t,e]=x.useState(""),[n,r]=x.useState(""),[s,i]=x.useState(!1),[o]=Zj(),a=$a(),{toast:l}=ci();x.useEffect(()=>{const d=o.get("access_token"),h=o.get("type");(!d||h!=="recovery")&&(l({title:"Invalid reset link",description:"This password reset link is invalid or has expired",variant:"destructive"}),a("/"))},[o,a,l]);const u=async d=>{if(d.preventDefault(),t!==n){l({title:"Passwords don't match",description:"Please make sure both passwords are the same",variant:"destructive"});return}if(t.length<6){l({title:"Password too short",description:"Password must be at least 6 characters long",variant:"destructive"});return}i(!0);const{error:h}=await A8.auth.updateUser({password:t});h?l({title:"Error updating password",description:h.message,variant:"destructive"}):(l({title:"Password updated successfully!",description:"You can now log in with your new password"}),a("/")),i(!1)};return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-gray-800 text-white flex items-center justify-center p-6",children:g.jsxs(Yf,{className:"w-full max-w-md bg-gray-900 border-gray-700",children:[g.jsx(R0,{children:g.jsx(N0,{className:"text-2xl font-bold text-center text-white",children:"Reset Your Password"})}),g.jsx(O0,{children:g.jsxs("form",{onSubmit:u,className:"space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(an,{htmlFor:"password",children:"New Password"}),g.jsx(Hn,{id:"password",type:"password",value:t,onChange:d=>e(d.target.value),className:"bg-gray-800 border-gray-600 text-white",required:!0,minLength:6})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(an,{htmlFor:"confirmPassword",children:"Confirm New Password"}),g.jsx(Hn,{id:"confirmPassword",type:"password",value:n,onChange:d=>r(d.target.value),className:"bg-gray-800 border-gray-600 text-white",required:!0,minLength:6})]}),g.jsx(dt,{type:"submit",className:"w-full bg-orange-500 hover:bg-orange-600",disabled:s,children:s?"Updating...":"Update Password"})]})})]})})},P8=()=>{const t=Xc();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),g.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),g.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},R8=new ZM,N8=()=>g.jsx(tj,{client:R8,children:g.jsx(kM,{children:g.jsxs(ZA,{children:[g.jsx(bD,{}),g.jsx(eL,{}),g.jsx(Xj,{children:g.jsxs(Kj,{children:[g.jsx(Ao,{path:"/",element:g.jsx(nB,{})}),g.jsx(Ao,{path:"/communities",element:g.jsx(cB,{})}),g.jsx(Ao,{path:"/community/:id",element:g.jsx(uB,{})}),g.jsx(Ao,{path:"/reset-password",element:g.jsx(k8,{})}),g.jsx(Ao,{path:"*",element:g.jsx(P8,{})})]})})]})})});US(document.getElementById("root")).render(g.jsx(ZA,{children:g.jsx(N8,{})}));
